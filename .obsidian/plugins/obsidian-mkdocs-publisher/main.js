/** GENERATED BY OBSIDIAN-PLUGIN-CLI, DO NOT EDIT */
var oc=Object.create;var nr=Object.defineProperty;var uc=Object.getOwnPropertyDescriptor;var lc=Object.getOwnPropertyNames;var cc=Object.getPrototypeOf,dc=Object.prototype.hasOwnProperty;var As=t=>nr(t,"__esModule",{value:!0});var it=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ei=(t,e)=>{As(t);for(var n in e)nr(t,n,{get:e[n],enumerable:!0})},hc=(t,e,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of lc(e))!dc.call(t,r)&&r!=="default"&&nr(t,r,{get:()=>e[r],enumerable:!(n=uc(e,r))||n.enumerable});return t},W=t=>hc(As(nr(t!=null?oc(cc(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var g=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{o(n.next(u))}catch(c){i(c)}},a=u=>{try{o(n.throw(u))}catch(c){i(c)}},o=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,a);o((n=n.apply(t,e)).next())});var rs=it(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});require("obsidian");var mt=class extends Error{},Ba=class extends mt{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},Ia=class extends mt{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},ja=class extends mt{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},on=class extends mt{},Pi=class extends mt{constructor(e){super(`Invalid unit ${e}`)}},ke=class extends mt{},at=class extends mt{constructor(){super("Zone is an abstract class")}},R="numeric",_e="short",Ce="long",wr={year:R,month:R,day:R},Ga={year:R,month:_e,day:R},Dd={year:R,month:_e,day:R,weekday:_e},_a={year:R,month:Ce,day:R},Va={year:R,month:Ce,day:R,weekday:Ce},$a={hour:R,minute:R},Ha={hour:R,minute:R,second:R},Ua={hour:R,minute:R,second:R,timeZoneName:_e},qa={hour:R,minute:R,second:R,timeZoneName:Ce},Wa={hour:R,minute:R,hourCycle:"h23"},Ka={hour:R,minute:R,second:R,hourCycle:"h23"},za={hour:R,minute:R,second:R,hourCycle:"h23",timeZoneName:_e},Ya={hour:R,minute:R,second:R,hourCycle:"h23",timeZoneName:Ce},Za={year:R,month:R,day:R,hour:R,minute:R},Ja={year:R,month:R,day:R,hour:R,minute:R,second:R},Qa={year:R,month:_e,day:R,hour:R,minute:R},Xa={year:R,month:_e,day:R,hour:R,minute:R,second:R},vd={year:R,month:_e,day:R,weekday:_e,hour:R,minute:R},eo={year:R,month:Ce,day:R,hour:R,minute:R,timeZoneName:_e},to={year:R,month:Ce,day:R,hour:R,minute:R,second:R,timeZoneName:_e},no={year:R,month:Ce,day:R,weekday:Ce,hour:R,minute:R,timeZoneName:Ce},ro={year:R,month:Ce,day:R,weekday:Ce,hour:R,minute:R,second:R,timeZoneName:Ce},un=class{get type(){throw new at}get name(){throw new at}get ianaName(){return this.name}get isUniversal(){throw new at}offsetName(e,n){throw new at}formatOffset(e,n){throw new at}offset(e){throw new at}equals(e){throw new at}get isValid(){throw new at}},Ri=null,An=class extends un{static get instance(){return Ri===null&&(Ri=new An),Ri}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return Do(e,n,r)}formatOffset(e,n){return Bn(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}},Fr={};function wd(t){return Fr[t]||(Fr[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Fr[t]}var Fd={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function xd(t,e){let n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,a,o,u,c,d]=r;return[a,i,s,o,u,c,d]}function Ed(t,e){let n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){let{type:s,value:a}=n[i],o=Fd[s];s==="era"?r[o]=a:H(o)||(r[o]=parseInt(a,10))}return r}var xr={},Je=class extends un{static create(e){return xr[e]||(xr[e]=new Je(e)),xr[e]}static resetCache(){xr={},Fr={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(n){return!1}}constructor(e){super();this.zoneName=e,this.valid=Je.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return Do(e,n,r,this.name)}formatOffset(e,n){return Bn(this.offset(e),n)}offset(e){let n=new Date(e);if(isNaN(n))return NaN;let r=wd(this.name),[i,s,a,o,u,c,d]=r.formatToParts?Ed(r,n):xd(r,n);o==="BC"&&(i=-Math.abs(i)+1);let m=Gi({year:i,month:s,day:a,hour:u===24?0:u,minute:c,second:d,millisecond:0}),y=+n,F=y%1e3;return y-=F>=0?F:1e3+F,(m-y)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}},io={};function kd(t,e={}){let n=JSON.stringify([t,e]),r=io[n];return r||(r=new Intl.ListFormat(t,e),io[n]=r),r}var Ai={};function Ni(t,e={}){let n=JSON.stringify([t,e]),r=Ai[n];return r||(r=new Intl.DateTimeFormat(t,e),Ai[n]=r),r}var Li={};function Cd(t,e={}){let n=JSON.stringify([t,e]),r=Li[n];return r||(r=new Intl.NumberFormat(t,e),Li[n]=r),r}var Mi={};function Sd(t,e={}){let{base:n,...r}=e,i=JSON.stringify([t,r]),s=Mi[i];return s||(s=new Intl.RelativeTimeFormat(t,e),Mi[i]=s),s}var Nn=null;function Td(){return Nn||(Nn=new Intl.DateTimeFormat().resolvedOptions().locale,Nn)}function Od(t){let e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));let n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=Ni(t).resolvedOptions(),i=t}catch(o){let u=t.substring(0,n);r=Ni(u).resolvedOptions(),i=u}let{numberingSystem:s,calendar:a}=r;return[i,s,a]}}function Pd(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function Rd(t){let e=[];for(let n=1;n<=12;n++){let r=M.utc(2016,n,1);e.push(t(r))}return e}function Ad(t){let e=[];for(let n=1;n<=7;n++){let r=M.utc(2016,11,13+n);e.push(t(r))}return e}function Er(t,e,n,r,i){let s=t.listingMode(n);return s==="error"?null:s==="en"?r(e):i(e)}function Nd(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}var so=class{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;let{padTo:i,floor:s,...a}=r;if(!n||Object.keys(a).length>0){let o={useGrouping:!1,...r};r.padTo>0&&(o.minimumIntegerDigits=r.padTo),this.inf=Cd(e,o)}}format(e){if(this.inf){let n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{let n=this.floor?Math.floor(e):ji(e,3);return ee(n,this.padTo)}}},ao=class{constructor(e,n,r){this.opts=r;let i;if(e.zone.isUniversal){let a=-1*(e.offset/60),o=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&Je.create(o).valid?(i=o,this.dt=e):(i="UTC",r.timeZoneName?this.dt=e:this.dt=e.offset===0?e:M.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,i=e.zone.name);let s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=Ni(n,s)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}},oo=class{constructor(e,n,r){this.opts={style:"long",...r},!n&&bo()&&(this.rtf=Sd(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):Yd(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}},z=class{static fromOpts(e){return z.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,n,r,i=!1){let s=e||X.defaultLocale,a=s||(i?"en-US":Td()),o=n||X.defaultNumberingSystem,u=r||X.defaultOutputCalendar;return new z(a,o,u,s)}static resetCache(){Nn=null,Ai={},Li={},Mi={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r}={}){return z.create(e,n,r)}constructor(e,n,r,i){let[s,a,o]=Od(e);this.locale=s,this.numberingSystem=n||a||null,this.outputCalendar=r||o||null,this.intl=Pd(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Nd(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:z.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1,r=!0){return Er(this,e,r,Fo,()=>{let i=n?{month:e,day:"numeric"}:{month:e},s=n?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=Rd(a=>this.extract(a,i,"month"))),this.monthsCache[s][e]})}weekdays(e,n=!1,r=!0){return Er(this,e,r,ko,()=>{let i=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=n?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=Ad(a=>this.extract(a,i,"weekday"))),this.weekdaysCache[s][e]})}meridiems(e=!0){return Er(this,void 0,e,()=>Co,()=>{if(!this.meridiemCache){let n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[M.utc(2016,11,13,9),M.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(e,n=!0){return Er(this,e,n,So,()=>{let r={era:e};return this.eraCache[e]||(this.eraCache[e]=[M.utc(-40,1,1),M.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[e]})}extract(e,n,r){let i=this.dtFormatter(e,n),s=i.formatToParts(),a=s.find(o=>o.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new so(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new ao(e,this.intl,n)}relFormatter(e={}){return new oo(this.intl,this.isEnglish(),e)}listFormatter(e={}){return kd(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}},Bi=null,me=class extends un{static get utcInstance(){return Bi===null&&(Bi=new me(0)),Bi}static instance(e){return e===0?me.utcInstance:new me(e)}static parseSpecifier(e){if(e){let n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new me(Tr(n[1],n[2]))}return null}constructor(e){super();this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Bn(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Bn(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Bn(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}},uo=class extends un{constructor(e){super();this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function gt(t,e){if(H(t)||t===null)return e;if(t instanceof un)return t;if(Ld(t)){let n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?An.instance:n==="utc"||n==="gmt"?me.utcInstance:me.parseSpecifier(n)||Je.create(t)}else return Mt(t)?me.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new uo(t)}var lo=()=>Date.now(),co="system",ho=null,fo=null,po=null,mo=60,go,X=class{static get now(){return lo}static set now(e){lo=e}static set defaultZone(e){co=e}static get defaultZone(){return gt(co,An.instance)}static get defaultLocale(){return ho}static set defaultLocale(e){ho=e}static get defaultNumberingSystem(){return fo}static set defaultNumberingSystem(e){fo=e}static get defaultOutputCalendar(){return po}static set defaultOutputCalendar(e){po=e}static get twoDigitCutoffYear(){return mo}static set twoDigitCutoffYear(e){mo=e%100}static get throwOnInvalid(){return go}static set throwOnInvalid(e){go=e}static resetCaches(){z.resetCache(),Je.resetCache()}};function H(t){return typeof t=="undefined"}function Mt(t){return typeof t=="number"}function kr(t){return typeof t=="number"&&t%1==0}function Ld(t){return typeof t=="string"}function Md(t){return Object.prototype.toString.call(t)==="[object Date]"}function bo(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function Bd(t){return Array.isArray(t)?t:[t]}function yo(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{let s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function Id(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function ln(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ot(t,e,n){return kr(t)&&t>=e&&t<=n}function jd(t,e){return t-e*Math.floor(t/e)}function ee(t,e=2){let n=t<0,r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function bt(t){if(!(H(t)||t===null||t===""))return parseInt(t,10)}function Bt(t){if(!(H(t)||t===null||t===""))return parseFloat(t)}function Ii(t){if(!(H(t)||t===null||t==="")){let e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function ji(t,e,n=!1){let r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Ln(t){return t%4==0&&(t%100!=0||t%400==0)}function Mn(t){return Ln(t)?366:365}function Cr(t,e){let n=jd(e-1,12)+1,r=t+(e-n)/12;return n===2?Ln(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Gi(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function Sr(t){let e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,n=t-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return e===4||r===3?53:52}function _i(t){return t>99?t:t>X.twoDigitCutoffYear?1900+t:2e3+t}function Do(t,e,n,r=null){let i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);let a={timeZoneName:e,...s},o=new Intl.DateTimeFormat(n,a).formatToParts(i).find(u=>u.type.toLowerCase()==="timezonename");return o?o.value:null}function Tr(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);let r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function vo(t){let e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new ke(`Invalid unit value ${t}`);return e}function Or(t,e){let n={};for(let r in t)if(ln(t,r)){let i=t[r];if(i==null)continue;n[e(r)]=vo(i)}return n}function Bn(t,e){let n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${ee(n,2)}:${ee(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${ee(n,2)}${ee(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Pr(t){return Id(t,["hour","minute","second","millisecond"])}var Gd=["January","February","March","April","May","June","July","August","September","October","November","December"],wo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_d=["J","F","M","A","M","J","J","A","S","O","N","D"];function Fo(t){switch(t){case"narrow":return[..._d];case"short":return[...wo];case"long":return[...Gd];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var xo=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Eo=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Vd=["M","T","W","T","F","S","S"];function ko(t){switch(t){case"narrow":return[...Vd];case"short":return[...Eo];case"long":return[...xo];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Co=["AM","PM"],$d=["Before Christ","Anno Domini"],Hd=["BC","AD"],Ud=["B","A"];function So(t){switch(t){case"narrow":return[...Ud];case"short":return[...Hd];case"long":return[...$d];default:return null}}function qd(t){return Co[t.hour<12?0:1]}function Wd(t,e){return ko(e)[t.weekday-1]}function Kd(t,e){return Fo(e)[t.month-1]}function zd(t,e){return So(e)[t.year<0?0:1]}function Yd(t,e,n="always",r=!1){let i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){let f=t==="days";switch(e){case 1:return f?"tomorrow":`next ${i[t][0]}`;case-1:return f?"yesterday":`last ${i[t][0]}`;case 0:return f?"today":`this ${i[t][0]}`}}let a=Object.is(e,-0)||e<0,o=Math.abs(e),u=o===1,c=i[t],d=r?u?c[1]:c[2]||c[1]:u?i[t][0]:t;return a?`${o} ${d} ago`:`in ${o} ${d}`}function To(t,e){let n="";for(let r of t)r.literal?n+=r.val:n+=e(r.val);return n}var Zd={D:wr,DD:Ga,DDD:_a,DDDD:Va,t:$a,tt:Ha,ttt:Ua,tttt:qa,T:Wa,TT:Ka,TTT:za,TTTT:Ya,f:Za,ff:Qa,fff:eo,ffff:no,F:Ja,FF:Xa,FFF:to,FFFF:ro},ue=class{static create(e,n={}){return new ue(e,n)}static parseFormat(e){let n=null,r="",i=!1,s=[];for(let a=0;a<e.length;a++){let o=e.charAt(a);o==="'"?(r.length>0&&s.push({literal:i,val:r}),n=null,r="",i=!i):i||o===n?r+=o:(r.length>0&&s.push({literal:!1,val:r}),r=o,n=o)}return r.length>0&&s.push({literal:i,val:r}),s}static macroTokenToFormatOpts(e){return Zd[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTime(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTimeParts(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).formatToParts()}formatInterval(e,n={}){return this.loc.dtFormatter(e.start,{...this.opts,...n}).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return ee(e,n);let r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){let r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(y,F)=>this.loc.extract(e,y,F),a=y=>e.isOffsetFixed&&e.offset===0&&y.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,y.format):"",o=()=>r?qd(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(y,F)=>r?Kd(e,y):s(F?{month:y}:{month:y,day:"numeric"},"month"),c=(y,F)=>r?Wd(e,y):s(F?{weekday:y}:{weekday:y,month:"long",day:"numeric"},"weekday"),d=y=>{let F=ue.macroTokenToFormatOpts(y);return F?this.formatWithSystemDefault(e,F):y},f=y=>r?zd(e,y):s({era:y},"era"),m=y=>{switch(y){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return d(y)}};return To(ue.parseFormat(n),m)}formatDurationFromString(e,n){let r=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=u=>c=>{let d=r(c);return d?this.num(u.get(d),c.length):c},s=ue.parseFormat(n),a=s.reduce((u,{literal:c,val:d})=>c?u:u.concat(d),[]),o=e.shiftTo(...a.map(r).filter(u=>u));return To(s,i(o))}},Re=class{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},Oo=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function cn(...t){let e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function dn(...t){return e=>t.reduce(([n,r,i],s)=>{let[a,o,u]=s(e,i);return[{...n,...a},o||r,u]},[{},null,1]).slice(0,2)}function hn(t,...e){if(t==null)return[null,null];for(let[n,r]of e){let i=n.exec(t);if(i)return r(i)}return[null,null]}function Po(...t){return(e,n)=>{let r={},i;for(i=0;i<t.length;i++)r[t[i]]=bt(e[n+i]);return[r,null,n+i]}}var Ro=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Jd=`(?:${Ro.source}?(?:\\[(${Oo.source})\\])?)?`,Vi=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Ao=RegExp(`${Vi.source}${Jd}`),$i=RegExp(`(?:T${Ao.source})?`),Qd=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Xd=/(\d{4})-?W(\d\d)(?:-?(\d))?/,eh=/(\d{4})-?(\d{3})/,th=Po("weekYear","weekNumber","weekDay"),nh=Po("year","ordinal"),rh=/(\d{4})-(\d\d)-(\d\d)/,No=RegExp(`${Vi.source} ?(?:${Ro.source}|(${Oo.source}))?`),ih=RegExp(`(?: ${No.source})?`);function fn(t,e,n){let r=t[e];return H(r)?n:bt(r)}function sh(t,e){return[{year:fn(t,e),month:fn(t,e+1,1),day:fn(t,e+2,1)},null,e+3]}function pn(t,e){return[{hours:fn(t,e,0),minutes:fn(t,e+1,0),seconds:fn(t,e+2,0),milliseconds:Ii(t[e+3])},null,e+4]}function In(t,e){let n=!t[e]&&!t[e+1],r=Tr(t[e+1],t[e+2]),i=n?null:me.instance(r);return[{},i,e+3]}function jn(t,e){let n=t[e]?Je.create(t[e]):null;return[{},n,e+1]}var ah=RegExp(`^T?${Vi.source}$`),oh=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function uh(t){let[e,n,r,i,s,a,o,u,c]=t,d=e[0]==="-",f=u&&u[0]==="-",m=(y,F=!1)=>y!==void 0&&(F||y&&d)?-y:y;return[{years:m(Bt(n)),months:m(Bt(r)),weeks:m(Bt(i)),days:m(Bt(s)),hours:m(Bt(a)),minutes:m(Bt(o)),seconds:m(Bt(u),u==="-0"),milliseconds:m(Ii(c),f)}]}var lh={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Hi(t,e,n,r,i,s,a){let o={year:e.length===2?_i(bt(e)):bt(e),month:wo.indexOf(n)+1,day:bt(r),hour:bt(i),minute:bt(s)};return a&&(o.second=bt(a)),t&&(o.weekday=t.length>3?xo.indexOf(t)+1:Eo.indexOf(t)+1),o}var ch=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function dh(t){let[,e,n,r,i,s,a,o,u,c,d,f]=t,m=Hi(e,i,r,n,s,a,o),y;return u?y=lh[u]:c?y=0:y=Tr(d,f),[m,new me(y)]}function hh(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var fh=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ph=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,mh=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Lo(t){let[,e,n,r,i,s,a,o]=t;return[Hi(e,i,r,n,s,a,o),me.utcInstance]}function gh(t){let[,e,n,r,i,s,a,o]=t;return[Hi(e,o,n,r,i,s,a),me.utcInstance]}var bh=cn(Qd,$i),yh=cn(Xd,$i),Dh=cn(eh,$i),vh=cn(Ao),Mo=dn(sh,pn,In,jn),wh=dn(th,pn,In,jn),Fh=dn(nh,pn,In,jn),xh=dn(pn,In,jn);function Eh(t){return hn(t,[bh,Mo],[yh,wh],[Dh,Fh],[vh,xh])}function kh(t){return hn(hh(t),[ch,dh])}function Ch(t){return hn(t,[fh,Lo],[ph,Lo],[mh,gh])}function Sh(t){return hn(t,[oh,uh])}var Th=dn(pn);function Oh(t){return hn(t,[ah,Th])}var Ph=cn(rh,ih),Rh=cn(No),Ah=dn(pn,In,jn);function Nh(t){return hn(t,[Ph,Mo],[Rh,Ah])}var Lh="Invalid Duration",Bo={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Mh={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Bo},Ae=146097/400,mn=146097/4800,Bh={years:{quarters:4,months:12,weeks:Ae/7,days:Ae,hours:Ae*24,minutes:Ae*24*60,seconds:Ae*24*60*60,milliseconds:Ae*24*60*60*1e3},quarters:{months:3,weeks:Ae/28,days:Ae/4,hours:Ae*24/4,minutes:Ae*24*60/4,seconds:Ae*24*60*60/4,milliseconds:Ae*24*60*60*1e3/4},months:{weeks:mn/7,days:mn,hours:mn*24,minutes:mn*24*60,seconds:mn*24*60*60,milliseconds:mn*24*60*60*1e3},...Bo},It=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ih=It.slice(0).reverse();function yt(t,e,n=!1){let r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new A(r)}function jh(t){return t<0?Math.floor(t):Math.ceil(t)}function Io(t,e,n,r,i){let s=t[i][n],a=e[n]/s,o=Math.sign(a)===Math.sign(r[i]),u=!o&&r[i]!==0&&Math.abs(a)<=1?jh(a):Math.trunc(a);r[i]+=u,e[n]-=u*s}function Gh(t,e){Ih.reduce((n,r)=>H(e[r])?n:(n&&Io(t,e,n,e,r),r),null)}function _h(t){let e={};for(let[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}var A=class{constructor(e){let n=e.conversionAccuracy==="longterm"||!1,r=n?Bh:Mh;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||z.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return A.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new ke(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new A({values:Or(e,A.normalizeUnit),loc:z.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(Mt(e))return A.fromMillis(e);if(A.isDuration(e))return e;if(typeof e=="object")return A.fromObject(e);throw new ke(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){let[r]=Sh(e);return r?A.fromObject(r,n):A.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){let[r]=Oh(e);return r?A.fromObject(r,n):A.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new ke("need to specify a reason the Duration is invalid");let r=e instanceof Re?e:new Re(e,n);if(X.throwOnInvalid)throw new ja(r);return new A({invalid:r})}static normalizeUnit(e){let n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Pi(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){let r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?ue.create(this.loc,r).formatDurationFromString(this,e):Lh}toHuman(e={}){let n=It.map(r=>{let i=this.values[r];return H(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=ji(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let n=this.toMillis();if(n<0||n>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};let r=this.shiftTo("hours","minutes","seconds","milliseconds"),i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||r.milliseconds!==0)&&(i+=".SSS"));let s=r.toFormat(i);return e.includePrefix&&(s="T"+s),s}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let n=A.fromDurationLike(e),r={};for(let i of It)(ln(n.values,i)||ln(this.values,i))&&(r[i]=n.get(i)+this.get(i));return yt(this,{values:r},!0)}minus(e){if(!this.isValid)return this;let n=A.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;let n={};for(let r of Object.keys(this.values))n[r]=vo(e(this.values[r],r));return yt(this,{values:n},!0)}get(e){return this[A.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let n={...this.values,...Or(e,A.normalizeUnit)};return yt(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){let a={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return yt(this,a)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return Gh(this.matrix,e),yt(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=_h(this.normalize().shiftToAll().toObject());return yt(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>A.normalizeUnit(a));let n={},r={},i=this.toObject(),s;for(let a of It)if(e.indexOf(a)>=0){s=a;let o=0;for(let c in r)o+=this.matrix[c][a]*r[c],r[c]=0;Mt(i[a])&&(o+=i[a]);let u=Math.trunc(o);n[a]=u,r[a]=(o*1e3-u*1e3)/1e3;for(let c in i)It.indexOf(c)>It.indexOf(a)&&Io(this.matrix,i,c,n,a)}else Mt(i[a])&&(r[a]=i[a]);for(let a in r)r[a]!==0&&(n[s]+=a===s?r[a]:r[a]/this.matrix[s][a]);return yt(this,{values:n},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return yt(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(let r of It)if(!n(this.values[r],e.values[r]))return!1;return!0}},gn="Invalid Interval";function Vh(t,e){return!t||!t.isValid?J.invalid("missing or invalid start"):!e||!e.isValid?J.invalid("missing or invalid end"):e<t?J.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}var J=class{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new ke("need to specify a reason the Interval is invalid");let r=e instanceof Re?e:new Re(e,n);if(X.throwOnInvalid)throw new Ia(r);return new J({invalid:r})}static fromDateTimes(e,n){let r=$n(e),i=$n(n),s=Vh(r,i);return s??new J({start:r,end:i})}static after(e,n){let r=A.fromDurationLike(n),i=$n(e);return J.fromDateTimes(i,i.plus(r))}static before(e,n){let r=A.fromDurationLike(n),i=$n(e);return J.fromDateTimes(i.minus(r),i)}static fromISO(e,n){let[r,i]=(e||"").split("/",2);if(r&&i){let s,a;try{s=M.fromISO(r,n),a=s.isValid}catch(c){a=!1}let o,u;try{o=M.fromISO(i,n),u=o.isValid}catch(c){u=!1}if(a&&u)return J.fromDateTimes(s,o);if(a){let c=A.fromISO(i,n);if(c.isValid)return J.after(s,c)}else if(u){let c=A.fromISO(r,n);if(c.isValid)return J.before(o,c)}}return J.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let n=this.start.startOf(e),r=this.end.startOf(e);return Math.floor(r.diff(n,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?J.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];let n=e.map($n).filter(a=>this.contains(a)).sort(),r=[],{s:i}=this,s=0;for(;i<this.e;){let a=n[s]||this.e,o=+a>+this.e?this.e:a;r.push(J.fromDateTimes(i,o)),i=o,s+=1}return r}splitBy(e){let n=A.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s,a=[];for(;r<this.e;){let o=this.start.plus(n.mapUnits(u=>u*i));s=+o>+this.e?this.e:o,a.push(J.fromDateTimes(r,s)),r=s,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:J.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;let n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return J.fromDateTimes(n,r)}static merge(e){let[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[i,s.union(a)]:[i.concat([s]),a]:[i,a],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0,i=[],s=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),a=Array.prototype.concat(...s),o=a.sort((u,c)=>u.time-c.time);for(let u of o)r+=u.type==="s"?1:-1,r===1?n=u.time:(n&&+n!=+u.time&&i.push(J.fromDateTimes(n,u.time)),n=null);return J.merge(i)}difference(...e){return J.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:gn}toLocaleString(e=wr,n={}){return this.isValid?ue.create(this.s.loc.clone(n),e).formatInterval(this):gn}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:gn}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:gn}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:gn}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:gn}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):A.invalid(this.invalidReason)}mapEndpoints(e){return J.fromDateTimes(e(this.s),e(this.e))}},Gn=class{static hasDST(e=X.defaultZone){let n=M.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Je.isValidZone(e)}static normalizeZone(e){return gt(e,X.defaultZone)}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||z.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||z.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||z.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||z.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return z.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return z.create(n,null,"gregory").eras(e)}static features(){return{relative:bo()}}};function jo(t,e){let n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(A.fromMillis(r).as("days"))}function $h(t,e,n){let r=[["years",(u,c)=>c.year-u.year],["quarters",(u,c)=>c.quarter-u.quarter+(c.year-u.year)*4],["months",(u,c)=>c.month-u.month+(c.year-u.year)*12],["weeks",(u,c)=>{let d=jo(u,c);return(d-d%7)/7}],["days",jo]],i={},s=t,a,o;for(let[u,c]of r)n.indexOf(u)>=0&&(a=u,i[u]=c(t,e),o=s.plus(i),o>e?(i[u]--,t=s.plus(i)):t=o);return[t,i,o,a]}function Hh(t,e,n,r){let[i,s,a,o]=$h(t,e,n),u=e-i,c=n.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);c.length===0&&(a<e&&(a=i.plus({[o]:1})),a!==i&&(s[o]=(s[o]||0)+u/(a-i)));let d=A.fromObject(s,r);return c.length>0?A.fromMillis(u,r).shiftTo(...c).plus(d):d}var Ui={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Go={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Uh=Ui.hanidec.replace(/[\[|\]]/g,"").split("");function qh(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(t[n].search(Ui.hanidec)!==-1)e+=Uh.indexOf(t[n]);else for(let i in Go){let[s,a]=Go[i];r>=s&&r<=a&&(e+=r-s)}}return parseInt(e,10)}else return e}function Ve({numberingSystem:t},e=""){return new RegExp(`${Ui[t||"latn"]}${e}`)}var Wh="missing Intl.DateTimeFormat.formatToParts support";function q(t,e=n=>n){return{regex:t,deser:([n])=>e(qh(n))}}var Kh=String.fromCharCode(160),_o=`[ ${Kh}]`,Vo=new RegExp(_o,"g");function zh(t){return t.replace(/\./g,"\\.?").replace(Vo,_o)}function $o(t){return t.replace(/\./g,"").replace(Vo," ").toLowerCase()}function $e(t,e){return t===null?null:{regex:RegExp(t.map(zh).join("|")),deser:([n])=>t.findIndex(r=>$o(n)===$o(r))+e}}function Ho(t,e){return{regex:t,deser:([,n,r])=>Tr(n,r),groups:e}}function qi(t){return{regex:t,deser:([e])=>e}}function Yh(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Zh(t,e){let n=Ve(e),r=Ve(e,"{2}"),i=Ve(e,"{3}"),s=Ve(e,"{4}"),a=Ve(e,"{6}"),o=Ve(e,"{1,2}"),u=Ve(e,"{1,3}"),c=Ve(e,"{1,6}"),d=Ve(e,"{1,9}"),f=Ve(e,"{2,4}"),m=Ve(e,"{4,6}"),y=C=>({regex:RegExp(Yh(C.val)),deser:([w])=>w,literal:!0}),k=(C=>{if(t.literal)return y(C);switch(C.val){case"G":return $e(e.eras("short",!1),0);case"GG":return $e(e.eras("long",!1),0);case"y":return q(c);case"yy":return q(f,_i);case"yyyy":return q(s);case"yyyyy":return q(m);case"yyyyyy":return q(a);case"M":return q(o);case"MM":return q(r);case"MMM":return $e(e.months("short",!0,!1),1);case"MMMM":return $e(e.months("long",!0,!1),1);case"L":return q(o);case"LL":return q(r);case"LLL":return $e(e.months("short",!1,!1),1);case"LLLL":return $e(e.months("long",!1,!1),1);case"d":return q(o);case"dd":return q(r);case"o":return q(u);case"ooo":return q(i);case"HH":return q(r);case"H":return q(o);case"hh":return q(r);case"h":return q(o);case"mm":return q(r);case"m":return q(o);case"q":return q(o);case"qq":return q(r);case"s":return q(o);case"ss":return q(r);case"S":return q(u);case"SSS":return q(i);case"u":return qi(d);case"uu":return qi(o);case"uuu":return q(n);case"a":return $e(e.meridiems(),0);case"kkkk":return q(s);case"kk":return q(f,_i);case"W":return q(o);case"WW":return q(r);case"E":case"c":return q(n);case"EEE":return $e(e.weekdays("short",!1,!1),1);case"EEEE":return $e(e.weekdays("long",!1,!1),1);case"ccc":return $e(e.weekdays("short",!0,!1),1);case"cccc":return $e(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Ho(new RegExp(`([+-]${o.source})(?::(${r.source}))?`),2);case"ZZZ":return Ho(new RegExp(`([+-]${o.source})(${r.source})?`),2);case"z":return qi(/[a-z_+-/]{1,256}?/i);default:return y(C)}})(t)||{invalidReason:Wh};return k.token=t,k}var Jh={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Qh(t,e){let{type:n,value:r}=t;if(n==="literal")return{literal:!0,val:r};let i=e[n],s=Jh[n];if(typeof s=="object"&&(s=s[i]),s)return{literal:!1,val:s}}function Xh(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function ef(t,e,n){let r=t.match(e);if(r){let i={},s=1;for(let a in n)if(ln(n,a)){let o=n[a],u=o.groups?o.groups+1:1;!o.literal&&o.token&&(i[o.token.val[0]]=o.deser(r.slice(s,s+u))),s+=u}return[r,i]}else return[r,{}]}function tf(t){let e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},n=null,r;return H(t.z)||(n=Je.create(t.z)),H(t.Z)||(n||(n=new me(t.Z)),r=t.Z),H(t.q)||(t.M=(t.q-1)*3+1),H(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),H(t.u)||(t.S=Ii(t.u)),[Object.keys(t).reduce((s,a)=>{let o=e(a);return o&&(s[o]=t[a]),s},{}),n,r]}var Wi=null;function nf(){return Wi||(Wi=M.fromMillis(1555555555555)),Wi}function rf(t,e){if(t.literal)return t;let n=ue.macroTokenToFormatOpts(t.val),r=Wo(n,e);return r==null||r.includes(void 0)?t:r}function Uo(t,e){return Array.prototype.concat(...t.map(n=>rf(n,e)))}function qo(t,e,n){let r=Uo(ue.parseFormat(n),t),i=r.map(a=>Zh(a,t)),s=i.find(a=>a.invalidReason);if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};{let[a,o]=Xh(i),u=RegExp(a,"i"),[c,d]=ef(e,u,o),[f,m,y]=d?tf(d):[null,null,void 0];if(ln(d,"a")&&ln(d,"H"))throw new on("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:u,rawMatches:c,matches:d,result:f,zone:m,specificOffset:y}}}function sf(t,e,n){let{result:r,zone:i,specificOffset:s,invalidReason:a}=qo(t,e,n);return[r,i,s,a]}function Wo(t,e){return t?ue.create(e,t).formatDateTimeParts(nf()).map(i=>Qh(i,t)):null}var Ko=[0,31,59,90,120,151,181,212,243,273,304,334],zo=[0,31,60,91,121,152,182,213,244,274,305,335];function Ne(t,e){return new Re("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Yo(t,e,n){let r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);let i=r.getUTCDay();return i===0?7:i}function Zo(t,e,n){return n+(Ln(t)?zo:Ko)[e-1]}function Jo(t,e){let n=Ln(t)?zo:Ko,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function Ki(t){let{year:e,month:n,day:r}=t,i=Zo(e,n,r),s=Yo(e,n,r),a=Math.floor((i-s+10)/7),o;return a<1?(o=e-1,a=Sr(o)):a>Sr(e)?(o=e+1,a=1):o=e,{weekYear:o,weekNumber:a,weekday:s,...Pr(t)}}function Qo(t){let{weekYear:e,weekNumber:n,weekday:r}=t,i=Yo(e,1,4),s=Mn(e),a=n*7+r-i-3,o;a<1?(o=e-1,a+=Mn(o)):a>s?(o=e+1,a-=Mn(e)):o=e;let{month:u,day:c}=Jo(o,a);return{year:o,month:u,day:c,...Pr(t)}}function zi(t){let{year:e,month:n,day:r}=t,i=Zo(e,n,r);return{year:e,ordinal:i,...Pr(t)}}function Xo(t){let{year:e,ordinal:n}=t,{month:r,day:i}=Jo(e,n);return{year:e,month:r,day:i,...Pr(t)}}function af(t){let e=kr(t.weekYear),n=ot(t.weekNumber,1,Sr(t.weekYear)),r=ot(t.weekday,1,7);return e?n?r?!1:Ne("weekday",t.weekday):Ne("week",t.week):Ne("weekYear",t.weekYear)}function of(t){let e=kr(t.year),n=ot(t.ordinal,1,Mn(t.year));return e?n?!1:Ne("ordinal",t.ordinal):Ne("year",t.year)}function eu(t){let e=kr(t.year),n=ot(t.month,1,12),r=ot(t.day,1,Cr(t.year,t.month));return e?n?r?!1:Ne("day",t.day):Ne("month",t.month):Ne("year",t.year)}function tu(t){let{hour:e,minute:n,second:r,millisecond:i}=t,s=ot(e,0,23)||e===24&&n===0&&r===0&&i===0,a=ot(n,0,59),o=ot(r,0,59),u=ot(i,0,999);return s?a?o?u?!1:Ne("millisecond",i):Ne("second",r):Ne("minute",n):Ne("hour",e)}var Yi="Invalid DateTime",nu=864e13;function Rr(t){return new Re("unsupported zone",`the zone "${t.name}" is not supported`)}function Zi(t){return t.weekData===null&&(t.weekData=Ki(t.c)),t.weekData}function _n(t,e){let n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new M({...n,...e,old:n})}function ru(t,e,n){let r=t-e*60*1e3,i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;let s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function iu(t,e){t+=e*60*1e3;let n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Ar(t,e,n){return ru(Gi(t),e,n)}function su(t,e){let n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,Cr(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=A.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=Gi(s),[u,c]=ru(o,n,t.zone);return a!==0&&(u+=a,c=t.zone.offset(u)),{ts:u,o:c}}function Vn(t,e,n,r,i,s){let{setZone:a,zone:o}=n;if(t&&Object.keys(t).length!==0){let u=e||o,c=M.fromObject(t,{...n,zone:u,specificOffset:s});return a?c:c.setZone(o)}else return M.invalid(new Re("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Nr(t,e,n=!0){return t.isValid?ue.create(z.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Ji(t,e){let n=t.c.year>9999||t.c.year<0,r="";return n&&t.c.year>=0&&(r+="+"),r+=ee(t.c.year,n?6:4),e?(r+="-",r+=ee(t.c.month),r+="-",r+=ee(t.c.day)):(r+=ee(t.c.month),r+=ee(t.c.day)),r}function au(t,e,n,r,i,s){let a=ee(t.c.hour);return e?(a+=":",a+=ee(t.c.minute),(t.c.second!==0||!n)&&(a+=":")):a+=ee(t.c.minute),(t.c.second!==0||!n)&&(a+=ee(t.c.second),(t.c.millisecond!==0||!r)&&(a+=".",a+=ee(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?a+="Z":t.o<0?(a+="-",a+=ee(Math.trunc(-t.o/60)),a+=":",a+=ee(Math.trunc(-t.o%60))):(a+="+",a+=ee(Math.trunc(t.o/60)),a+=":",a+=ee(Math.trunc(t.o%60)))),s&&(a+="["+t.zone.ianaName+"]"),a}var ou={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},uf={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},lf={ordinal:1,hour:0,minute:0,second:0,millisecond:0},uu=["year","month","day","hour","minute","second","millisecond"],cf=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],df=["year","ordinal","hour","minute","second","millisecond"];function lu(t){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Pi(t);return e}function cu(t,e){let n=gt(e.zone,X.defaultZone),r=z.fromObject(e),i=X.now(),s,a;if(H(t.year))s=i;else{for(let c of uu)H(t[c])&&(t[c]=ou[c]);let o=eu(t)||tu(t);if(o)return M.invalid(o);let u=n.offset(i);[s,a]=Ar(t,u,n)}return new M({ts:s,zone:n,loc:r,o:a})}function du(t,e,n){let r=H(n.round)?!0:n.round,i=(a,o)=>(a=ji(a,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(a,o)),s=a=>n.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(n.unit)return i(s(n.unit),n.unit);for(let a of n.units){let o=s(a);if(Math.abs(o)>=1)return i(o,a)}return i(t>e?-0:0,n.units[n.units.length-1])}function hu(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}var M=class{constructor(e){let n=e.zone||X.defaultZone,r=e.invalid||(Number.isNaN(e.ts)?new Re("invalid input"):null)||(n.isValid?null:Rr(n));this.ts=H(e.ts)?X.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{let o=n.offset(this.ts);i=iu(this.ts,o),r=Number.isNaN(i.year)?new Re("invalid input"):null,i=r?null:i,s=r?null:o}this._zone=n,this.loc=e.loc||z.create(),this.invalid=r,this.weekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new M({})}static local(){let[e,n]=hu(arguments),[r,i,s,a,o,u,c]=n;return cu({year:r,month:i,day:s,hour:a,minute:o,second:u,millisecond:c},e)}static utc(){let[e,n]=hu(arguments),[r,i,s,a,o,u,c]=n;return e.zone=me.utcInstance,cu({year:r,month:i,day:s,hour:a,minute:o,second:u,millisecond:c},e)}static fromJSDate(e,n={}){let r=Md(e)?e.valueOf():NaN;if(Number.isNaN(r))return M.invalid("invalid input");let i=gt(n.zone,X.defaultZone);return i.isValid?new M({ts:r,zone:i,loc:z.fromObject(n)}):M.invalid(Rr(i))}static fromMillis(e,n={}){if(Mt(e))return e<-nu||e>nu?M.invalid("Timestamp out of range"):new M({ts:e,zone:gt(n.zone,X.defaultZone),loc:z.fromObject(n)});throw new ke(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(Mt(e))return new M({ts:e*1e3,zone:gt(n.zone,X.defaultZone),loc:z.fromObject(n)});throw new ke("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};let r=gt(n.zone,X.defaultZone);if(!r.isValid)return M.invalid(Rr(r));let i=X.now(),s=H(n.specificOffset)?r.offset(i):n.specificOffset,a=Or(e,lu),o=!H(a.ordinal),u=!H(a.year),c=!H(a.month)||!H(a.day),d=u||c,f=a.weekYear||a.weekNumber,m=z.fromObject(n);if((d||o)&&f)throw new on("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new on("Can't mix ordinal dates with month/day");let y=f||a.weekday&&!d,F,k,C=iu(i,s);y?(F=cf,k=uf,C=Ki(C)):o?(F=df,k=lf,C=zi(C)):(F=uu,k=ou);let w=!1;for(let V of F){let j=a[V];H(j)?w?a[V]=k[V]:a[V]=C[V]:w=!0}let E=y?af(a):o?of(a):eu(a),L=E||tu(a);if(L)return M.invalid(L);let v=y?Qo(a):o?Xo(a):a,[P,G]=Ar(v,s,r),N=new M({ts:P,zone:r,o:G,loc:m});return a.weekday&&d&&e.weekday!==N.weekday?M.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${N.toISO()}`):N}static fromISO(e,n={}){let[r,i]=Eh(e);return Vn(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){let[r,i]=kh(e);return Vn(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){let[r,i]=Ch(e);return Vn(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(H(e)||H(n))throw new ke("fromFormat requires an input string and a format");let{locale:i=null,numberingSystem:s=null}=r,a=z.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[o,u,c,d]=sf(a,e,n);return d?M.invalid(d):Vn(o,u,r,`format ${n}`,e,c)}static fromString(e,n,r={}){return M.fromFormat(e,n,r)}static fromSQL(e,n={}){let[r,i]=Nh(e);return Vn(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new ke("need to specify a reason the DateTime is invalid");let r=e instanceof Re?e:new Re(e,n);if(X.throwOnInvalid)throw new Ba(r);return new M({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){let r=Wo(e,z.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return Uo(ue.parseFormat(e),z.fromObject(n)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Zi(this).weekYear:NaN}get weekNumber(){return this.isValid?Zi(this).weekNumber:NaN}get weekday(){return this.isValid?Zi(this).weekday:NaN}get ordinal(){return this.isValid?zi(this.c).ordinal:NaN}get monthShort(){return this.isValid?Gn.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Gn.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Gn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Gn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Ln(this.year)}get daysInMonth(){return Cr(this.year,this.month)}get daysInYear(){return this.isValid?Mn(this.year):NaN}get weeksInWeekYear(){return this.isValid?Sr(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:n,numberingSystem:r,calendar:i}=ue.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(me.instance(e),n)}toLocal(){return this.setZone(X.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=gt(e,X.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){let s=e.offset(this.ts),a=this.toObject();[i]=Ar(a,s,e)}return _n(this,{ts:i,zone:e})}else return M.invalid(Rr(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){let i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return _n(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let n=Or(e,lu),r=!H(n.weekYear)||!H(n.weekNumber)||!H(n.weekday),i=!H(n.ordinal),s=!H(n.year),a=!H(n.month)||!H(n.day),o=s||a,u=n.weekYear||n.weekNumber;if((o||i)&&u)throw new on("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&i)throw new on("Can't mix ordinal dates with month/day");let c;r?c=Qo({...Ki(this.c),...n}):H(n.ordinal)?(c={...this.toObject(),...n},H(n.day)&&(c.day=Math.min(Cr(c.year,c.month),c.day))):c=Xo({...zi(this.c),...n});let[d,f]=Ar(c,this.o,this.zone);return _n(this,{ts:d,o:f})}plus(e){if(!this.isValid)return this;let n=A.fromDurationLike(e);return _n(this,su(this,n))}minus(e){if(!this.isValid)return this;let n=A.fromDurationLike(e).negate();return _n(this,su(this,n))}startOf(e){if(!this.isValid)return this;let n={},r=A.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){let i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,n={}){return this.isValid?ue.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):Yi}toLocaleString(e=wr,n={}){return this.isValid?ue.create(this.loc.clone(n),e).formatDateTime(this):Yi}toLocaleParts(e={}){return this.isValid?ue.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;let a=e==="extended",o=Ji(this,a);return o+="T",o+=au(this,a,n,r,i,s),o}toISODate({format:e="extended"}={}){return this.isValid?Ji(this,e==="extended"):null}toISOWeekDate(){return Nr(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+au(this,a==="extended",n,e,r,s):null}toRFC2822(){return Nr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Nr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ji(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),Nr(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Yi}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return A.invalid("created by diffing an invalid DateTime");let i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=Bd(n).map(A.normalizeUnit),a=e.valueOf()>this.valueOf(),o=a?this:e,u=a?e:this,c=Hh(o,u,s,i);return a?c.negate():c}diffNow(e="milliseconds",n={}){return this.diff(M.now(),e,n)}until(e){return this.isValid?J.fromDateTimes(this,e):this}hasSame(e,n){if(!this.isValid)return!1;let r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(n)<=r&&r<=i.endOf(n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let n=e.base||M.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0,i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),du(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?du(e.base||M.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(M.isDateTime))throw new ke("min requires all arguments be DateTimes");return yo(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(M.isDateTime))throw new ke("max requires all arguments be DateTimes");return yo(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){let{locale:i=null,numberingSystem:s=null}=r,a=z.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return qo(a,e,n)}static fromStringExplain(e,n,r={}){return M.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return wr}static get DATE_MED(){return Ga}static get DATE_MED_WITH_WEEKDAY(){return Dd}static get DATE_FULL(){return _a}static get DATE_HUGE(){return Va}static get TIME_SIMPLE(){return $a}static get TIME_WITH_SECONDS(){return Ha}static get TIME_WITH_SHORT_OFFSET(){return Ua}static get TIME_WITH_LONG_OFFSET(){return qa}static get TIME_24_SIMPLE(){return Wa}static get TIME_24_WITH_SECONDS(){return Ka}static get TIME_24_WITH_SHORT_OFFSET(){return za}static get TIME_24_WITH_LONG_OFFSET(){return Ya}static get DATETIME_SHORT(){return Za}static get DATETIME_SHORT_WITH_SECONDS(){return Ja}static get DATETIME_MED(){return Qa}static get DATETIME_MED_WITH_SECONDS(){return Xa}static get DATETIME_MED_WITH_WEEKDAY(){return vd}static get DATETIME_FULL(){return eo}static get DATETIME_FULL_WITH_SECONDS(){return to}static get DATETIME_HUGE(){return no}static get DATETIME_HUGE_WITH_SECONDS(){return ro}};function $n(t){if(M.isDateTime(t))return t;if(t&&t.valueOf&&Mt(t.valueOf()))return M.fromJSDate(t);if(t&&typeof t=="object")return M.fromObject(t);throw new ke(`Unknown datetime argument: ${t}, of type ${typeof t}`)}var Qi={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},hf={allowHtml:!0};({...Qi,...hf});var Lr=class{constructor(e){this.value=e,this.successful=!0}map(e){return new Lr(e(this.value))}flatMap(e){return e(this.value)}mapErr(e){return this}bimap(e,n){return this.map(e)}orElse(e){return this.value}cast(){return this}orElseThrow(e){return this.value}},Mr=class{constructor(e){this.error=e,this.successful=!1}map(e){return this}flatMap(e){return this}mapErr(e){return new Mr(e(this.error))}bimap(e,n){return this.mapErr(n)}orElse(e){return e}cast(){return this}orElseThrow(e){throw e?new Error(e(this.error)):new Error(""+this.error)}},Br;(function(t){function e(s){return new Lr(s)}t.success=e;function n(s){return new Mr(s)}t.failure=n;function r(s,a,o){return s.successful?a.successful?o(s.value,a.value):n(a.error):n(s.error)}t.flatMap2=r;function i(s,a,o){return r(s,a,(u,c)=>e(o(u,c)))}t.map2=i})(Br||(Br={}));var ff=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},p={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(typeof self!="undefined"?self:ff,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var a=r[s]={i:s,l:!1,exports:{}};return n[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.d=function(s,a,o){i.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},i.r=function(s){Object.defineProperty(s,"__esModule",{value:!0})},i.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(a,"a",a),a},i.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},i.p="",i(i.s=0)}([function(n,r,i){function s(h){if(!(this instanceof s))return new s(h);this._=h}var a=s.prototype;function o(h,b){for(var D=0;D<h;D++)b(D)}function u(h,b,D){return function(x,S){o(S.length,function(T){x(S[T],T,S)})}(function(x,S,T){b=h(b,x,S,T)},D),b}function c(h,b){return u(function(D,x,S,T){return D.concat([h(x,S,T)])},[],b)}function d(h,b){var D={v:0,buf:b};return o(h,function(){var x;D={v:D.v<<1|(x=D.buf,x[0]>>7),buf:function(S){var T=u(function(O,_,K,be){return O.concat(K===be.length-1?Buffer.from([_,0]).readUInt16BE(0):be.readUInt16BE(K))},[],S);return Buffer.from(c(function(O){return(O<<1&65535)>>8},T))}(D.buf)}}),D}function f(){return typeof Buffer!="undefined"}function m(){if(!f())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function y(h){m();var b=u(function(T,O){return T+O},0,h);if(b%8!=0)throw new Error("The bits ["+h.join(", ")+"] add up to "+b+" which is not an even number of bytes; the total should be divisible by 8");var D,x=b/8,S=(D=function(T){return T>48},u(function(T,O){return T||(D(O)?O:T)},null,h));if(S)throw new Error(S+" bit range requested exceeds 48 bit (6 byte) Number max.");return new s(function(T,O){var _=x+O;return _>T.length?V(O,x.toString()+" bytes"):N(_,u(function(K,be){var se=d(be,K.buf);return{coll:K.coll.concat(se.v),buf:se.buf}},{coll:[],buf:T.slice(O,_)},h).coll)})}function F(h,b){return new s(function(D,x){return m(),x+b>D.length?V(x,b+" bytes for "+h):N(x+b,D.slice(x,x+b))})}function k(h,b){if(typeof(D=b)!="number"||Math.floor(D)!==D||b<0||b>6)throw new Error(h+" requires integer length in range [0, 6].");var D}function C(h){return k("uintBE",h),F("uintBE("+h+")",h).map(function(b){return b.readUIntBE(0,h)})}function w(h){return k("uintLE",h),F("uintLE("+h+")",h).map(function(b){return b.readUIntLE(0,h)})}function E(h){return k("intBE",h),F("intBE("+h+")",h).map(function(b){return b.readIntBE(0,h)})}function L(h){return k("intLE",h),F("intLE("+h+")",h).map(function(b){return b.readIntLE(0,h)})}function v(h){return h instanceof s}function P(h){return{}.toString.call(h)==="[object Array]"}function G(h){return f()&&Buffer.isBuffer(h)}function N(h,b){return{status:!0,index:h,value:b,furthest:-1,expected:[]}}function V(h,b){return P(b)||(b=[b]),{status:!1,index:-1,value:null,furthest:h,expected:b}}function j(h,b){if(!b||h.furthest>b.furthest)return h;var D=h.furthest===b.furthest?function(x,S){if(function(){if(s._supportsSet!==void 0)return s._supportsSet;var rt=typeof Set!="undefined";return s._supportsSet=rt,rt}()&&Array.from){for(var T=new Set(x),O=0;O<S.length;O++)T.add(S[O]);var _=Array.from(T);return _.sort(),_}for(var K={},be=0;be<x.length;be++)K[x[be]]=!0;for(var se=0;se<S.length;se++)K[S[se]]=!0;var nt=[];for(var Fe in K)({}).hasOwnProperty.call(K,Fe)&&nt.push(Fe);return nt.sort(),nt}(h.expected,b.expected):b.expected;return{status:h.status,index:h.index,value:h.value,furthest:b.furthest,expected:D}}var $={};function Se(h,b){if(G(h))return{offset:b,line:-1,column:-1};h in $||($[h]={});for(var D=$[h],x=0,S=0,T=0,O=b;O>=0;){if(O in D){x=D[O].line,T===0&&(T=D[O].lineStart);break}(h.charAt(O)===`
`||h.charAt(O)==="\r"&&h.charAt(O+1)!==`
`)&&(S++,T===0&&(T=O+1)),O--}var _=x+S,K=b-T;return D[b]={line:_,lineStart:T},{offset:b,line:_+1,column:K+1}}function ie(h){if(!v(h))throw new Error("not a parser: "+h)}function et(h,b){return typeof h=="string"?h.charAt(b):h[b]}function ce(h){if(typeof h!="number")throw new Error("not a number: "+h)}function we(h){if(typeof h!="function")throw new Error("not a function: "+h)}function ve(h){if(typeof h!="string")throw new Error("not a string: "+h)}var Le=2,wt=3,ge=8,Ft=5*ge,We=4*ge,xt="  ";function de(h,b){return new Array(b+1).join(h)}function he(h,b,D){var x=b-h.length;return x<=0?h:de(D,x)+h}function wn(h,b,D,x){return{from:h-b>0?h-b:0,to:h+D>x?x:h+D}}function Et(h,b){var D,x,S,T,O,_=b.index,K=_.offset,be=1;if(K===h.length)return"Got the end of the input";if(G(h)){var se=K-K%ge,nt=K-se,Fe=wn(se,Ft,We+ge,h.length),rt=c(function(te){return c(function(Wt){return he(Wt.toString(16),2,"0")},te)},function(te,Wt){var Kt=te.length,Tt=[],zt=0;if(Kt<=Wt)return[te.slice()];for(var Yt=0;Yt<Kt;Yt++)Tt[zt]||Tt.push([]),Tt[zt].push(te[Yt]),(Yt+1)%Wt==0&&zt++;return Tt}(h.slice(Fe.from,Fe.to).toJSON().data,ge));T=function(te){return te.from===0&&te.to===1?{from:te.from,to:te.to}:{from:te.from/ge,to:Math.floor(te.to/ge)}}(Fe),x=se/ge,D=3*nt,nt>=4&&(D+=1),be=2,S=c(function(te){return te.length<=4?te.join(" "):te.slice(0,4).join(" ")+"  "+te.slice(4).join(" ")},rt),(O=(8*(T.to>0?T.to-1:T.to)).toString(16).length)<2&&(O=2)}else{var qt=h.split(/\r\n|[\n\r\u2028\u2029]/);D=_.column-1,x=_.line-1,T=wn(x,Le,wt,qt.length),S=qt.slice(T.from,T.to),O=T.to.toString().length}var ac=x-T.from;return G(h)&&(O=(8*(T.to>0?T.to-1:T.to)).toString(16).length)<2&&(O=2),u(function(te,Wt,Kt){var Tt,zt=Kt===ac,Yt=zt?"> ":xt;return Tt=G(h)?he((8*(T.from+Kt)).toString(16),O,"0"):he((T.from+Kt+1).toString(),O," "),[].concat(te,[Yt+Tt+" | "+Wt],zt?[xt+de(" ",O)+" | "+he("",D," ")+de("^",be)]:[])},[],S).join(`
`)}function kt(h,b){return[`
`,"-- PARSING FAILED "+de("-",50),`

`,Et(h,b),`

`,(D=b.expected,D.length===1?`Expected:

`+D[0]:`Expected one of the following: 

`+D.join(", ")),`
`].join("");var D}function $t(h){return h.flags!==void 0?h.flags:[h.global?"g":"",h.ignoreCase?"i":"",h.multiline?"m":"",h.unicode?"u":"",h.sticky?"y":""].join("")}function Ct(){for(var h=[].slice.call(arguments),b=h.length,D=0;D<b;D+=1)ie(h[D]);return s(function(x,S){for(var T,O=new Array(b),_=0;_<b;_+=1){if(!(T=j(h[_]._(x,S),T)).status)return T;O[_]=T.value,S=T.index}return j(N(S,O),T)})}function Me(){var h=[].slice.call(arguments);if(h.length===0)throw new Error("seqMap needs at least one argument");var b=h.pop();return we(b),Ct.apply(null,h).map(function(D){return b.apply(null,D)})}function Be(){var h=[].slice.call(arguments),b=h.length;if(b===0)return Xn("zero alternates");for(var D=0;D<b;D+=1)ie(h[D]);return s(function(x,S){for(var T,O=0;O<h.length;O+=1)if((T=j(h[O]._(x,S),T)).status)return T;return T})}function Ht(h,b){return Ut(h,b).or(St([]))}function Ut(h,b){return ie(h),ie(b),Me(h,b.then(h).many(),function(D,x){return[D].concat(x)})}function ct(h){ve(h);var b="'"+h+"'";return s(function(D,x){var S=x+h.length,T=D.slice(x,S);return T===h?N(S,T):V(x,b)})}function tt(h,b){(function(S){if(!(S instanceof RegExp))throw new Error("not a regexp: "+S);for(var T=$t(S),O=0;O<T.length;O++){var _=T.charAt(O);if(_!=="i"&&_!=="m"&&_!=="u"&&_!=="s")throw new Error('unsupported regexp flag "'+_+'": '+S)}})(h),arguments.length>=2?ce(b):b=0;var D=function(S){return RegExp("^(?:"+S.source+")",$t(S))}(h),x=""+h;return s(function(S,T){var O=D.exec(S.slice(T));if(O){if(0<=b&&b<=O.length){var _=O[0],K=O[b];return N(T+_.length,K)}return V(T,"valid match group (0 to "+O.length+") in "+x)}return V(T,x)})}function St(h){return s(function(b,D){return N(D,h)})}function Xn(h){return s(function(b,D){return V(D,h)})}function er(h){if(v(h))return s(function(b,D){var x=h._(b,D);return x.index=D,x.value="",x});if(typeof h=="string")return er(ct(h));if(h instanceof RegExp)return er(tt(h));throw new Error("not a string, regexp, or parser: "+h)}function Cs(h){return ie(h),s(function(b,D){var x=h._(b,D),S=b.slice(D,x.index);return x.status?V(D,'not "'+S+'"'):N(D,null)})}function tr(h){return we(h),s(function(b,D){var x=et(b,D);return D<b.length&&h(x)?N(D+1,x):V(D,"a character/byte matching "+h)})}function Ss(h,b){arguments.length<2&&(b=h,h=void 0);var D=s(function(x,S){return D._=b()._,D._(x,S)});return h?D.desc(h):D}function Qr(){return Xn("fantasy-land/empty")}a.parse=function(h){if(typeof h!="string"&&!G(h))throw new Error(".parse must be called with a string or Buffer as its argument");var b,D=this.skip(Xr)._(h,0);return b=D.status?{status:!0,value:D.value}:{status:!1,index:Se(h,D.furthest),expected:D.expected},delete $[h],b},a.tryParse=function(h){var b=this.parse(h);if(b.status)return b.value;var D=kt(h,b),x=new Error(D);throw x.type="ParsimmonError",x.result=b,x},a.assert=function(h,b){return this.chain(function(D){return h(D)?St(D):Xn(b)})},a.or=function(h){return Be(this,h)},a.trim=function(h){return this.wrap(h,h)},a.wrap=function(h,b){return Me(h,this,b,function(D,x){return x})},a.thru=function(h){return h(this)},a.then=function(h){return ie(h),Ct(this,h).map(function(b){return b[1]})},a.many=function(){var h=this;return s(function(b,D){for(var x=[],S=void 0;;){if(!(S=j(h._(b,D),S)).status)return j(N(D,x),S);if(D===S.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");D=S.index,x.push(S.value)}})},a.tieWith=function(h){return ve(h),this.map(function(b){if(function(S){if(!P(S))throw new Error("not an array: "+S)}(b),b.length){ve(b[0]);for(var D=b[0],x=1;x<b.length;x++)ve(b[x]),D+=h+b[x];return D}return""})},a.tie=function(){return this.tieWith("")},a.times=function(h,b){var D=this;return arguments.length<2&&(b=h),ce(h),ce(b),s(function(x,S){for(var T=[],O=void 0,_=void 0,K=0;K<h;K+=1){if(_=j(O=D._(x,S),_),!O.status)return _;S=O.index,T.push(O.value)}for(;K<b&&(_=j(O=D._(x,S),_),O.status);K+=1)S=O.index,T.push(O.value);return j(N(S,T),_)})},a.result=function(h){return this.map(function(){return h})},a.atMost=function(h){return this.times(0,h)},a.atLeast=function(h){return Me(this.times(h),this.many(),function(b,D){return b.concat(D)})},a.map=function(h){we(h);var b=this;return s(function(D,x){var S=b._(D,x);return S.status?j(N(S.index,h(S.value)),S):S})},a.contramap=function(h){we(h);var b=this;return s(function(D,x){var S=b.parse(h(D.slice(x)));return S.status?N(x+D.length,S.value):S})},a.promap=function(h,b){return we(h),we(b),this.contramap(h).map(b)},a.skip=function(h){return Ct(this,h).map(function(b){return b[0]})},a.mark=function(){return Me(Fn,this,Fn,function(h,b,D){return{start:h,value:b,end:D}})},a.node=function(h){return Me(Fn,this,Fn,function(b,D,x){return{name:h,value:D,start:b,end:x}})},a.sepBy=function(h){return Ht(this,h)},a.sepBy1=function(h){return Ut(this,h)},a.lookahead=function(h){return this.skip(er(h))},a.notFollowedBy=function(h){return this.skip(Cs(h))},a.desc=function(h){P(h)||(h=[h]);var b=this;return s(function(D,x){var S=b._(D,x);return S.status||(S.expected=h),S})},a.fallback=function(h){return this.or(St(h))},a.ap=function(h){return Me(h,this,function(b,D){return b(D)})},a.chain=function(h){var b=this;return s(function(D,x){var S=b._(D,x);return S.status?j(h(S.value)._(D,S.index),S):S})},a.concat=a.or,a.empty=Qr,a.of=St,a["fantasy-land/ap"]=a.ap,a["fantasy-land/chain"]=a.chain,a["fantasy-land/concat"]=a.concat,a["fantasy-land/empty"]=a.empty,a["fantasy-land/of"]=a.of,a["fantasy-land/map"]=a.map;var Fn=s(function(h,b){return N(b,Se(h,b))}),Jl=s(function(h,b){return b>=h.length?V(b,"any character/byte"):N(b+1,et(h,b))}),Ql=s(function(h,b){return N(h.length,h.slice(b))}),Xr=s(function(h,b){return b<h.length?V(b,"EOF"):N(b,null)}),Xl=tt(/[0-9]/).desc("a digit"),ec=tt(/[0-9]*/).desc("optional digits"),tc=tt(/[a-z]/i).desc("a letter"),nc=tt(/[a-z]*/i).desc("optional letters"),rc=tt(/\s*/).desc("optional whitespace"),ic=tt(/\s+/).desc("whitespace"),Ts=ct("\r"),Os=ct(`
`),Ps=ct(`\r
`),Rs=Be(Ps,Os,Ts).desc("newline"),sc=Be(Rs,Xr);s.all=Ql,s.alt=Be,s.any=Jl,s.cr=Ts,s.createLanguage=function(h){var b={};for(var D in h)({}).hasOwnProperty.call(h,D)&&function(x){b[x]=Ss(function(){return h[x](b)})}(D);return b},s.crlf=Ps,s.custom=function(h){return s(h(N,V))},s.digit=Xl,s.digits=ec,s.empty=Qr,s.end=sc,s.eof=Xr,s.fail=Xn,s.formatError=kt,s.index=Fn,s.isParser=v,s.lazy=Ss,s.letter=tc,s.letters=nc,s.lf=Os,s.lookahead=er,s.makeFailure=V,s.makeSuccess=N,s.newline=Rs,s.noneOf=function(h){return tr(function(b){return h.indexOf(b)<0}).desc("none of '"+h+"'")},s.notFollowedBy=Cs,s.of=St,s.oneOf=function(h){for(var b=h.split(""),D=0;D<b.length;D++)b[D]="'"+b[D]+"'";return tr(function(x){return h.indexOf(x)>=0}).desc(b)},s.optWhitespace=rc,s.Parser=s,s.range=function(h,b){return tr(function(D){return h<=D&&D<=b}).desc(h+"-"+b)},s.regex=tt,s.regexp=tt,s.sepBy=Ht,s.sepBy1=Ut,s.seq=Ct,s.seqMap=Me,s.seqObj=function(){for(var h,b={},D=0,x=(h=arguments,Array.prototype.slice.call(h)),S=x.length,T=0;T<S;T+=1){var O=x[T];if(!v(O)){if(P(O)&&O.length===2&&typeof O[0]=="string"&&v(O[1])){var _=O[0];if(Object.prototype.hasOwnProperty.call(b,_))throw new Error("seqObj: duplicate key "+_);b[_]=!0,D++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(D===0)throw new Error("seqObj expects at least one named parser, found zero");return s(function(K,be){for(var se,nt={},Fe=0;Fe<S;Fe+=1){var rt,qt;if(P(x[Fe])?(rt=x[Fe][0],qt=x[Fe][1]):(rt=null,qt=x[Fe]),!(se=j(qt._(K,be),se)).status)return se;rt&&(nt[rt]=se.value),be=se.index}return j(N(be,nt),se)})},s.string=ct,s.succeed=St,s.takeWhile=function(h){return we(h),s(function(b,D){for(var x=D;x<b.length&&h(et(b,x));)x++;return N(x,b.slice(D,x))})},s.test=tr,s.whitespace=ic,s["fantasy-land/empty"]=Qr,s["fantasy-land/of"]=St,s.Binary={bitSeq:y,bitSeqObj:function(h){m();var b={},D=0,x=c(function(T){if(P(T)){var O=T;if(O.length!==2)throw new Error("["+O.join(", ")+"] should be length 2, got length "+O.length);if(ve(O[0]),ce(O[1]),Object.prototype.hasOwnProperty.call(b,O[0]))throw new Error("duplicate key in bitSeqObj: "+O[0]);return b[O[0]]=!0,D++,O}return ce(T),[null,T]},h);if(D<1)throw new Error("bitSeqObj expects at least one named pair, got ["+h.join(", ")+"]");var S=c(function(T){return T[0]},x);return y(c(function(T){return T[1]},x)).map(function(T){return u(function(O,_){return _[0]!==null&&(O[_[0]]=_[1]),O},{},c(function(O,_){return[O,T[_]]},S))})},byte:function(h){if(m(),ce(h),h>255)throw new Error("Value specified to byte constructor ("+h+"=0x"+h.toString(16)+") is larger in value than a single byte.");var b=(h>15?"0x":"0x0")+h.toString(16);return s(function(D,x){var S=et(D,x);return S===h?N(x+1,S):V(x,b)})},buffer:function(h){return F("buffer",h).map(function(b){return Buffer.from(b)})},encodedString:function(h,b){return F("string",b).map(function(D){return D.toString(h)})},uintBE:C,uint8BE:C(1),uint16BE:C(2),uint32BE:C(4),uintLE:w,uint8LE:w(1),uint16LE:w(2),uint32LE:w(4),intBE:E,int8BE:E(1),int16BE:E(2),int32BE:E(4),intLE:L,int8LE:L(1),int16LE:L(2),int32LE:L(4),floatBE:F("floatBE",4).map(function(h){return h.readFloatBE(0)}),floatLE:F("floatLE",4).map(function(h){return h.readFloatLE(0)}),doubleBE:F("doubleBE",8).map(function(h){return h.readDoubleBE(0)}),doubleLE:F("doubleLE",8).map(function(h){return h.readDoubleLE(0)})},n.exports=s}])})})(p);var Xi=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g;function fu(t){return t==null?t:t.shiftToAll().normalize()}function pu(t){return t.includes("/")&&(t=t.substring(t.lastIndexOf("/")+1)),t.endsWith(".md")&&(t=t.substring(0,t.length-3)),t}p.exports.alt(p.exports.regex(new RegExp(Xi(),"")),p.exports.regex(/[0-9\p{Letter}_-]+/u).map(t=>t.toLocaleLowerCase()),p.exports.whitespace.map(t=>"-"),p.exports.any.map(t=>"")).many().map(t=>t.join(""));var pf=p.exports.alt(p.exports.regex(new RegExp(Xi(),"")),p.exports.regex(/[0-9\p{Letter}_-]+/u),p.exports.whitespace.map(t=>" "),p.exports.any.map(t=>" ")).many().map(t=>t.join("").split(/\s+/).join(" ").trim());function mf(t){return pf.tryParse(t)}function gf(t){return t=fu(t),t=A.fromObject(Object.fromEntries(Object.entries(t.toObject()).filter(([,e])=>e>0))),t.toHuman()}var Hn;(function(t){function e(v,P=Qi,G=!1){let N=n(v);if(!N)return P.renderNullAs;switch(N.type){case"null":return P.renderNullAs;case"string":return N.value;case"number":case"boolean":return""+N.value;case"html":return N.value.outerHTML;case"widget":return N.value.markdown();case"link":return N.value.markdown();case"function":return"<function>";case"array":let V="";return G&&(V+="["),V+=N.value.map(j=>e(j,P,!0)).join(", "),G&&(V+="]"),V;case"object":return"{ "+Object.entries(N.value).map(j=>j[0]+": "+e(j[1],P,!0)).join(", ")+" }";case"date":return N.value.second==0&&N.value.hour==0&&N.value.minute==0?N.value.toFormat(P.defaultDateFormat):N.value.toFormat(P.defaultDateTimeFormat);case"duration":return gf(N.value)}}t.toString=e;function n(v){return m(v)?{type:"null",value:v}:c(v)?{type:"number",value:v}:u(v)?{type:"string",value:v}:F(v)?{type:"boolean",value:v}:f(v)?{type:"duration",value:v}:d(v)?{type:"date",value:v}:C(v)?{type:"widget",value:v}:y(v)?{type:"array",value:v}:k(v)?{type:"link",value:v}:L(v)?{type:"function",value:v}:w(v)?{type:"html",value:v}:E(v)?{type:"object",value:v}:void 0}t.wrapValue=n;function r(v,P){if(E(v)){let G={};for(let[N,V]of Object.entries(v))G[N]=r(V,P);return G}else if(y(v)){let G=[];for(let N of v)G.push(r(N,P));return G}else return P(v)}t.mapLeaves=r;function i(v,P,G){var N,V;if(v===void 0&&(v=null),P===void 0&&(P=null),v===null&&P===null)return 0;if(v===null)return-1;if(P===null)return 1;let j=n(v),$=n(P);if(j===void 0&&$===void 0)return 0;if(j===void 0)return-1;if($===void 0)return 1;if(j.type!=$.type)return j.type.localeCompare($.type);if(j.value===$.value)return 0;switch(j.type){case"string":return j.value.localeCompare($.value);case"number":return j.value<$.value?-1:j.value==$.value?0:1;case"null":return 0;case"boolean":return j.value==$.value?0:j.value?1:-1;case"link":let Se=j.value,ie=$.value,et=G??(de=>de),ce=et(Se.path).localeCompare(et(ie.path));if(ce!=0)return ce;let we=Se.type.localeCompare(ie.type);return we!=0?we:Se.subpath&&!ie.subpath?1:!Se.subpath&&ie.subpath?-1:!Se.subpath&&!ie.subpath?0:((N=Se.subpath)!==null&&N!==void 0?N:"").localeCompare((V=ie.subpath)!==null&&V!==void 0?V:"");case"date":return j.value<$.value?-1:j.value.equals($.value)?0:1;case"duration":return j.value<$.value?-1:j.value.equals($.value)?0:1;case"array":let ve=j.value,Le=$.value;for(let de=0;de<Math.min(ve.length,Le.length);de++){let he=i(ve[de],Le[de]);if(he!=0)return he}return ve.length-Le.length;case"object":let wt=j.value,ge=$.value,Ft=Array.from(Object.keys(wt)),We=Array.from(Object.keys(ge));Ft.sort(),We.sort();let xt=i(Ft,We);if(xt!=0)return xt;for(let de of Ft){let he=i(wt[de],ge[de]);if(he!=0)return he}return 0;case"widget":case"html":case"function":return 0}}t.compareValue=i;function s(v){var P;return(P=n(v))===null||P===void 0?void 0:P.type}t.typeOf=s;function a(v){let P=n(v);if(!P)return!1;switch(P.type){case"number":return P.value!=0;case"string":return P.value.length>0;case"boolean":return P.value;case"link":return!!P.value.path;case"date":return P.value.toMillis()!=0;case"duration":return P.value.as("seconds")!=0;case"object":return Object.keys(P.value).length>0;case"array":return P.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}t.isTruthy=a;function o(v){if(v==null)return v;if(t.isArray(v))return[].concat(v.map(P=>o(P)));if(t.isObject(v)){let P={};for(let[G,N]of Object.entries(v))P[G]=o(N);return P}else return v}t.deepCopy=o;function u(v){return typeof v=="string"}t.isString=u;function c(v){return typeof v=="number"}t.isNumber=c;function d(v){return v instanceof M}t.isDate=d;function f(v){return v instanceof A}t.isDuration=f;function m(v){return v==null}t.isNull=m;function y(v){return Array.isArray(v)}t.isArray=y;function F(v){return typeof v=="boolean"}t.isBoolean=F;function k(v){return v instanceof le}t.isLink=k;function C(v){return v instanceof Ir}t.isWidget=C;function w(v){return typeof HTMLElement!="undefined"?v instanceof HTMLElement:!1}t.isHtml=w;function E(v){return typeof v=="object"&&!w(v)&&!C(v)&&!y(v)&&!f(v)&&!d(v)&&!k(v)&&v!==void 0&&!m(v)}t.isObject=E;function L(v){return typeof v=="function"}t.isFunction=L})(Hn||(Hn={}));var mu;(function(t){function e(i){return Hn.isObject(i)&&Object.keys(i).length==2&&"key"in i&&"rows"in i}t.isElementGroup=e;function n(i){for(let s of i)if(!e(s))return!1;return!0}t.isGrouping=n;function r(i){if(n(i)){let s=0;for(let a of i)s+=r(a.rows);return s}else return i.length}t.count=r})(mu||(mu={}));var le=class{constructor(e){Object.assign(this,e)}static file(e,n=!1,r){return new le({path:e,embed:n,display:r,subpath:void 0,type:"file"})}static infer(e,n=!1,r){if(e.includes("#^")){let i=e.split("#^");return le.block(i[0],i[1],n,r)}else if(e.includes("#")){let i=e.split("#");return le.header(i[0],i[1],n,r)}else return le.file(e,n,r)}static header(e,n,r,i){return new le({path:e,embed:r,display:i,subpath:mf(n),type:"header"})}static block(e,n,r,i){return new le({path:e,embed:r,display:i,subpath:n,type:"block"})}static fromObject(e){return new le(e)}equals(e){return e==null||e==null?!1:this.path==e.path&&this.type==e.type&&this.subpath==e.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(e){return new le(Object.assign({},this,{path:e}))}withDisplay(e){return new le(Object.assign({},this,{display:e}))}withHeader(e){return le.header(this.path,e,this.embed,this.display)}toFile(){return le.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let e=new le(this);return e.embed=!0,e}}fromEmbed(){if(this.embed){let e=new le(this);return e.embed=!1,e}else return this}markdown(){let e=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?e+="|"+this.display:(e+="|"+pu(this.path),(this.type=="header"||this.type=="block")&&(e+=" > "+this.subpath)),e+="]]",e}obsidianLink(){var e,n;let r=this.path.replace("|","\\|");return this.type=="header"?r+"#"+((e=this.subpath)===null||e===void 0?void 0:e.replace("|","\\|")):this.type=="block"?r+"#^"+((n=this.subpath)===null||n===void 0?void 0:n.replace("|","\\|")):r}fileName(){return pu(this.path).replace(".md","")}},Ir=class{constructor(e){this.$widget=e}},gu=class extends Ir{constructor(e,n){super("dataview:list-pair");this.key=e,this.value=n}markdown(){return`${Hn.toString(this.key)}: ${Hn.toString(this.value)}`}},bu=class extends Ir{constructor(e,n){super("dataview:external-link");this.url=e,this.display=n}markdown(){var e;return`[${(e=this.display)!==null&&e!==void 0?e:this.url}](${this.url})`}},yu;(function(t){function e(a,o){return new gu(a,o)}t.listPair=e;function n(a,o){return new bu(a,o)}t.externalLink=n;function r(a){return a.$widget==="dataview:list-pair"}t.isListPair=r;function i(a){return a.$widget==="dataview:external-link"}t.isExternalLink=i;function s(a){return r(a)||i(a)}t.isBuiltin=s})(yu||(yu={}));var Q;(function(t){function e(m){return{type:"variable",name:m}}t.variable=e;function n(m){return{type:"literal",value:m}}t.literal=n;function r(m,y,F){return{type:"binaryop",left:m,op:y,right:F}}t.binaryOp=r;function i(m,y){return{type:"index",object:m,index:y}}t.index=i;function s(m){let y=m.split("."),F=t.variable(y[0]);for(let k=1;k<y.length;k++)F=t.index(F,t.literal(y[k]));return F}t.indexVariable=s;function a(m,y){return{type:"lambda",arguments:m,value:y}}t.lambda=a;function o(m,y){return{type:"function",func:m,arguments:y}}t.func=o;function u(m){return{type:"list",values:m}}t.list=u;function c(m){return{type:"object",values:m}}t.object=c;function d(m){return{type:"negated",child:m}}t.negate=d;function f(m){return m=="<="||m=="<"||m==">"||m==">="||m=="!="||m=="="}t.isCompareOp=f,t.NULL=t.literal(null)})(Q||(Q={}));var Qe;(function(t){function e(d){return{type:"tag",tag:d}}t.tag=e;function n(d){return{type:"csv",path:d}}t.csv=n;function r(d){return{type:"folder",folder:d}}t.folder=r;function i(d,f){return{type:"link",file:d,direction:f?"incoming":"outgoing"}}t.link=i;function s(d,f,m){return{type:"binaryop",left:d,op:f,right:m}}t.binaryOp=s;function a(d,f){return{type:"binaryop",left:d,op:"&",right:f}}t.and=a;function o(d,f){return{type:"binaryop",left:d,op:"|",right:f}}t.or=o;function u(d){return{type:"negate",child:d}}t.negate=u;function c(){return{type:"empty"}}t.empty=c})(Qe||(Qe={}));var Du=new RegExp(Xi(),""),es={year:A.fromObject({years:1}),years:A.fromObject({years:1}),yr:A.fromObject({years:1}),yrs:A.fromObject({years:1}),month:A.fromObject({months:1}),months:A.fromObject({months:1}),mo:A.fromObject({months:1}),mos:A.fromObject({months:1}),week:A.fromObject({weeks:1}),weeks:A.fromObject({weeks:1}),wk:A.fromObject({weeks:1}),wks:A.fromObject({weeks:1}),w:A.fromObject({weeks:1}),day:A.fromObject({days:1}),days:A.fromObject({days:1}),d:A.fromObject({days:1}),hour:A.fromObject({hours:1}),hours:A.fromObject({hours:1}),hr:A.fromObject({hours:1}),hrs:A.fromObject({hours:1}),h:A.fromObject({hours:1}),minute:A.fromObject({minutes:1}),minutes:A.fromObject({minutes:1}),min:A.fromObject({minutes:1}),mins:A.fromObject({minutes:1}),m:A.fromObject({minutes:1}),second:A.fromObject({seconds:1}),seconds:A.fromObject({seconds:1}),sec:A.fromObject({seconds:1}),secs:A.fromObject({seconds:1}),s:A.fromObject({seconds:1})},ts={now:()=>M.local(),today:()=>M.local().startOf("day"),yesterday:()=>M.local().startOf("day").minus(A.fromObject({days:1})),tomorrow:()=>M.local().startOf("day").plus(A.fromObject({days:1})),sow:()=>M.local().startOf("week"),"start-of-week":()=>M.local().startOf("week"),eow:()=>M.local().endOf("week"),"end-of-week":()=>M.local().endOf("week"),soy:()=>M.local().startOf("year"),"start-of-year":()=>M.local().startOf("year"),eoy:()=>M.local().endOf("year"),"end-of-year":()=>M.local().endOf("year"),som:()=>M.local().startOf("month"),"start-of-month":()=>M.local().startOf("month"),eom:()=>M.local().endOf("month"),"end-of-month":()=>M.local().endOf("month")},ns=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function bf(t){let e=-1;for(;(e=t.indexOf("|",e+1))>=0;)if(!(e>0&&t[e-1]=="\\"))return[t.substring(0,e).replace(/\\\|/g,"|"),t.substring(e+1)];return[t.replace(/\\\|/g,"|"),void 0]}function yf(t){let[e,n]=bf(t);return le.infer(e,!1,n)}function Un(t,e,n){return p.exports.seqMap(t,p.exports.seq(p.exports.optWhitespace,e,p.exports.optWhitespace,t).many(),(r,i)=>{if(i.length==0)return r;let s=n(r,i[0][1],i[0][3]);for(let a=1;a<i.length;a++)s=n(s,i[a][1],i[a][3]);return s})}function Df(t,...e){return p.exports.custom((n,r)=>(i,s)=>{let a=t._(i,s);if(!a.status)return a;for(let o of e){let u=o(a.value)._(i,a.index);if(!u.status)return a;a=u}return a})}var He=p.exports.createLanguage({number:t=>p.exports.regexp(/-?[0-9]+(\.[0-9]+)?/).map(e=>Number.parseFloat(e)).desc("number"),string:t=>p.exports.string('"').then(p.exports.alt(t.escapeCharacter,p.exports.noneOf('"\\')).atLeast(0).map(e=>e.join(""))).skip(p.exports.string('"')).desc("string"),escapeCharacter:t=>p.exports.string("\\").then(p.exports.any).map(e=>e==='"'?'"':e==="\\"?"\\":"\\"+e),bool:t=>p.exports.regexp(/true|false|True|False/).map(e=>e.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:t=>p.exports.seqMap(p.exports.string("#"),p.exports.alt(p.exports.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(e,n)=>e+n.join("")).desc("tag ('#hello/stuff')"),identifier:t=>p.exports.seqMap(p.exports.alt(p.exports.regexp(/\p{Letter}/u),p.exports.regexp(Du).desc("text")),p.exports.alt(p.exports.regexp(/[0-9\p{Letter}_-]/u),p.exports.regexp(Du).desc("text")).many(),(e,n)=>e+n.join("")).desc("variable identifier"),link:t=>p.exports.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(e=>yf(e)).desc("file link"),embedLink:t=>p.exports.seqMap(p.exports.string("!").atMost(1),t.link,(e,n)=>(e.length>0&&(n.embed=!0),n)).desc("file link"),binaryPlusMinus:t=>p.exports.regexp(/\+|-/).map(e=>e).desc("'+' or '-'"),binaryMulDiv:t=>p.exports.regexp(/\*|\/|%/).map(e=>e).desc("'*' or '/' or '%'"),binaryCompareOp:t=>p.exports.regexp(/>=|<=|!=|>|<|=/).map(e=>e).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:t=>p.exports.regexp(/and|or|&|\|/i).map(e=>e.toLowerCase()=="and"?"&":e.toLowerCase()=="or"?"|":e).desc("'and' or 'or'"),rootDate:t=>p.exports.seqMap(p.exports.regexp(/\d{4}/),p.exports.string("-"),p.exports.regexp(/\d{2}/),(e,n,r)=>M.fromObject({year:Number.parseInt(e),month:Number.parseInt(r)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:t=>p.exports.alt(...Object.keys(ts).sort((e,n)=>n.length-e.length).map(p.exports.string)),date:t=>Df(t.rootDate,e=>p.exports.seqMap(p.exports.string("-"),p.exports.regexp(/\d{2}/),(n,r)=>e.set({day:Number.parseInt(r)})),e=>p.exports.seqMap(p.exports.string("T"),p.exports.regexp(/\d{2}/),(n,r)=>e.set({hour:Number.parseInt(r)})),e=>p.exports.seqMap(p.exports.string(":"),p.exports.regexp(/\d{2}/),(n,r)=>e.set({minute:Number.parseInt(r)})),e=>p.exports.seqMap(p.exports.string(":"),p.exports.regexp(/\d{2}/),(n,r)=>e.set({second:Number.parseInt(r)})),e=>p.exports.alt(p.exports.seqMap(p.exports.string("."),p.exports.regexp(/\d{3}/),(n,r)=>e.set({millisecond:Number.parseInt(r)})),p.exports.succeed(e)),e=>p.exports.alt(p.exports.seqMap(p.exports.string("+").or(p.exports.string("-")),p.exports.regexp(/\d{1,2}(:\d{2})?/),(n,r)=>e.setZone("UTC"+n+r,{keepLocalTime:!0})),p.exports.seqMap(p.exports.string("Z"),()=>e.setZone("utc",{keepLocalTime:!0})),p.exports.seqMap(p.exports.string("["),p.exports.regexp(/[0-9A-Za-z+-\/]+/u),p.exports.string("]"),(n,r,i)=>e.setZone(r,{keepLocalTime:!0})))).assert(e=>e.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:t=>p.exports.alt(t.dateShorthand.map(e=>ts[e]()),t.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:t=>p.exports.alt(...Object.keys(es).sort((e,n)=>n.length-e.length).map(p.exports.string)),duration:t=>p.exports.seqMap(t.number,p.exports.optWhitespace,t.durationType,(e,n,r)=>es[r].mapUnits(i=>i*e)).sepBy1(p.exports.string(",").trim(p.exports.optWhitespace).or(p.exports.optWhitespace)).map(e=>e.reduce((n,r)=>n.plus(r))).desc("duration like 4hr2min"),rawNull:t=>p.exports.string("null"),tagSource:t=>t.tag.map(e=>Qe.tag(e)),csvSource:t=>p.exports.seqMap(p.exports.string("csv(").skip(p.exports.optWhitespace),t.string,p.exports.string(")"),(e,n,r)=>Qe.csv(n)),linkIncomingSource:t=>t.link.map(e=>Qe.link(e.path,!0)),linkOutgoingSource:t=>p.exports.seqMap(p.exports.string("outgoing(").skip(p.exports.optWhitespace),t.link,p.exports.string(")"),(e,n,r)=>Qe.link(n.path,!1)),folderSource:t=>t.string.map(e=>Qe.folder(e)),parensSource:t=>p.exports.seqMap(p.exports.string("("),p.exports.optWhitespace,t.source,p.exports.optWhitespace,p.exports.string(")"),(e,n,r,i,s)=>r),negateSource:t=>p.exports.seqMap(p.exports.alt(p.exports.string("-"),p.exports.string("!")),t.atomSource,(e,n)=>Qe.negate(n)),atomSource:t=>p.exports.alt(t.parensSource,t.negateSource,t.linkOutgoingSource,t.linkIncomingSource,t.folderSource,t.tagSource,t.csvSource),binaryOpSource:t=>Un(t.atomSource,t.binaryBooleanOp.map(e=>e),Qe.binaryOp),source:t=>t.binaryOpSource,variableField:t=>t.identifier.chain(e=>ns.includes(e.toUpperCase())?p.exports.fail("Variable fields cannot be a keyword ("+ns.join(" or ")+")"):p.exports.succeed(Q.variable(e))).desc("variable"),numberField:t=>t.number.map(e=>Q.literal(e)).desc("number"),stringField:t=>t.string.map(e=>Q.literal(e)).desc("string"),boolField:t=>t.bool.map(e=>Q.literal(e)).desc("boolean"),dateField:t=>p.exports.seqMap(p.exports.string("date("),p.exports.optWhitespace,t.datePlus,p.exports.optWhitespace,p.exports.string(")"),(e,n,r,i,s)=>Q.literal(r)).desc("date"),durationField:t=>p.exports.seqMap(p.exports.string("dur("),p.exports.optWhitespace,t.duration,p.exports.optWhitespace,p.exports.string(")"),(e,n,r,i,s)=>Q.literal(r)).desc("duration"),nullField:t=>t.rawNull.map(e=>Q.NULL),linkField:t=>t.link.map(e=>Q.literal(e)),listField:t=>t.field.sepBy(p.exports.string(",").trim(p.exports.optWhitespace)).wrap(p.exports.string("[").skip(p.exports.optWhitespace),p.exports.optWhitespace.then(p.exports.string("]"))).map(e=>Q.list(e)).desc("list ('[1, 2, 3]')"),objectField:t=>p.exports.seqMap(t.identifier.or(t.string),p.exports.string(":").trim(p.exports.optWhitespace),t.field,(e,n,r)=>({name:e,value:r})).sepBy(p.exports.string(",").trim(p.exports.optWhitespace)).wrap(p.exports.string("{").skip(p.exports.optWhitespace),p.exports.optWhitespace.then(p.exports.string("}"))).map(e=>{let n={};for(let r of e)n[r.name]=r.value;return Q.object(n)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:t=>p.exports.alt(t.date,t.duration.map(e=>fu(e)),t.string,t.tag,t.embedLink,t.bool,t.number,t.rawNull),inlineFieldList:t=>t.atomInlineField.sepBy(p.exports.string(",").trim(p.exports.optWhitespace).lookahead(t.atomInlineField)),inlineField:t=>p.exports.alt(p.exports.seqMap(t.atomInlineField,p.exports.string(",").trim(p.exports.optWhitespace),t.inlineFieldList,(e,n,r)=>[e].concat(r)),t.atomInlineField),atomField:t=>p.exports.alt(t.embedLink.map(e=>Q.literal(e)),t.negatedField,t.linkField,t.listField,t.objectField,t.lambdaField,t.parensField,t.boolField,t.numberField,t.stringField,t.dateField,t.durationField,t.nullField,t.variableField),indexField:t=>p.exports.seqMap(t.atomField,p.exports.alt(t.dotPostfix,t.indexPostfix,t.functionPostfix).many(),(e,n)=>{let r=e;for(let i of n)switch(i.type){case"dot":r=Q.index(r,Q.literal(i.field));break;case"index":r=Q.index(r,i.field);break;case"function":r=Q.func(r,i.fields);break}return r}),negatedField:t=>p.exports.seqMap(p.exports.string("!"),t.indexField,(e,n)=>Q.negate(n)).desc("negated field"),parensField:t=>p.exports.seqMap(p.exports.string("("),p.exports.optWhitespace,t.field,p.exports.optWhitespace,p.exports.string(")"),(e,n,r,i,s)=>r),lambdaField:t=>p.exports.seqMap(t.identifier.sepBy(p.exports.string(",").trim(p.exports.optWhitespace)).wrap(p.exports.string("(").trim(p.exports.optWhitespace),p.exports.string(")").trim(p.exports.optWhitespace)),p.exports.string("=>").trim(p.exports.optWhitespace),t.field,(e,n,r)=>({type:"lambda",arguments:e,value:r})),dotPostfix:t=>p.exports.seqMap(p.exports.string("."),t.identifier,(e,n)=>({type:"dot",field:n})),indexPostfix:t=>p.exports.seqMap(p.exports.string("["),p.exports.optWhitespace,t.field,p.exports.optWhitespace,p.exports.string("]"),(e,n,r,i,s)=>({type:"index",field:r})),functionPostfix:t=>p.exports.seqMap(p.exports.string("("),p.exports.optWhitespace,t.field.sepBy(p.exports.string(",").trim(p.exports.optWhitespace)),p.exports.optWhitespace,p.exports.string(")"),(e,n,r,i,s)=>({type:"function",fields:r})),binaryMulDivField:t=>Un(t.indexField,t.binaryMulDiv,Q.binaryOp),binaryPlusMinusField:t=>Un(t.binaryMulDivField,t.binaryPlusMinus,Q.binaryOp),binaryCompareField:t=>Un(t.binaryPlusMinusField,t.binaryCompareOp,Q.binaryOp),binaryBooleanField:t=>Un(t.binaryCompareField,t.binaryBooleanOp,Q.binaryOp),binaryOpField:t=>t.binaryBooleanField,field:t=>t.binaryOpField});function vf(t){try{return Br.success(He.field.tryParse(t))}catch(e){return Br.failure(""+e)}}var jr;(function(t){function e(r,i){return{name:r,field:i}}t.named=e;function n(r,i){return{field:r,direction:i}}t.sortBy=n})(jr||(jr={}));function wf(t){return p.exports.custom((e,n)=>(r,i)=>{let s=t._(r,i);return s.status?Object.assign({},s,{value:[s.value,r.substring(i,s.index)]}):s})}function Ff(t){return t.split(/[\r\n]+/).map(e=>e.trim()).join("")}var xf=p.exports.createLanguage({queryType:t=>p.exports.alt(p.exports.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(e=>e.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:t=>p.exports.seqMap(He.field.skip(p.exports.whitespace),p.exports.regexp(/AS/i).skip(p.exports.whitespace),He.identifier.or(He.string),(e,n,r)=>jr.named(r,e)),namedField:t=>p.exports.alt(t.explicitNamedField,wf(He.field).map(([e,n])=>jr.named(Ff(n),e))),sortField:t=>p.exports.seqMap(He.field.skip(p.exports.optWhitespace),p.exports.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(e,n)=>{let r=n.length==0?"ascending":n[0].toLowerCase();return r=="desc"&&(r="descending"),r=="asc"&&(r="ascending"),{field:e,direction:r}}),headerClause:t=>t.queryType.skip(p.exports.whitespace).chain(e=>{switch(e){case"table":return p.exports.seqMap(p.exports.regexp(/WITHOUT\s+ID/i).skip(p.exports.optWhitespace).atMost(1),p.exports.sepBy(t.namedField,p.exports.string(",").trim(p.exports.optWhitespace)),(n,r)=>({type:"table",fields:r,showId:n.length==0}));case"list":return p.exports.seqMap(p.exports.regexp(/WITHOUT\s+ID/i).skip(p.exports.optWhitespace).atMost(1),He.field.atMost(1),(n,r)=>({type:"list",format:r.length==1?r[0]:void 0,showId:n.length==0}));case"task":return p.exports.succeed({type:"task"});case"calendar":return p.exports.seqMap(t.namedField,n=>({type:"calendar",showId:!0,field:n}));default:return p.exports.fail(`Unrecognized query type '${e}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:t=>p.exports.seqMap(p.exports.regexp(/FROM/i),p.exports.whitespace,He.source,(e,n,r)=>r),whereClause:t=>p.exports.seqMap(p.exports.regexp(/WHERE/i),p.exports.whitespace,He.field,(e,n,r)=>({type:"where",clause:r})).desc("WHERE <expression>"),sortByClause:t=>p.exports.seqMap(p.exports.regexp(/SORT/i),p.exports.whitespace,t.sortField.sepBy1(p.exports.string(",").trim(p.exports.optWhitespace)),(e,n,r)=>({type:"sort",fields:r})).desc("SORT field [ASC/DESC]"),limitClause:t=>p.exports.seqMap(p.exports.regexp(/LIMIT/i),p.exports.whitespace,He.field,(e,n,r)=>({type:"limit",amount:r})).desc("LIMIT <value>"),flattenClause:t=>p.exports.seqMap(p.exports.regexp(/FLATTEN/i).skip(p.exports.whitespace),t.namedField,(e,n)=>({type:"flatten",field:n})).desc("FLATTEN <value> [AS <name>]"),groupByClause:t=>p.exports.seqMap(p.exports.regexp(/GROUP BY/i).skip(p.exports.whitespace),t.namedField,(e,n)=>({type:"group",field:n})).desc("GROUP BY <value> [AS <name>]"),clause:t=>p.exports.alt(t.fromClause,t.whereClause,t.sortByClause,t.limitClause,t.groupByClause,t.flattenClause),query:t=>p.exports.seqMap(t.headerClause.trim(p.exports.optWhitespace),t.fromClause.trim(p.exports.optWhitespace).atMost(1),t.clause.trim(p.exports.optWhitespace).many(),(e,n,r)=>({header:e,source:n.length==0?Qe.folder(""):n[0],operations:r,settings:Qi}))}),Ef=t=>{var e;return t?(e=t.plugins.plugins.dataview)===null||e===void 0?void 0:e.api:window.DataviewAPI},kf=t=>t.plugins.enabledPlugins.has("dataview");Xe.DATE_SHORTHANDS=ts;Xe.DURATION_TYPES=es;Xe.EXPRESSION=He;Xe.KEYWORDS=ns;Xe.QUERY_LANGUAGE=xf;Xe.getAPI=Ef;Xe.isPluginEnabled=kf;Xe.parseField=vf});var vu=it((is,ss)=>{(function(t,e,n){typeof is=="object"?(ss.exports=n(),ss.exports.default=n()):typeof define=="function"&&define.amd?define(n):e[t]=n()})("slugify",is,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),e=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function n(r,i){if(typeof r!="string")throw new Error("slugify: string argument expected");i=typeof i=="string"?{replacement:i}:i||{};var s=e[i.locale]||{},a=i.replacement===void 0?"-":i.replacement,o=i.trim===void 0?!0:i.trim,u=r.normalize().split("").reduce(function(c,d){var f=s[d];return f===void 0&&(f=t[d]),f===void 0&&(f=d),f===a&&(f=" "),c+f.replace(i.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return i.strict&&(u=u.replace(/[^A-Za-z0-9\s]/g,"")),o&&(u=u.trim()),u=u.replace(/\s+/g,a),i.lower&&(u=u.toLowerCase()),u}return n.extend=function(r){Object.assign(t,r)},n})});var Pu=it((sy,Ou)=>{Ou.exports=Tu;function Tu(t,e,n,r){if(typeof n!="function")throw new Error("method for before hook must be a function");return r||(r={}),Array.isArray(e)?e.reverse().reduce(function(i,s){return Tu.bind(null,t,s,i,r)},n)():Promise.resolve().then(function(){return t.registry[e]?t.registry[e].reduce(function(i,s){return s.hook.bind(null,i,r)},n)():n(r)})}});var Au=it((ay,Ru)=>{Ru.exports=Rf;function Rf(t,e,n,r){var i=r;t.registry[n]||(t.registry[n]=[]),e==="before"&&(r=function(s,a){return Promise.resolve().then(i.bind(null,a)).then(s.bind(null,a))}),e==="after"&&(r=function(s,a){var o;return Promise.resolve().then(s.bind(null,a)).then(function(u){return o=u,i(o,a)}).then(function(){return o})}),e==="error"&&(r=function(s,a){return Promise.resolve().then(s.bind(null,a)).catch(function(o){return i(o,a)})}),t.registry[n].push({hook:r,orig:i})}});var Lu=it((oy,Nu)=>{Nu.exports=Af;function Af(t,e,n){if(!!t.registry[e]){var r=t.registry[e].map(function(i){return i.orig}).indexOf(n);r!==-1&&t.registry[e].splice(r,1)}}});var Vu=it((uy,Kn)=>{var Mu=Pu(),Nf=Au(),Lf=Lu(),Bu=Function.bind,Iu=Bu.bind(Bu);function ju(t,e,n){var r=Iu(Lf,null).apply(null,n?[e,n]:[e]);t.api={remove:r},t.remove=r,["before","error","after","wrap"].forEach(function(i){var s=n?[e,i,n]:[e,i];t[i]=t.api[i]=Iu(Nf,null).apply(null,s)})}function Mf(){var t="h",e={registry:{}},n=Mu.bind(null,e,t);return ju(n,e,t),n}function Gu(){var t={registry:{}},e=Mu.bind(null,t);return ju(e,t),e}var _u=!1;function bn(){return _u||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),_u=!0),Gu()}bn.Singular=Mf.bind();bn.Collection=Gu.bind();Kn.exports=bn;Kn.exports.Hook=bn;Kn.exports.Singular=bn.Singular;Kn.exports.Collection=bn.Collection});var Ju=it((vn,Zu)=>{"use strict";var zf=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},Gt=zf();Zu.exports=vn=Gt.fetch;Gt.fetch&&(vn.default=Gt.fetch.bind(Gt));vn.Headers=Gt.Headers;vn.Request=Gt.Request;vn.Response=Gt.Response});var el=it((py,Xu)=>{Xu.exports=Qu;function Qu(t,e){if(t&&e)return Qu(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(r){n[r]=t[r]}),n;function n(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];var s=t.apply(this,r),a=r[r.length-1];return typeof s=="function"&&s!==a&&Object.keys(a).forEach(function(o){s[o]=a[o]}),s}}});var rl=it((my,fs)=>{var tl=el();fs.exports=tl($r);fs.exports.strict=tl(nl);$r.proto=$r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return $r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return nl(this)},configurable:!0})});function $r(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function nl(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}});ei(exports,{default:()=>ks});var Jr=W(require("obsidian"));var I=W(require("obsidian"));var Ee=W(require("obsidian"));var ye;(function(n){n.path="path",n.title="title"})(ye||(ye={}));var dt;(function(a){a.github="github-configuration",a.upload="upload-configuration",a.text="text-conversion",a.embed="embed-configuration",a.plugin="plugin-settings",a.help="help"})(dt||(dt={}));var U;(function(r){r.yaml="yaml",r.obsidian="obsidian",r.fixed="fixed"})(U||(U={}));var xe;(function(n){n.free="Github Free/Pro/Team (default)",n.entreprise="Enterprise"})(xe||(xe={}));var ht="%configDir%/plugins/%pluginID%/env",Ns={github:{user:"",repo:"",branch:"main",automaticallyMergePR:!0,tokenPath:ht,api:{tiersForApi:xe.free,hostname:""},workflow:{commitMessage:"[PUBLISHER] Merge",name:""},otherRepo:[]},upload:{behavior:U.fixed,defaultName:"",rootFolder:"",yamlFolderKey:"",frontmatterTitle:{enable:!1,key:"title"},replaceTitle:[],replacePath:[],autoclean:{enable:!1,excluded:[]},folderNote:{enable:!1,rename:"index.md"},metadataExtractorPath:""},conversion:{hardbreak:!1,dataview:!0,censorText:[],tags:{inline:!1,exclude:[],fields:[]},links:{internal:!1,unshared:!1,wiki:!1,slugify:!1}},embed:{attachments:!0,keySendFile:[],notes:!1,folder:""},plugin:{shareKey:"share",fileMenu:!1,editorMenu:!1,excludedFolder:[],copyLink:{enable:!1,links:"",removePart:[],addCmd:!1},noticeError:!1,displayModalRepoEditing:!1}};function ae(t){return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(t)}function Te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ti(t,e){if(ae(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ae(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xn(t){var e=ti(t,"string");return ae(e)==="symbol"?e:String(e)}function Ls(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xn(r.key),r)}}function Oe(t,e,n){return e&&Ls(t.prototype,e),n&&Ls(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function En(t,e){return En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},En(t,e)}function Zt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&En(t,e)}function Ot(t,e){if(e&&(ae(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ie(t)}function Pe(t){return Pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pe(t)}function Ke(t,e,n){return e=xn(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ni(t){if(Array.isArray(t))return t}function ri(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rr(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ii(t,e){if(!!t){if(typeof t=="string")return rr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rr(t,e)}}function si(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ai(t){return ni(t)||ri(t)||ii(t)||si()}function Ms(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ms(Object(n),!0).forEach(function(r){Ke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var fc={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},pc=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Te(this,t),this.init(e,n)}return Oe(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||fc,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,s){return s&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,Bs(Bs({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),ze=new pc,ft=function(){function t(){Te(this,t),this.observers={}}return Oe(t,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(s){i.observers[s]=i.observers[s]||[],i.observers[s].push(r)}),this}},{key:"off",value:function(n,r){if(!!this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(this.observers[n]){var a=[].concat(this.observers[n]);a.forEach(function(u){u.apply(void 0,i)})}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach(function(u){u.apply(u,[n].concat(i))})}}}]),t}();function kn(){var t,e,n=new Promise(function(r,i){t=r,e=i});return n.resolve=t,n.reject=e,n}function Is(t){return t==null?"":""+t}function mc(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function oi(t,e,n){function r(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function i(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(i())return{};var a=r(s.shift());!t[a]&&n&&(t[a]=new n),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function js(t,e,n){var r=oi(t,e,Object),i=r.obj,s=r.k;i[s]=n}function gc(t,e,n,r){var i=oi(t,e,Object),s=i.obj,a=i.k;s[a]=s[a]||[],r&&(s[a]=s[a].concat(n)),r||s[a].push(n)}function ir(t,e){var n=oi(t,e),r=n.obj,i=n.k;if(!!r)return r[i]}function bc(t,e,n){var r=ir(t,n);return r!==void 0?r:ir(e,n)}function Gs(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):Gs(t[r],e[r],n):t[r]=e[r]);return t}function Jt(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var yc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Dc(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return yc[e]}):t}var sr=typeof window!="undefined"&&window.navigator&&typeof window.navigator.userAgentData=="undefined"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,vc=[" ",",","?","!",";"];function wc(t,e,n){e=e||"",n=n||"";var r=vc.filter(function(o){return e.indexOf(o)<0&&n.indexOf(o)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(o){return o==="?"?"\\?":o}).join("|"),")")),s=!i.test(t);if(!s){var a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s}function ar(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!t){if(t[e])return t[e];for(var r=e.split(n),i=t,s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){for(var a=2,o=r.slice(s,s+a).join(n),u=i[o];u===void 0&&r.length>s+a;)a++,o=r.slice(s,s+a).join(n),u=i[o];if(u===void 0)return;if(u===null)return null;if(e.endsWith(o)){if(typeof u=="string")return u;if(o&&typeof u[o]=="string")return u[o]}var c=r.slice(s+a).join(n);return c?ar(u,c,n):void 0}i=i[r[s]]}return i}}function _s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_s(Object(n),!0).forEach(function(r){Ke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fc(t){var e=xc();return function(){var r=Pe(t),i;if(e){var s=Pe(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Ot(this,i)}}function xc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Ec=function(t){Zt(n,t);var e=Fc(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Te(this,n),i=e.call(this),sr&&ft.call(Ie(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return Oe(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,c=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure,d=[i,s];a&&typeof a!="string"&&(d=d.concat(a)),a&&typeof a=="string"&&(d=d.concat(u?a.split(u):a)),i.indexOf(".")>-1&&(d=i.split("."));var f=ir(this.data,d);return f||!c||typeof a!="string"?f:ar(this.data&&this.data[i]&&this.data[i][s],a,u)}},{key:"addResource",value:function(i,s,a,o){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},c=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,d=[i,s];a&&(d=d.concat(c?a.split(c):a)),i.indexOf(".")>-1&&(d=i.split("."),o=s,s=d[1]),this.addNamespaces(s),js(this.data,d,o),u.silent||this.emit("added",i,s,a,o)}},{key:"addResources",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var u in a)(typeof a[u]=="string"||Object.prototype.toString.apply(a[u])==="[object Array]")&&this.addResource(i,s,u,a[u],{silent:!0});o.silent||this.emit("added",i,s,a)}},{key:"addResourceBundle",value:function(i,s,a,o,u){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},d=[i,s];i.indexOf(".")>-1&&(d=i.split("."),o=a,a=s,s=d[1]),this.addNamespaces(s);var f=ir(this.data,d)||{};o?Gs(f,a,u):f=or(or({},f),a),js(this.data,d,f),c.silent||this.emit("added",i,s,a)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?or(or({},{}),this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var s=this.getDataByLanguage(i),a=s&&Object.keys(s)||[];return!!a.find(function(o){return s[o]&&Object.keys(s[o]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(ft),Vs={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,i,s){var a=this;return e.forEach(function(o){a.processors[o]&&(n=a.processors[o].process(n,r,i,s))}),n}};function $s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$s(Object(n),!0).forEach(function(r){Ke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kc(t){var e=Cc();return function(){var r=Pe(t),i;if(e){var s=Pe(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Ot(this,i)}}function Cc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Hs={},Us=function(t){Zt(n,t);var e=kc(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Te(this,n),i=e.call(this),sr&&ft.call(Ie(i)),mc(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,Ie(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=ze.create("translator"),i}return Oe(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var a=this.resolve(i,s);return a&&a.res!==void 0}},{key:"extractFromKey",value:function(i,s){var a=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");var o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,u=s.ns||this.options.defaultNS||[],c=a&&i.indexOf(a)>-1,d=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!wc(i,a,o);if(c&&!d){var f=i.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:i,namespaces:u};var m=i.split(a);(a!==o||a===o&&this.options.ns.indexOf(m[0])>-1)&&(u=m.shift()),i=m.join(o)}return typeof u=="string"&&(u=[u]),{key:i,namespaces:u}}},{key:"translate",value:function(i,s,a){var o=this;if(ae(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),ae(s)==="object"&&(s=fe({},s)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var u=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,c=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,d=this.extractFromKey(i[i.length-1],s),f=d.key,m=d.namespaces,y=m[m.length-1],F=s.lng||this.language,k=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(F&&F.toLowerCase()==="cimode"){if(k){var C=s.nsSeparator||this.options.nsSeparator;return u?{res:"".concat(y).concat(C).concat(f),usedKey:f,exactUsedKey:f,usedLng:F,usedNS:y}:"".concat(y).concat(C).concat(f)}return u?{res:f,usedKey:f,exactUsedKey:f,usedLng:F,usedNS:y}:f}var w=this.resolve(i,s),E=w&&w.res,L=w&&w.usedKey||f,v=w&&w.exactUsedKey||f,P=Object.prototype.toString.apply(E),G=["[object Number]","[object Function]","[object RegExp]"],N=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,V=!this.i18nFormat||this.i18nFormat.handleAsObject,j=typeof E!="string"&&typeof E!="boolean"&&typeof E!="number";if(V&&E&&j&&G.indexOf(P)<0&&!(typeof N=="string"&&P==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var $=this.options.returnedObjectHandler?this.options.returnedObjectHandler(L,E,fe(fe({},s),{},{ns:m})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");return u?(w.res=$,w):$}if(c){var Se=P==="[object Array]",ie=Se?[]:{},et=Se?v:L;for(var ce in E)if(Object.prototype.hasOwnProperty.call(E,ce)){var we="".concat(et).concat(c).concat(ce);ie[ce]=this.translate(we,fe(fe({},s),{joinArrays:!1,ns:m})),ie[ce]===we&&(ie[ce]=E[ce])}E=ie}}else if(V&&typeof N=="string"&&P==="[object Array]")E=E.join(N),E&&(E=this.extendTranslation(E,i,s,a));else{var ve=!1,Le=!1,wt=s.count!==void 0&&typeof s.count!="string",ge=n.hasDefaultValue(s),Ft=wt?this.pluralResolver.getSuffix(F,s.count,s):"",We=s["defaultValue".concat(Ft)]||s.defaultValue;!this.isValidLookup(E)&&ge&&(ve=!0,E=We),this.isValidLookup(E)||(Le=!0,E=f);var xt=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,de=xt&&Le?void 0:E,he=ge&&We!==E&&this.options.updateMissing;if(Le||ve||he){if(this.logger.log(he?"updateKey":"missingKey",F,y,f,he?We:E),c){var wn=this.resolve(f,fe(fe({},s),{},{keySeparator:!1}));wn&&wn.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Et=[],kt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&kt&&kt[0])for(var $t=0;$t<kt.length;$t++)Et.push(kt[$t]);else this.options.saveMissingTo==="all"?Et=this.languageUtils.toResolveHierarchy(s.lng||this.language):Et.push(s.lng||this.language);var Ct=function(Be,Ht,Ut){var ct=ge&&Ut!==E?Ut:de;o.options.missingKeyHandler?o.options.missingKeyHandler(Be,y,Ht,ct,he,s):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(Be,y,Ht,ct,he,s),o.emit("missingKey",Be,y,Ht,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&wt?Et.forEach(function(Me){o.pluralResolver.getSuffixes(Me,s).forEach(function(Be){Ct([Me],f+Be,s["defaultValue".concat(Be)]||We)})}):Ct(Et,f,We))}E=this.extendTranslation(E,i,s,w,a),Le&&E===f&&this.options.appendNamespaceToMissingKey&&(E="".concat(y,":").concat(f)),(Le||ve)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(y,":").concat(f):f,ve?E:void 0):E=this.options.parseMissingKeyHandler(E))}return u?(w.res=E,w):E}},{key:"extendTranslation",value:function(i,s,a,o,u){var c=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,fe(fe({},this.options.interpolation.defaultVariables),a),o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init(fe(fe({},a),{interpolation:fe(fe({},this.options.interpolation),a.interpolation)}));var d=typeof i=="string"&&(a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(d){var m=i.match(this.interpolator.nestingRegexp);f=m&&m.length}var y=a.replace&&typeof a.replace!="string"?a.replace:a;if(this.options.interpolation.defaultVariables&&(y=fe(fe({},this.options.interpolation.defaultVariables),y)),i=this.interpolator.interpolate(i,y,a.lng||this.language,a),d){var F=i.match(this.interpolator.nestingRegexp),k=F&&F.length;f<k&&(a.nest=!1)}!a.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(a.lng=o.usedLng),a.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var E=arguments.length,L=new Array(E),v=0;v<E;v++)L[v]=arguments[v];return u&&u[0]===L[0]&&!a.context?(c.logger.warn("It seems you are nesting recursively key: ".concat(L[0]," in key: ").concat(s[0])),null):c.translate.apply(c,L.concat([s]))},a)),a.interpolation&&this.interpolator.reset()}var C=a.postProcess||this.options.postProcess,w=typeof C=="string"?[C]:C;return i!=null&&w&&w.length&&a.applyPostProcessor!==!1&&(i=Vs.handle(w,i,s,this.options&&this.options.postProcessPassResolved?fe({i18nResolved:o},a):a,this)),i}},{key:"resolve",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,u,c,d,f;return typeof i=="string"&&(i=[i]),i.forEach(function(m){if(!s.isValidLookup(o)){var y=s.extractFromKey(m,a),F=y.key;u=F;var k=y.namespaces;s.options.fallbackNS&&(k=k.concat(s.options.fallbackNS));var C=a.count!==void 0&&typeof a.count!="string",w=C&&!a.ordinal&&a.count===0&&s.pluralResolver.shouldUseIntlApi(),E=a.context!==void 0&&(typeof a.context=="string"||typeof a.context=="number")&&a.context!=="",L=a.lngs?a.lngs:s.languageUtils.toResolveHierarchy(a.lng||s.language,a.fallbackLng);k.forEach(function(v){s.isValidLookup(o)||(f=v,!Hs["".concat(L[0],"-").concat(v)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(f)&&(Hs["".concat(L[0],"-").concat(v)]=!0,s.logger.warn('key "'.concat(u,'" for languages "').concat(L.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),L.forEach(function(P){if(!s.isValidLookup(o)){d=P;var G=[F];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(G,F,P,v,a);else{var N;C&&(N=s.pluralResolver.getSuffix(P,a.count,a));var V="".concat(s.options.pluralSeparator,"zero");if(C&&(G.push(F+N),w&&G.push(F+V)),E){var j="".concat(F).concat(s.options.contextSeparator).concat(a.context);G.push(j),C&&(G.push(j+N),w&&G.push(j+V))}}for(var $;$=G.pop();)s.isValidLookup(o)||(c=$,o=s.getResource(P,v,$,a))}}))})}}),{res:o,usedKey:u,exactUsedKey:c,usedLng:d,usedNS:f}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,a){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,a,o):this.resourceStore.getResource(i,s,a,o)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&s===a.substring(0,s.length)&&i[a]!==void 0)return!0;return!1}}]),n}(ft);function ui(t){return t.charAt(0).toUpperCase()+t.slice(1)}var qs=function(){function t(e){Te(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ze.create("languageUtils")}return Oe(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(s){return s.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=ui(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=ui(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=ui(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(s){if(!i){var a=r.formatLanguageCode(s);(!r.options.supportedLngs||r.isSupportedCode(a))&&(i=a)}}),!i&&this.options.supportedLngs&&n.forEach(function(s){if(!i){var a=r.getLanguagePartFromCode(s);if(r.isSupportedCode(a))return i=a;i=r.options.supportedLngs.find(function(o){if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&o.indexOf(a)===0)return o})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,s=this.getFallbackCodes(r||this.options.fallbackLng||[],n),a=[],o=function(c){!c||(i.isSupportedCode(c)?a.push(c):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(c)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(n))):typeof n=="string"&&o(this.formatLanguageCode(n)),s.forEach(function(u){a.indexOf(u)<0&&o(i.formatLanguageCode(u))}),a}}]),t}(),Sc=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Tc={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},Oc=["v1","v2","v3"],Ws={zero:0,one:1,two:2,few:3,many:4,other:5};function Pc(){var t={};return Sc.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:Tc[e.fc]}})}),t}var Rc=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Te(this,t),this.languageUtils=e,this.options=n,this.logger=ze.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl=="undefined"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Pc()}return Oe(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch(i){return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(s){return"".concat(r).concat(s)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(a,o){return Ws[a]-Ws[o]}).map(function(a){return"".concat(r.options.prepend).concat(a)}):s.numbers.map(function(a){return r.getSuffix(n,a,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(r)):this.getSuffixRetroCompatible(s,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,s=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),a=n.numbers[s];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(a===2?a="plural":a===1&&(a=""));var o=function(){return i.options.prepend&&a.toString()?i.options.prepend+a.toString():a.toString()};return this.options.compatibilityJSON==="v1"?a===1?"":typeof a=="number"?"_plural_".concat(a.toString()):o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?o():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!Oc.includes(this.options.compatibilityJSON)}}]),t}();function Ks(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ks(Object(n),!0).forEach(function(r){Ke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ks(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zs(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=bc(t,e,n);return!s&&i&&typeof n=="string"&&(s=ar(t,n,r),s===void 0&&(s=ar(e,n,r))),s}var Ac=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Te(this,t),this.logger=ze.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return Oe(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:Dc,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?Jt(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?Jt(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?Jt(r.nestingPrefix):r.nestingPrefixEscaped||Jt("$t("),this.nestingSuffix=r.nestingSuffix?Jt(r.nestingSuffix):r.nestingSuffixEscaped||Jt(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,s){var a=this,o,u,c,d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(C){return C.replace(/\$/g,"$$$$")}var m=function(w){if(w.indexOf(a.formatSeparator)<0){var E=zs(r,d,w,a.options.keySeparator,a.options.ignoreJSONStructure);return a.alwaysFormat?a.format(E,void 0,i,je(je(je({},s),r),{},{interpolationkey:w})):E}var L=w.split(a.formatSeparator),v=L.shift().trim(),P=L.join(a.formatSeparator).trim();return a.format(zs(r,d,v,a.options.keySeparator,a.options.ignoreJSONStructure),P,i,je(je(je({},s),r),{},{interpolationkey:v}))};this.resetRegExp();var y=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,F=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,k=[{regex:this.regexpUnescape,safeValue:function(w){return f(w)}},{regex:this.regexp,safeValue:function(w){return a.escapeValue?f(a.escape(w)):f(w)}}];return k.forEach(function(C){for(c=0;o=C.regex.exec(n);){var w=o[1].trim();if(u=m(w),u===void 0)if(typeof y=="function"){var E=y(n,o,s);u=typeof E=="string"?E:""}else if(s&&Object.prototype.hasOwnProperty.call(s,w))u="";else if(F){u=o[0];continue}else a.logger.warn("missed to pass in variable ".concat(w," for interpolating ").concat(n)),u="";else typeof u!="string"&&!a.useRawValueToEscape&&(u=Is(u));var L=C.safeValue(u);if(n=n.replace(o[0],L),F?(C.regex.lastIndex+=u.length,C.regex.lastIndex-=o[0].length):C.regex.lastIndex=0,c++,c>=a.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,o,u;function c(y,F){var k=this.nestingOptionsSeparator;if(y.indexOf(k)<0)return y;var C=y.split(new RegExp("".concat(k,"[ ]*{"))),w="{".concat(C[1]);y=C[0],w=this.interpolate(w,u);var E=w.match(/'/g),L=w.match(/"/g);(E&&E.length%2==0&&!L||L.length%2!=0)&&(w=w.replace(/'/g,'"'));try{u=JSON.parse(w),F&&(u=je(je({},F),u))}catch(v){return this.logger.warn("failed parsing options string in nesting for key ".concat(y),v),"".concat(y).concat(k).concat(w)}return delete u.defaultValue,y}for(;a=this.nestingRegexp.exec(n);){var d=[];u=je({},s),u=u.replace&&typeof u.replace!="string"?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;var f=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){var m=a[1].split(this.formatSeparator).map(function(y){return y.trim()});a[1]=m.shift(),d=m,f=!0}if(o=r(c.call(this,a[1].trim(),u),u),o&&a[0]===n&&typeof o!="string")return o;typeof o!="string"&&(o=Is(o)),o||(this.logger.warn("missed to resolve ".concat(a[1]," for nesting ").concat(n)),o=""),f&&(o=d.reduce(function(y,F){return i.format(y,F,s.lng,je(je({},s),{},{interpolationkey:a[1].trim()}))},o.trim())),n=n.replace(a[0],o),this.regexp.lastIndex=0}return n}}]),t}();function Ys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ys(Object(n),!0).forEach(function(r){Ke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ys(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nc(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(e==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var s=i.split(";");s.forEach(function(a){if(!!a){var o=a.split(":"),u=ai(o),c=u[0],d=u.slice(1),f=d.join(":").trim().replace(/^'+|'+$/g,"");n[c.trim()]||(n[c.trim()]=f),f==="false"&&(n[c.trim()]=!1),f==="true"&&(n[c.trim()]=!0),isNaN(f)||(n[c.trim()]=parseInt(f,10))}})}}return{formatName:e,formatOptions:n}}function Qt(t){var e={};return function(r,i,s){var a=i+JSON.stringify(s),o=e[a];return o||(o=t(i,s),e[a]=o),o(r)}}var Lc=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Te(this,t),this.logger=ze.create("formatter"),this.options=e,this.formats={number:Qt(function(n,r){var i=new Intl.NumberFormat(n,st({},r));return function(s){return i.format(s)}}),currency:Qt(function(n,r){var i=new Intl.NumberFormat(n,st(st({},r),{},{style:"currency"}));return function(s){return i.format(s)}}),datetime:Qt(function(n,r){var i=new Intl.DateTimeFormat(n,st({},r));return function(s){return i.format(s)}}),relativetime:Qt(function(n,r){var i=new Intl.RelativeTimeFormat(n,st({},r));return function(s){return i.format(s,r.range||"day")}}),list:Qt(function(n,r){var i=new Intl.ListFormat(n,st({},r));return function(s){return i.format(s)}})},this.init(e)}return Oe(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=Qt(r)}},{key:"format",value:function(n,r,i){var s=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=r.split(this.formatSeparator),u=o.reduce(function(c,d){var f=Nc(d),m=f.formatName,y=f.formatOptions;if(s.formats[m]){var F=c;try{var k=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},C=k.locale||k.lng||a.locale||a.lng||i;F=s.formats[m](c,C,st(st(st({},y),a),k))}catch(w){s.logger.warn(w)}return F}else s.logger.warn("there was no format function for ".concat(m));return c},n);return u}}]),t}();function Zs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zs(Object(n),!0).forEach(function(r){Ke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zs(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mc(t){var e=Bc();return function(){var r=Pe(t),i;if(e){var s=Pe(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Ot(this,i)}}function Bc(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Ic(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var jc=function(t){Zt(n,t);var e=Mc(n);function n(r,i,s){var a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Te(this,n),a=e.call(this),sr&&ft.call(Ie(a)),a.backend=r,a.store=i,a.services=s,a.languageUtils=s.languageUtils,a.options=o,a.logger=ze.create("backendConnector"),a.waitingReads=[],a.maxParallelReads=o.maxParallelReads||10,a.readingCalls=0,a.maxRetries=o.maxRetries>=0?o.maxRetries:5,a.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,a.state={},a.queue=[],a.backend&&a.backend.init&&a.backend.init(s,o.backend,o),a}return Oe(n,[{key:"queueLoad",value:function(i,s,a,o){var u=this,c={},d={},f={},m={};return i.forEach(function(y){var F=!0;s.forEach(function(k){var C="".concat(y,"|").concat(k);!a.reload&&u.store.hasResourceBundle(y,k)?u.state[C]=2:u.state[C]<0||(u.state[C]===1?d[C]===void 0&&(d[C]=!0):(u.state[C]=1,F=!1,d[C]===void 0&&(d[C]=!0),c[C]===void 0&&(c[C]=!0),m[k]===void 0&&(m[k]=!0)))}),F||(f[y]=!0)}),(Object.keys(c).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(c),pending:Object.keys(d),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(m)}}},{key:"loaded",value:function(i,s,a){var o=i.split("|"),u=o[0],c=o[1];s&&this.emit("failedLoading",u,c,s),a&&this.store.addResourceBundle(u,c,a),this.state[i]=s?-1:2;var d={};this.queue.forEach(function(f){gc(f.loaded,[u],c),Ic(f,i),s&&f.errors.push(s),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(function(m){d[m]||(d[m]={});var y=f.loaded[m];y.length&&y.forEach(function(F){d[m][F]===void 0&&(d[m][F]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(i,s,a){var o=this,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,d=arguments.length>5?arguments[5]:void 0;if(!i.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:a,tried:u,wait:c,callback:d});return}this.readingCalls++;var f=function(k,C){if(o.readingCalls--,o.waitingReads.length>0){var w=o.waitingReads.shift();o.read(w.lng,w.ns,w.fcName,w.tried,w.wait,w.callback)}if(k&&C&&u<o.maxRetries){setTimeout(function(){o.read.call(o,i,s,a,u+1,c*2,d)},c);return}d(k,C)},m=this.backend[a].bind(this.backend);if(m.length===2){try{var y=m(i,s);y&&typeof y.then=="function"?y.then(function(F){return f(null,F)}).catch(f):f(null,y)}catch(F){f(F)}return}return m(i,s,f)}},{key:"prepareLoading",value:function(i,s){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var c=this.queueLoad(i,s,o,u);if(!c.toLoad.length)return c.pending.length||u(),null;c.toLoad.forEach(function(d){a.loadOne(d)})}},{key:"load",value:function(i,s,a){this.prepareLoading(i,s,{},a)}},{key:"reload",value:function(i,s,a){this.prepareLoading(i,s,{reload:!0},a)}},{key:"loadOne",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=i.split("|"),u=o[0],c=o[1];this.read(u,c,"read",void 0,void 0,function(d,f){d&&s.logger.warn("".concat(a,"loading namespace ").concat(c," for language ").concat(u," failed"),d),!d&&f&&s.logger.log("".concat(a,"loaded namespace ").concat(c," for language ").concat(u),f),s.loaded(i,d,f)})}},{key:"saveMissing",value:function(i,s,a,o,u){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(a,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend&&this.backend.create){var f=Js(Js({},c),{},{isUpdate:u}),m=this.backend.create.bind(this.backend);if(m.length<6)try{var y;m.length===5?y=m(i,s,a,o,f):y=m(i,s,a,o),y&&typeof y.then=="function"?y.then(function(F){return d(null,F)}).catch(d):d(null,y)}catch(F){d(F)}else m(i,s,a,o,d,f)}!i||!i[0]||this.store.addResource(i[0],s,a,o)}}}]),n}(ft);function Qs(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(ae(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),ae(e[2])==="object"||ae(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Xs(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function ea(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ea(Object(n),!0).forEach(function(r){Ke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gc(t){var e=_c();return function(){var r=Pe(t),i;if(e){var s=Pe(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Ot(this,i)}}function _c(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function ur(){}function Vc(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var lr=function(t){Zt(n,t);var e=Gc(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(Te(this,n),r=e.call(this),sr&&ft.call(Ie(r)),r.options=Xs(i),r.services={},r.logger=ze,r.modules={external:[]},Vc(Ie(r)),s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),Ot(r,Ie(r));setTimeout(function(){r.init(i,s)},0)}return r}return Oe(n,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(a=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var o=Qs();this.options=Ye(Ye(Ye({},o),this.options),Xs(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Ye(Ye({},o.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function u(w){return w?typeof w=="function"?new w:w:null}if(!this.options.isClone){this.modules.logger?ze.init(u(this.modules.logger),this.options):ze.init(null,this.options);var c;this.modules.formatter?c=this.modules.formatter:typeof Intl!="undefined"&&(c=Lc);var d=new qs(this.options);this.store=new Ec(this.options.resources,this.options);var f=this.services;f.logger=ze,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new Rc(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(f.formatter=u(c),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new Ac(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new jc(u(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(w){for(var E=arguments.length,L=new Array(E>1?E-1:0),v=1;v<E;v++)L[v-1]=arguments[v];i.emit.apply(i,[w].concat(L))}),this.modules.languageDetector&&(f.languageDetector=u(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=u(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Us(this.services,this.options),this.translator.on("*",function(w){for(var E=arguments.length,L=new Array(E>1?E-1:0),v=1;v<E;v++)L[v-1]=arguments[v];i.emit.apply(i,[w].concat(L))}),this.modules.external.forEach(function(w){w.init&&w.init(i)})}if(this.format=this.options.interpolation.format,a||(a=ur),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var y=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];y.forEach(function(w){i[w]=function(){var E;return(E=i.store)[w].apply(E,arguments)}});var F=["addResource","addResources","addResourceBundle","removeResourceBundle"];F.forEach(function(w){i[w]=function(){var E;return(E=i.store)[w].apply(E,arguments),i}});var k=kn(),C=function(){var E=function(v,P){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),k.resolve(P),a(v,P)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return E(null,i.t.bind(i));i.changeLanguage(i.options.lng,E)};return this.options.resources||!this.options.initImmediate?C():setTimeout(C,0),k}},{key:"loadResources",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ur,o=a,u=typeof i=="string"?i:this.language;if(typeof i=="function"&&(o=i),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode")return o();var c=[],d=function(y){if(!!y){var F=s.services.languageUtils.toResolveHierarchy(y);F.forEach(function(k){c.indexOf(k)<0&&c.push(k)})}};if(u)d(u);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(m){return d(m)})}this.options.preload&&this.options.preload.forEach(function(m){return d(m)}),this.services.backendConnector.load(c,this.options.ns,function(m){!m&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),o(m)})}else o(null)}},{key:"reloadResources",value:function(i,s,a){var o=kn();return i||(i=this.languages),s||(s=this.options.ns),a||(a=ur),this.services.backendConnector.reload(i,s,function(u){o.resolve(),a(u)}),o}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&Vs.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var s=0;s<this.languages.length;s++){var a=this.languages[s];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}}},{key:"changeLanguage",value:function(i,s){var a=this;this.isLanguageChangingTo=i;var o=kn();this.emit("languageChanging",i);var u=function(m){a.language=m,a.languages=a.services.languageUtils.toResolveHierarchy(m),a.resolvedLanguage=void 0,a.setResolvedLanguage(m)},c=function(m,y){y?(u(y),a.translator.changeLanguage(y),a.isLanguageChangingTo=void 0,a.emit("languageChanged",y),a.logger.log("languageChanged",y)):a.isLanguageChangingTo=void 0,o.resolve(function(){return a.t.apply(a,arguments)}),s&&s(m,function(){return a.t.apply(a,arguments)})},d=function(m){!i&&!m&&a.services.languageDetector&&(m=[]);var y=typeof m=="string"?m:a.services.languageUtils.getBestMatchFromCodes(m);y&&(a.language||u(y),a.translator.language||a.translator.changeLanguage(y),a.services.languageDetector&&a.services.languageDetector.cacheUserLanguage&&a.services.languageDetector.cacheUserLanguage(y)),a.loadResources(y,function(F){c(F,y)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(i),o}},{key:"getFixedT",value:function(i,s,a){var o=this,u=function c(d,f){var m;if(ae(f)!=="object"){for(var y=arguments.length,F=new Array(y>2?y-2:0),k=2;k<y;k++)F[k-2]=arguments[k];m=o.options.overloadTranslationOptionHandler([d,f].concat(F))}else m=Ye({},f);m.lng=m.lng||c.lng,m.lngs=m.lngs||c.lngs,m.ns=m.ns||c.ns,m.keyPrefix=m.keyPrefix||a||c.keyPrefix;var C=o.options.keySeparator||".",w;return m.keyPrefix&&Array.isArray(d)?w=d.map(function(E){return"".concat(m.keyPrefix).concat(C).concat(E)}):w=m.keyPrefix?"".concat(m.keyPrefix).concat(C).concat(d):d,o.t(w,m)};return typeof i=="string"?u.lng=i:u.lngs=i,u.ns=s,u.keyPrefix=a,u}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=a.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;var d=function(y,F){var k=s.services.backendConnector.state["".concat(y,"|").concat(F)];return k===-1||k===2};if(a.precheck){var f=a.precheck(this,d);if(f!==void 0)return f}return!!(this.hasResourceBundle(o,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(o,i)&&(!u||d(c,i)))}},{key:"loadNamespaces",value:function(i,s){var a=this,o=kn();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(u){a.options.ns.indexOf(u)<0&&a.options.ns.push(u)}),this.loadResources(function(u){o.resolve(),s&&s(u)}),o):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var a=kn();typeof i=="string"&&(i=[i]);var o=this.options.preload||[],u=i.filter(function(c){return o.indexOf(c)<0});return u.length?(this.options.preload=o.concat(u),this.loadResources(function(c){a.resolve(),s&&s(c)}),a):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services&&this.services.languageUtils||new qs(Qs());return s.indexOf(a.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ur,o=Ye(Ye(Ye({},this.options),s),{isClone:!0}),u=new n(o);(s.debug!==void 0||s.prefix!==void 0)&&(u.logger=u.logger.clone(s));var c=["store","services","language"];return c.forEach(function(d){u[d]=i[d]}),u.services=Ye({},this.services),u.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u.translator=new Us(u.services,u.options),u.translator.on("*",function(d){for(var f=arguments.length,m=new Array(f>1?f-1:0),y=1;y<f;y++)m[y-1]=arguments[y];u.emit.apply(u,[d].concat(m))}),u.init(o,a),u.translator.options=u.options,u.translator.backendConnector.services.utils={hasLoadedNamespace:u.hasLoadedNamespace.bind(u)},u}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(ft);Ke(lr,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new lr(t,e)});var l=lr.createInstance();l.createInstance=lr.createInstance;var rm=l.createInstance,im=l.dir,sm=l.init,am=l.loadResources,om=l.reloadResources,um=l.use,lm=l.changeLanguage,cm=l.getFixedT,dm=l.t,hm=l.exists,fm=l.setDefaultNamespace,pm=l.hasLoadedNamespace,mm=l.loadNamespaces,gm=l.loadLanguages;var li=class extends Ee.Modal{constructor(e,n,r,i){super(e);this.allRegex=r,this.settings=n,this.onSubmit=i}classValue(e){this.settings.upload.replacePath=e.filter(n=>n.type===ye.path),this.settings.upload.replaceTitle=e.filter(n=>n.type===ye.title)}forbiddenValue(e,n){let r=n===ye.path?l.t("common.path.folder"):l.t("common.path.file");r=r.toLowerCase();let i=!1;return e=="/"?(new Ee.Notice(l.t("settings.regexReplacing.forbiddenValue",{what:r,forbiddenChar:e})),e="",i=!0):e.match(/[><:"|?*]|(\\\/)|(^\w+\/\w+)|(\\)/)&&n===ye.title?(new Ee.Notice(l.t("settings.regexReplacing.forbiddenValue",{what:r,forbiddenChar:e.match(/[><:"|?*]|(\\\/)|(^\w+\/\w+)|(\\)/)[0]})),e="",i=!0):n===ye.path&&(e.match(/[\\><:"|?*]/)?(new Ee.Notice(l.t("settings.regexReplacing.forbiddenValue",{what:r,forbiddenChar:e.match(/[\\><:"|?*]/)[0]})),e="",i=!0):e.match(/(^\w+\/\w+)|(\\\/)/)&&new Ee.Notice(l.t("settings.regexReplacing.warningPath"))),[e,i]}onOpen(){let{contentEl:e}=this;e.empty(),this.settings.upload.behavior===U.fixed?e.createEl("h2",{text:l.t("settings.regexReplacing.modal.title.only")}):e.createEl("h2",{text:l.t("settings.regexReplacing.modal.title.all")}),this.settings.upload.replacePath?this.settings.upload.replaceTitle||(this.settings.upload.replaceTitle=[]):this.settings.upload.replacePath=[],this.settings.upload.replacePath.forEach(n=>{n.type||(n.type=ye.path)}),this.settings.upload.replaceTitle.forEach(n=>{n.type||(n.type=ye.title)});for(let n of this.allRegex){let r=new Ee.Setting(e).setClass("github-publisher-censor-entry").addText(i=>{i.inputEl.style.width="100%",i.setPlaceholder(l.t("regex.entry")).setValue(n.regex).onChange(s=>{n.regex=s})}).addText(i=>{i.inputEl.style.width="100%",i.setPlaceholder(l.t("regex.replace")).setValue(n.replacement).onChange(s=>{n.replacement=s})});this.settings.upload.behavior!==U.fixed?r.addDropdown(i=>{i.addOption("path",l.t("common.path.folder")).addOption("title",l.t("common.path.file")).setValue(n.type).onChange(s=>{n.type=s})}):r.addButton(i=>{i.buttonEl.classList.add("github-publisher-disabled-button"),i.setButtonText(l.t("common.path.file"))}),r.addExtraButton(i=>{i.setIcon("trash").onClick(()=>{this.allRegex.splice(this.allRegex.indexOf(n),1),this.onOpen()})})}new Ee.Setting(e).setClass("github-publisher-modals").addButton(n=>{n.setIcon("plus").onClick(()=>{this.allRegex.push({regex:"",replacement:"",type:ye.title}),this.onOpen()})}).addButton(n=>{n.setButtonText(l.t("common.save")).onClick(()=>{let r=[];this.allRegex.forEach(i=>{let s=this.forbiddenValue(i.regex,i.type),a=this.forbiddenValue(i.replacement,i.type);r.push(s[1]),r.push(a[1]),(s[1]||a[1])&&(i.regex=s[0],i.replacement=a[0])}),r.includes(!0)||(this.onSubmit(this.allRegex),this.close())})})}onClose(){let{contentEl:e}=this;e.empty()}},ci=class extends Ee.Modal{constructor(e,n,r){super(e);this.settings=n,this.onSubmit=r}onOpen(){let{contentEl:e}=this;e.empty(),e.createEl("p",{text:l.t("settings.regexReplacing.modal.title.text")}).createEl("p",{text:l.t("settings.regexReplacing.modal.desc")}).createEl("p",{text:l.t("settings.regexReplacing.empty")});for(let n of this.settings.conversion.censorText){let r=n.after?"arrow-down":"arrow-up",i=n.after?l.t("common.after").toLowerCase():l.t("common.before").toLowerCase(),s=l.t("settings.regexReplacing.momentReplaceRegex",{moment:i});new Ee.Setting(e).setClass("github-publisher-censor-entry").addText(a=>{a.inputEl.style.width="100%",a.setPlaceholder(l.t("regex.entry")).setValue(n.entry).onChange(o=>g(this,null,function*(){n.entry=o}))}).addText(a=>{a.inputEl.style.width="100%",a.setPlaceholder(l.t("regex.replace")).setValue(n.replace).onChange(o=>g(this,null,function*(){n.replace=o}))}).addExtraButton(a=>{a.setIcon("trash").setTooltip(l.t("common.delete",{things:"Regex"})).onClick(()=>g(this,null,function*(){this.settings.conversion.censorText.splice(this.settings.conversion.censorText.indexOf(n),1),this.onOpen()}))}).addExtraButton(a=>{a.setTooltip(s).setIcon(r).onClick(()=>g(this,null,function*(){n.after=!n.after,this.onOpen()}))})}new Ee.Setting(e).addButton(n=>{n.setIcon("plus").setTooltip(l.t("common.add",{things:"Regex"})).onClick(()=>g(this,null,function*(){let r={entry:"",replace:"",after:!1};this.settings.conversion.censorText.push(r),this.onOpen()}))}).addButton(n=>{n.setButtonText(l.t("common.save")).onClick(()=>{this.onSubmit(this.settings),this.close()})})}onClose(){let{contentEl:e}=this;e.empty()}};function Pt(t){for(let[e,n]of Object.entries(t))e!="components"&&n.show()}function Xt(t){for(let[e,n]of Object.entries(t))e!="components"&&n.hide()}function ta(t,e,n,r){let i=t.upload;i.behavior===U.yaml?(Pt(e),Pt(n),Pt(r)):(Xt(e),Xt(n),i.behavior===U.obsidian?Pt(r):Xt(r))}function cr(t,e,n){return g(this,null,function*(){let r=n.settings.upload;t.length===0&&r.defaultName?(r.autoclean.enable=!1,yield n.saveSettings(),e.setDisabled(!0),e.components[0].toggleEl.classList.remove("is-enabled")):t.length===0&&r.behavior!==U.yaml?(r.autoclean.enable=!1,e.setDisabled(!0),e.components[0].toggleEl.classList.remove("is-enabled")):(e.setDisabled(!1),r.autoclean.enable&&e.components[0].toggleEl.classList.add("is-enabled"))})}function di(t,e,n,r,i){return g(this,null,function*(){let s=i.settings.upload;r===U.yaml?(Pt(t),Pt(e),cr(s.rootFolder,n,i).then()):(s.defaultName.length>0&&(n.setDisabled(!1),s.autoclean.enable&&n.components[0].toggleEl.classList.add("is-enabled")),Xt(t),Xt(e))})}function na(t,e,n){let r=n.settings.upload;t?(e.setDisabled(!0),e.components[0].toggleEl.classList.remove("is-enabled"),r.autoclean.enable=!1,n.saveSettings().then()):(e.setDisabled(!1),r.autoclean.enable&&e.components[0].toggleEl.classList.add("is-enabled"))}function ra(t,e){t?Pt(e):Xt(e)}function ia(t){let e="";t.upload.behavior===U.yaml&&(e=`${t.upload.yamlFolderKey}: ${t.upload.defaultName}
`);let n=t.github.otherRepo.length>0?"shortRepo: "+t.github.otherRepo[0].smartKey+`
`:"";return`${t.plugin.shareKey}: true
`+e+`links:
  mdlinks: ${t.conversion.links.wiki}
  convert: true
  internals: ${t.conversion.links.internal}
  nonShared: ${t.conversion.links.unshared}
embed:
  send: ${t.embed.notes}
  remove: false
attachment:
  send: ${t.embed.attachments}
  folder: ${t.embed.folder}
dataview: ${t.conversion.dataview}
hardBreak: ${t.conversion.hardbreak}
`+n+`repo:
  owner: ${t.github.user}
  repo: ${t.github.repo}
  branch: ${t.github.branch}
  autoclean: ${t.upload.autoclean.enable}
copylink:
  base: ${t.plugin.copyLink.links}
  remove: [${t.plugin.copyLink.removePart.map(r=>`"${r}"`).join(", ")}]
`}function sa(t){let e=document.createDocumentFragment();return e.createEl("ul",null,n=>{n.createEl("li",null,r=>{r.createEl("code",{text:`${t.plugin.shareKey}:`,cls:"code-title"}),r.createEl("span",{text:`${l.t("settings.help.frontmatter.share.title")}`}),r.createEl("ul",null,i=>{i.createEl("span",{text:l.t("settings.help.frontmatter.share.other")})})}),n.createEl("li",null,r=>{r.createEl("code",{text:"path:",cls:"code-title"}),r.createEl("span",{text:` ${l.t("settings.help.frontmatter.path")}`})}),n.createEl("li",null,r=>{r.createEl("code",{text:"links:",cls:"code-title"})}),n.createEl("ul",null,r=>{r.createEl("li",null,i=>{i.createEl("code",{text:"mdlinks"}),i.createEl("span",{text:`: ${l.t("settings.help.frontmatter.mdlinks")}`})}),r.createEl("li",null,i=>{i.createEl("code",{text:"convert"}),i.createEl("span",null,s=>{s.createEl("span",{text:`: ${l.t("settings.help.frontmatter.convert.enableOrDisable")} `}),s.createEl("code",{text:" [[link]] "}),s.createEl("span",{text:l.t("common.or")}),s.createEl("code",{text:" [](link) "}),s.createEl("span",{text:l.t("settings.help.frontmatter.convert.syntax")})})}),r.createEl("li",null,i=>{i.createEl("code",{text:"internals"}),i.createEl("span",{text:`: ${l.t("settings.help.frontmatter.internals")}`})}),r.createEl("li",null,i=>{i.createEl("code",{text:"nonShared"}),i.createEl("span",{text:`: ${l.t("settings.help.frontmatter.nonShared")}`})})}),n.createEl("li",{text:"embed:",cls:"code code-title"}),n.createEl("ul",null,r=>{r.createEl("li",null,i=>{i.createEl("code",{text:"send"}),i.createEl("span",{text:`: ${l.t("settings.help.frontmatter.embed.send")}`})}),r.createEl("li",null,i=>{i.createEl("code",{text:"remove"}),i.createEl("span",{text:`: ${l.t("settings.help.frontmatter.embed.remove")}`})})}),n.createEl("li",{text:"attachment:",cls:"code code-title"}),n.createEl("ul",null,r=>{r.createEl("li",null,i=>{i.createEl("code",{text:"send"}),i.createEl("span",{text:`: ${l.t("settings.help.frontmatter.attachment.send")}`})}),r.createEl("li",null,i=>{i.createEl("code",{text:"folder"}),i.createEl("span",{text:`: ${l.t("settings.help.frontmatter.attachment.folder")}`})})}),n.createEl("li",null,r=>{r.createEl("code",{text:"dataview",cls:"code-title"}),r.createEl("span",{text:`: ${l.t("settings.help.frontmatter.dataview")}`})}),n.createEl("li",null,r=>{r.createEl("code",{text:"hardbreak",cls:"code-title"}),r.createEl("span",{text:`: ${l.t("settings.help.frontmatter.hardBreak")}`})}),n.createEl("li",null,r=>{r.createEl("code",{text:"shortRepo",cls:"code-title"}),r.createEl("span",{text:`: ${l.t("settings.help.frontmatter.shortRepo")}`})}),n.createEl("li",null,r=>{r.createEl("code",{text:"repo",cls:"code-title"}),r.createEl("span",{text:`: ${l.t("settings.help.frontmatter.repo.desc")}`}),r.createEl("ul",null,i=>{i.createEl("li",null,s=>{s.createEl("code",{text:"owner"}),s.createEl("span",{text:`: ${l.t("settings.help.frontmatter.repo.owner")}`})}),i.createEl("li",null,s=>{s.createEl("code",{text:"repo"}),s.createEl("span",{text:`: ${l.t("settings.github.repoName.title")}`})}),i.createEl("li",null,s=>{s.createEl("code",{text:"branch"}),s.createEl("span",{text:`: ${l.t("settings.help.frontmatter.repo.branch")}`})}),i.createEl("li",null,s=>{s.createEl("code",{text:"autoclean"}),s.createEl("span",{text:`: ${l.t("settings.help.frontmatter.autoclean")}`})})})}),n.createEl("li",null,r=>{r.createEl("code",{text:`${t.upload.frontmatterTitle.key}`,cls:"code-title"}),r.createEl("span",{text:`: ${l.t("settings.help.frontmatter.titleKey")}`})}),n.createEl("li",null,r=>{r.createEl("code",{text:"baseLink",cls:"code-title"}),r.createEl("span",{text:`: ${l.t("settings.help.frontmatter.baselink.desc")}`}),r.createEl("code",{text:"copylink:",cls:"code-title"}),r.createEl("ul",null,i=>{i.createEl("li",null,s=>{s.createEl("code",{text:"base"}),s.createEl("span",{text:`: ${l.t("settings.plugin.copyLink.baselink.title")}`})}),i.createEl("li",null,s=>{s.createEl("code",{text:"remove"}),s.createEl("span",{text:`: ${l.t("settings.help.frontmatter.baselink.remove")}`})})})})}),e}function aa(){let t=document.createDocumentFragment();return t.createEl("ul",null,e=>{e.createEl("li",null,n=>{n.createEl("a",{text:l.t("settings.help.usefulLinks.documentation"),href:l.t("settings.help.usefulLinks.links")})}),e.createEl("li",null,n=>{n.createEl("a",{text:l.t("common.repository"),href:"https://github.com/ObsidianPublisher/obsidian-github-publisher"})}),e.createEl("li",null,n=>{n.createEl("a",{text:l.t("settings.help.usefulLinks.issue"),href:"https://github.com/ObsidianPublisher/obsidian-github-publisher/issues"})}),e.createEl("li",null,n=>{n.createEl("a",{text:l.t("settings.help.usefulLinks.discussion"),href:"https://github.com/ObsidianPublisher/obsidian-github-publisher/discussions"})})}),t}function oa(t){let e=document.createDocumentFragment();return e.createEl("p",null,n=>{n.createEl("span",{text:l.t("settings.help.multiRepoHelp.desc")}),n.createEl("code",{text:"multipleRepo"}),n.createEl("span",{text:` ${l.t("settings.help.multiRepoHelp.desc2")}:`}),n.createEl("ul",null,r=>{r.createEl("li",{text:"owner"}).addClass("code"),r.createEl("li",{text:"repo"}).addClass("code"),r.createEl("li",{text:"branch"}).addClass("code"),r.createEl("li",{text:"autoclean"}).addClass("code")}),n.createEl("span",{text:l.t("settings.help.multiRepoHelp.exampleDesc")})}),e.createEl("pre",{cls:"language-yaml"}).createEl("code",{text:`multipleRepo:
  - owner: ${t.github.user}
    repo: ${t.github.repo}
    branch: ${t.github.branch}
    autoclean: false
  - owner: ${t.github.user}
    repo: my_second_brain
    branch: master
    autoclean: false`,cls:"language-yaml"}),e}function ua(){let t=document.createDocumentFragment();return t.createEl("p",null,e=>{e.createEl("a",null,n=>{n.createEl("img",null,r=>{r.setAttr("src","https://storage.ko-fi.com/cdn/kofi2.png?v=3"),r.setAttr("alt","Buy Me A Coffee"),r.setAttr("style","height: 60px !important;width: 217px !important;")}),n.setAttr("href","https://ko-fi.com/lisandra_dev")}),e.setAttr("style","text-align: center;")}),t}var Sn=W(require("obsidian"));var Ge=W(require("obsidian"));var hr=W(require("obsidian"));function hi(t,e){let n=e;if(!e){let r=t.match(/\/([gimy]+)$/);n=r?Array.from(new Set(r[1].split(""))).join(""):""}return new RegExp(t.replace(/\/(.+)\/.*/,"$1"),n)}function dr(t,e,n){if(!e.conversion.censorText)return t;let r=e.conversion.censorText.filter(i=>!i.after);n&&(r=e.conversion.censorText.filter(i=>i.after));for(let i of r)if(i.entry.trim().length>0){let s=i.entry,a=i.replace;if(s.match(/^\/.+\/$/)){let o=hi(s,i.flags);t=t.replace(o,a)}else t=t.replaceAll(s,a)}return t}function la(t,e,n){if(!e.conversion.dataview)return[];let r=/\[\[(.*?)\]\]/gim,i=t.matchAll(r),s=[];if(!i)return[];if(i)for(let a of i){let o=a[1].replace(/(.*)\\?\|/i,""),u=a[1].replace(/\\?\|(.*)/,""),c=n.getAbstractFileByPath(u)instanceof hr.TFile?n.getAbstractFileByPath(u):null;c&&s.push({linked:c,linkFrom:u,altText:o})}return s}function ca(t,e,n,r,i,s,a,o,u){return g(this,null,function*(){let c=Ze(t,r,n,i,u),d=yield n.getFileCache(e.linked).frontmatter,f=yield Z(r,u,d),m=pr(a,f),y=u?u.shareKey:r.plugin.shareKey,F=ha(y,d,o);if(e.linked.extension==="md"&&(m===!1||F===!1))return e.destinationFilePath?e.destinationFilePath:e.linked.basename;if(e.linked.path===t.path)return Ze(e.linked,r,n,i,u).split("/").at(-1);let k=e.linked.extension==="md"?Ze(e.linked,r,n,i,u):Cn(e.linked,r,fr(s,r)),C=c.split("/"),w=k.split("/"),E=(V,j)=>{let $=0;for(;V[$]===j[$];)$++;return V.slice($)},L=E(C,w),v=E(w,C),G=function(V){let j=[];for(let $ of V)$!=V.at(-1)&&j.push("..");return j}(L);G.length===0&&G.push(".");let N=G.concat(v).join("/");return(N.trim()==="."||N.trim()==="")&&(N=Ze(e.linked,r,n,i,u).split("/").at(-1)),N})}function $c(t,e,n,r){let i=n.upload.folderNote.rename,a=`${t.parent.path!=="/"?`/${t.parent.path}/`:"/"}${en(r,n)}`;if(!n.upload.folderNote.enable)return a;let o=t.parent.name;if(r.replace(".md","")===o)return`/${t.parent.path}/${i}`;let u=e.getAbstractFileByPath(t.path.replace(".md",""));return u&&u instanceof hr.TFolder?`/${u.path}/${i}`:a}function Hc(t,e,n,r){r=$c(t,n,e,r);let s=(e.upload.defaultName.length>0?e.upload.defaultName:"")+r,a=s.split("/").slice(0,-1).join("/"),o=s.split("/").at(-1);return a=da(a,e),a.trim().length===0?o:(a+"/"+o).replace(/^\//,"")}function Uc(t,e,n){let r=pi(e,n),i=r.endsWith("/")?r.split("/").at(-2):r.split("/").at(-1);return n.upload.folderNote.enable&&t.replace(".md","").toLowerCase()===i.toLowerCase()?n.upload.folderNote.rename:en(t,n)}function qc(t,e,n){let r=t.upload,i=pi(e,t),s=Uc(n,e,t),a="";if(r.rootFolder.length>0&&!i.includes(r.rootFolder)&&(a=r.rootFolder+"/"),i.trim().length===0)return s;let o=da(a+i,t);return o.trim().length===0?s:(o+"/"+s).replace(/^\//,"")}function en(t,e){let n=e.upload;if(t===n.folderNote.rename&&n.folderNote.enable||n.replaceTitle.length===0)return t;t=t.replace(".md","");for(let r of n.replaceTitle)if(r.regex.trim().length>0){let i=r.regex,s=r.replacement;if(i.match(/\/.+\//)){let a=hi(i);t=t.replace(a,s)}else t=t.replaceAll(i,s)}return t+".md"}function da(t,e){let n=e.upload;if(n.behavior===U.fixed||n.replacePath.length===0)return t;for(let r of n.replacePath)if(r.regex.trim().length>0){let i=r.regex,s=r.replacement;if(i.match(/\/.+\//)){let a=i.match(/\/([gimy]+)$/),o=a?Array.from(new Set(a[1].split(""))).join(""):"",u=new RegExp(i.replace(/\/(.+)\/.*/,"$1"),o);t=t.replace(u,s)}else t=t.replaceAll(i,s)}return t}function fi(t,e,n){let r=e.name;return t&&n.upload.frontmatterTitle.enable&&t[n.upload.frontmatterTitle.key]&&t[n.upload.frontmatterTitle.key]!==e.name&&(r=t[n.upload.frontmatterTitle.key]+".md"),r}function Ze(t,e,n,r,i){var s;if(t.extension==="md"){let a=(s=n.getCache(t.path))==null?void 0:s.frontmatter,o=fi(a,t,e),u=en(o,e);if(!pe(a,e,t,i))return o;if(a.path){let c=a.path instanceof Array?a.path.join("/"):a.path;return c==""||c=="/"?u:c+"/"+u}else return e.upload.behavior===U.yaml?qc(e,a,o):e.upload.behavior===U.obsidian?Hc(t,e,r,o):e.upload.defaultName.length>0?e.upload.defaultName+"/"+u:u}}function Cn(t,e,n){if(!n||!n.attachmentLinks){let r=e.embed.folder;return r.length>0?r+"/"+t.name:e.upload.defaultName.length>0?e.upload.defaultName+"/"+t.name:t.path}else if(n&&n.attachmentLinks)return n.attachmentLinks+"/"+t.name;return t.path}function B(t,e){e.plugin.noticeError?new Ge.Notice(t):console.log("[GITHUB PUBLISHER]",t)}function Rt(...t){var r;let e=(r=new Error().stack)==null?void 0:r.split(`
`)[2].trim();e=e==null?void 0:e.substring(e.indexOf("at ")+3,e.lastIndexOf(" (")),e=e.replace("Object.callback",""),e=e.length>0?e:"main";let n=new Date().toISOString().slice(11,23);console.log(`[${n}](${e}):
`,...t)}function mi(t,e,n){let r={added:[],edited:[],deleted:[],unpublished:[],notDeleted:[]};return t.forEach(i=>{i.isUpdated?r.added.push(i.file):r.edited.push(i.file)}),r.unpublished=n,e&&(r.deleted=e.deleted,r.notDeleted=e.undeleted),r}function gi(t,e){return g(this,null,function*(){if(Ge.Platform.isMobile||!t.plugins.enabledPlugins.has("metadata-extractor")||e.upload.metadataExtractorPath.length===0)return null;let n={allExceptMdFile:null,metadataFile:null,tagsFile:null},r=`${t.vault.configDir}/plugins/metadata-extractor`,i=t.plugins.plugins["metadata-extractor"];return i&&i.settings?(i.settings.allExceptMdFile.length>0&&(n.allExceptMdFile=r+"/"+i.settings.allExceptMdFile),i.settings.metadataFile.length>0&&(n.metadataFile=r+"/"+i.settings.metadataFile),i.settings.tagFile.length>0&&(n.tagsFile=r+"/"+i.settings.tagFile),n):null})}function bi(t){return t.match(/\/*$/)[0].length!=1&&(t=t.replace(/\/*$/,"")+"/"),t}function tn(t,e,n,r,i,s){return g(this,null,function*(){var F,k;let a=s?s.copyLink:i.plugin.copyLink,o=s||i.github;if(!i.plugin.copyLink.enable)return;let u=Ze(t,i,n,r,s),c=a.links;c.length===0&&(e instanceof Array?c=`https://${o.user}.github.io/${i.github.repo}/`:c=`https://${e.owner}.github.io/${e.repo}/`);let d=(F=n.getFileCache(t))==null?void 0:F.frontmatter,f=d.baselink,m=a.removePart;if(d.baselink!==void 0?(c=f,m=[]):d.copylink&&typeof d.copylink=="object"&&(c=d.copylink.base,m=(k=d.copylink.remove)!=null?k:[]),c=bi(c),m.length>0)for(let C of m)C.length>0&&(u=u.replace(C.trim(),""));u=bi(u);let y=bi(encodeURI(c+u));yield navigator.clipboard.writeText(y)})}function yi(t,e,n,r){return g(this,null,function*(){r=Array.isArray(r)?r:[r];for(let i of r)yield Wc(t,e,n,i)})}function Wc(t,e,n,r){return g(this,null,function*(){let i=e instanceof Ge.TFile?'"'+e.basename+'"':e,s="";if(e instanceof String?s=l.t("informations.successfulPublish",{nbNotes:i,repo:r}):s=l.t("informations.successPublishOneNote",{file:i,repo:r}),n.github.workflow.name.length>0){let a=l.t("informations.sendMessage",{nbNotes:i,repo:r})+`.
`+l.t("informations.waitingWorkflow");new Ge.Notice(a),(yield t.workflowGestion(r))&&new Ge.Notice(s)}else new Ge.Notice(s)})}function fa(t){let e=JSON.stringify(t,(n,r)=>typeof r=="string"?r.trim().toLowerCase():r);return JSON.parse(e)}function fr(t,e){let n=null;e.embed.folder.length>0?n=e.embed.folder:e.upload.defaultName.length>0&&(n=e.upload.defaultName);let r={convertWiki:e.conversion.links.wiki,attachment:e.embed.attachments,embed:e.embed.notes,attachmentLinks:n,links:!0,removeEmbed:!1,dataview:e.conversion.dataview,hardbreak:e.conversion.hardbreak,convertInternalNonShared:e.conversion.links.unshared,convertInternalLinks:e.conversion.links.internal};return t.links!==void 0&&(typeof t.links=="object"?(t.links.convert!==void 0&&(r.links=t.links.convert),t.links.internals!==void 0&&(r.convertInternalLinks=t.links.internals),t.links.mdlinks!==void 0&&(r.convertWiki=t.links.mdlinks),t.links.nonShared!==void 0&&(r.convertInternalNonShared=t.links.nonShared)):r.links=t.links),t.embed!==void 0&&(typeof t.embed=="object"?(t.embed.send!==void 0&&(r.embed=t.embed.send),t.embed.remove!==void 0&&(r.removeEmbed=t.embed.remove)):r.embed=t.embed),t.attachment!==void 0&&(typeof t.attachment=="object"?(t.attachment.send!==void 0&&(r.attachment=t.attachment.send),t.attachment.folder!==void 0&&(r.attachmentLinks=t.attachment.folder)):r.attachment=t.attachment),t.attachmentLinks!==void 0&&(r.attachmentLinks=t.attachmentLinks.toString().replace(/\/$/,"")),t.mdlinks!==void 0&&(r.convertWiki=t.mdlinks),t.removeEmbed!==void 0&&(r.removeEmbed=t.removeEmbed),t.dataview!==void 0&&(r.dataview=t.dataview),t.hardbreak!==void 0&&(r.hardbreak=t.hardbreak),t.internals!==void 0&&(r.convertInternalLinks=t.internals),t.nonShared!==void 0&&(r.convertInternalNonShared=t.nonShared),r}function Z(t,e,n){let r=e!=null?e:t.github;if(n&&typeof n.shortRepo=="string"&&n.shortRepo!=="default"){let a=n.shortRepo.toLowerCase(),u=t.github.otherRepo.filter(c=>c.smartKey.toLowerCase()===a)[0];r=u!=null?u:r}let i={branch:r.branch,repo:r.repo,owner:r.user,autoclean:t.upload.autoclean.enable,workflowName:r.workflow.name,commitMsg:r.workflow.commitMessage,automaticallyMergePR:r.automaticallyMergePR};if(t.upload.behavior===U.fixed&&(i.autoclean=!1),!n||n.multipleRepo===void 0&&n.repo===void 0&&n.shortRepo===void 0)return i;let s=null;if(n.multipleRepo){let a=Kc(n,i);return a.length===1?a[0]:a}else if(n.repo)if(typeof n.repo=="object")n.repo.branch!==void 0&&(i.branch=n.repo.branch),n.repo.repo!==void 0&&(i.repo=n.repo.repo),n.repo.owner!==void 0&&(i.owner=n.repo.owner),n.repo.autoclean!==void 0&&(i.autoclean=n.repo.autoclean,s=!0);else{let a=n.repo.split("/");s=a.length>4?!0:null,i=pa(a,i)}else if(n.shortRepo instanceof Array)return zc(n,t.github.otherRepo,i);return n.autoclean!==void 0&&s===null&&(i.autoclean=n.autoclean),i}function Kc(t,e){let n=[];if(t.multipleRepo instanceof Array&&t.multipleRepo.length>0)for(let r of t.multipleRepo)if(typeof r=="object"){let i={branch:e.branch,repo:e.repo,owner:e.owner,autoclean:!1,automaticallyMergePR:e.automaticallyMergePR,workflowName:e.workflowName,commitMsg:e.commitMsg};r.branch!==void 0&&(i.branch=r.branch),r.repo!==void 0&&(i.repo=r.repo),r.owner!==void 0&&(i.owner=r.owner),r.autoclean!==void 0&&(i.autoclean=r.autoclean),n.push(i)}else{let i=r.split("/"),s={branch:e.branch,repo:e.repo,owner:e.owner,autoclean:!1,automaticallyMergePR:e.automaticallyMergePR,workflowName:e.workflowName,commitMsg:e.commitMsg};n.push(pa(i,s))}return n.filter((r,i,s)=>s.findIndex(a=>a.repo===r.repo&&a.owner===r.owner&&a.branch===r.branch&&a.autoclean===r.autoclean)===i)}function zc(t,e,n){if(t.shortRepo instanceof Array){let r=[];for(let i of t.shortRepo){let s=i.toLowerCase();if(s==="default")r.push(n);else{let a=e.filter(o=>o.smartKey.toLowerCase()===s)[0];a&&r.push({branch:a.branch,repo:a.repo,owner:a.user,autoclean:n.autoclean,automaticallyMergePR:a.automaticallyMergePR,workflowName:a.workflow.name,commitMsg:a.workflow.commitMessage})}}return r}return n}function pa(t,e){let n={branch:e.branch,repo:e.repo,owner:e.owner,autoclean:!1,automaticallyMergePR:e.automaticallyMergePR,workflowName:e.workflowName,commitMsg:e.commitMsg};return t.length>=4&&(n.branch=t[2],n.repo=t[1],n.owner=t[0],n.autoclean=t[3]==="true"),t.length===3?(n.branch=t[2],n.repo=t[1],n.owner=t[0]):t.length===2?(n.repo=t[1],n.owner=t[0]):t.length===1&&(n.repo=t[0]),n}function pi(t,e){var i;let n=e.upload.yamlFolderKey,r=(i=t[n])!=null?i:e.upload.defaultName;return r instanceof Array&&(r=r.join("/")),r}function nn(t,e,n=!1,r=1){return g(this,null,function*(){let i=yield t.request("GET /rate_limit"),s=i.data.resources.core.remaining,a=i.data.resources.core.reset,u=new Date(a*1e3).toLocaleTimeString();return s<=r?(new Ge.Notice(l.t("commands.checkValidity.rateLimit.limited",{resetTime:u})),!1):(n?new Ge.Notice(l.t("commands.checkValidity.rateLimit.notLimited",{remaining:s,resetTime:u})):B(l.t("commands.checkValidity.rateLimit.notLimited",{remaining:s,resetTime:u}),e),!0)})}function rn(t,e){let n=t.app.vault;return e||(e=ht),e=e.replace("%configDir%",n.configDir),e=e.replace("%pluginID%",t.manifest.id),e}function ha(t,e,n){let r=e&&e[t]?e[t]:!1;return r?!0:!r&&n.convertInternalNonShared===!0}function mr(t,e){let n=t.github.otherRepo;if(!e)return null;for(let r of n)if(e[r.shareKey])return r;return null}function pe(t,e,n,r){if(!n||n.extension!=="md"||t===null)return!1;let i=e.plugin.excludedFolder,s=r?r.shareKey:e.plugin.shareKey;if(t===void 0||t[s]===void 0)return!1;if(i.length>0)for(let a=0;a<i.length;a++){let o=i[a].match(/^\/(.*)\/[igmsuy]*$/),u=o?new RegExp(o[1],o[2]):null;if(u&&u.test(n.path)||n.path.contains(i[a].trim()))return!1}return t[s]}function De(t){return t.match(/(png|jpe?g|gif|bmp|svg|mp[34]|web[mp]|wav|m4a|ogg|3gp|flac|ogv|mov|mkv|pdf)$/i)}function pr(t,e){t=t instanceof Array?t:[t],e=e instanceof Array?e:[e];let n=(r,i)=>r.owner===i.owner&&r.repo===i.repo&&r.branch===i.branch;for(let r of e)for(let i of t)if(n(r,i))return!0;for(let r of t)for(let i of e)if(n(r,i))return!0;return!1}function gr(t,e){return g(this,null,function*(){t=Array.isArray(t)?t:[t];let n=[];if((yield e.loadToken()).length===0){n.push(!0);let s=l.t("common.ghToken");new Sn.Notice(l.t("error.isEmpty",{what:s}))}else for(let s of t)if(s.repo.length===0){n.push(!0);let a=l.t("common.repository");new Sn.Notice(l.t("error.isEmpty",{what:a}))}else if(s.owner.length===0){n.push(!0);let a=l.t("error.whatEmpty.owner");new Sn.Notice(l.t("error.isEmpty",{what:a}))}else if(s.branch.length===0){n.push(!0);let a=l.t("error.whatEmpty.branch");new Sn.Notice(l.t("error.isEmpty",{what:a}))}else n.push(!1);return!n.every(s=>s===!0)})}function ma(t){let e=t.convertWiki,n=t.attachment,r=t.embed,i=t.links;return!e&&i&&n&&r&&!t.removeEmbed}function pt(t,e,n=null,r,i){return g(this,null,function*(){var s;try{let a=r?(s=i.getFileCache(r))==null?void 0:s.frontmatter:null,o=Z(e,n,a);gr(o,t.plugin)&&(yield t.checkRepository(o,!1))}catch(a){B(a,e)}})}function At(t,e,n,r=1){return g(this,null,function*(){try{if(gr(n,t.plugin))return yield t.checkRepository(n,!0),yield nn(t.octokit,e,!1,r)}catch(i){return B(i,e),!1}})}var ne=W(require("obsidian"));function br(t,e){return g(this,null,function*(){yield ed(e,t),yield Yc(e),yield Zc(e),yield Jc(e),yield Qc(e),yield Nt(e),yield Xc(e)})}function Yc(t){return g(this,null,function*(){t.settings.upload.replaceTitle instanceof Array||(B(l.t("informations.migrating.fileReplace"),t.settings),t.settings.upload.replaceTitle=[t.settings.upload.replaceTitle],yield t.saveSettings())})}function Zc(t){return g(this,null,function*(){t.settings.upload.subFolder&&!t.settings.upload.replacePath.find(e=>e.regex==="/"+t.settings.upload.subFolder)&&(B(l.t("informations.migrating.subFolder"),t.settings),t.settings.upload.subFolder.length>0&&t.settings.upload.replacePath.push({regex:"/"+t.settings.upload.subFolder,replacement:"",type:ye.path}),delete t.settings.upload.subFolder,yield t.saveSettings())})}function Jc(t){return g(this,null,function*(){for(let e of t.settings.conversion.censorText)e.flags&&(e.entry="/"+e.entry+"/"+e.flags,delete e.flags,yield t.saveSettings())})}function Qc(t){return g(this,null,function*(){if(B("migrating workflow",t.settings),t.settings.github.worflow){let e=t.settings.github.worflow;t.settings.github.workflow={name:e.workflowName,commitMessage:e.customCommitMsg},delete t.settings.github.worflow,yield t.saveSettings()}})}function Nt(t,e){return g(this,null,function*(){console.log("migrating token");let n=rn(t,t.settings.github.tokenPath);if(t.settings.github.token&&!e&&(B(`Moving the GitHub Token in the file : ${n}`,t.settings),e=t.settings.github.token,delete t.settings.github.token,yield t.saveSettings()),e===void 0)return;B(`Moving the GitHub Token in the file : ${n}`,t.settings);let r=`GITHUB_TOKEN=${e}`;yield t.app.vault.adapter.write(n,r)})}function Xc(t){return g(this,null,function*(){var n,r,i,s,a,o;B("Configuring other repositories",t.settings);let e=(r=(n=t.settings.github)==null?void 0:n.otherRepo)!=null?r:[];for(let u of e){let c={name:(s=(i=t.settings.github.worflow)==null?void 0:i.workflowName)!=null?s:t.settings.github.workflow.name,commitMessage:(o=(a=t.settings.github.worflow)==null?void 0:a.customCommitMsg)!=null?o:t.settings.github.workflow.commitMessage};if(u.workflow||(u.workflow=c,yield t.saveSettings()),u.worflow){let d=u.worflow;d.workflowName&&(u.workflow.name=d.workflowName),d.customCommitMsg&&(u.workflow.commitMessage=d.customCommitMsg),delete u.worflow,yield t.saveSettings()}u.copyLink||(u.copyLink={links:"",removePart:[]},yield t.saveSettings())}})}function ed(t,e){return g(this,null,function*(){var n,r;if(Object.keys(e).includes("editorMenu")){B(l.t("informations.migrating.oldSettings"),t.settings),t.settings={github:{user:e.githubName?e.githubName:t.settings.github.user?t.settings.github.user:"",repo:e.githubRepo?e.githubRepo:t.settings.github.repo?t.settings.github.repo:"",branch:e.githubBranch,automaticallyMergePR:e.automaticallyMergePR,tokenPath:ht,api:{tiersForApi:e.tiersForApi,hostname:e.hostname},workflow:{name:e.workflowName,commitMessage:(r=(n=e.customCommitMsg)!=null?n:t.settings.github.workflow.commitMessage)!=null?r:"[PUBLISHER] MERGE"},otherRepo:[]},upload:{behavior:e.downloadedFolder,defaultName:e.folderDefaultName,rootFolder:e.rootFolder,yamlFolderKey:e.yamlFolderKey,frontmatterTitle:{enable:e.useFrontmatterTitle,key:e.frontmatterTitleKey},replaceTitle:[{regex:e.frontmatterTitleRegex,replacement:e.frontmatterTitleReplacement,type:ye.title}],replacePath:[{regex:e.subFolder,replacement:"",type:ye.path}],autoclean:{enable:e.autoCleanUp,excluded:e.autoCleanUpExcluded},folderNote:{enable:e.folderNote,rename:e.folderNoteRename},metadataExtractorPath:e.metadataExtractorPath},conversion:{hardbreak:e.hardBreak,dataview:e.migrateDataview,censorText:e.censorText,tags:{inline:e.inlineTags,exclude:e.excludeDataviewValue,fields:e.dataviewFields},links:{internal:e.migrateForGithub,unshared:e.migrateInternalNonShared,wiki:e.migrateWikiLinks,slugify:!1}},embed:{attachments:e.embedImage,keySendFile:e.metadataFileFields,notes:e.embedNotes,folder:e.defaultImageFolder},plugin:{shareKey:e.shareKey,fileMenu:e.fileMenu,editorMenu:e.editorMenu,excludedFolder:e.excludedFolder,copyLink:{enable:e.copyLink,links:e.mainLink,removePart:e.linkRemover.split(/[,\n]\W*/).map(s=>s.trim()),addCmd:!1},noticeError:e.logNotice,displayModalRepoEditing:!1}};let i=e.GhToken?e.GhToken:t.settings.github.token?t.settings.github.token:"";yield Nt(t,i),yield t.saveSettings()}})}function Di(t){return JSON.parse(JSON.stringify(t))}var vi=class extends ne.Modal{constructor(e,n,r,i){super(e);this.plugin=n,this.settingsPage=r,this.settingsTab=i}censorRepositoryData(e){return g(this,null,function*(){Rt("original settings",e),this.plugin.settings.plugin=e.plugin,this.plugin.settings.github.repo=e.github.repo,this.plugin.settings.github.user=e.github.user,this.plugin.settings.github.otherRepo=e.github.otherRepo,yield this.plugin.saveSettings()})}onOpen(){let{contentEl:e}=this;new ne.Setting(e).setName(l.t("modals.import.title")).setDesc(l.t("modals.import.desc")),new ne.Setting(e).then(n=>{let r=createSpan({cls:"github-publisher-import-error",text:l.t("modals.import.error.span")});n.nameEl.appendChild(r);let i=a=>g(this,null,function*(){if(a)try{let o=JSON.parse(a);if(Object.keys(o).includes("editorMenu"))yield br(o,this.plugin),B(l.t("informations.migrating.oldSettings"),this.plugin.settings);else{B(l.t("informations.migrating.normalFormat"),this.plugin.settings),o=o;let u=Di(this.plugin.settings);o.upload.replaceTitle instanceof Array||(o.upload.replaceTitle=[o.upload.replaceTitle]);for(let[c,d]of Object.entries(o))this.plugin.settings[c]=d;yield this.censorRepositoryData(u),yield this.plugin.saveSettings()}this.close()}catch(o){r.addClass("active"),r.setText(`${l.t("modals.import.error.span")}${o}`)}else r.addClass("active"),r.setText(`${l.t("modals.import.error.span")}: ${l.t("modals.import.error.isEmpty")}`)});n.controlEl.createEl("input",{cls:"github-publisher-import-input",attr:{id:"github-publisher-import-input",name:"github-publisher-import-input",type:"file",accept:".json"}},a=>{a.addEventListener("change",o=>{let u=new FileReader;u.onload=c=>g(this,null,function*(){yield i(c.target.result.toString().trim())}),u.readAsText(o.target.files[0])})}),n.controlEl.createEl("label",{cls:"github-publisher-import-label",text:l.t("modals.import.importFromFile"),attr:{for:"github-publisher-import-input"}}),new ne.TextAreaComponent(e).setPlaceholder(l.t("modals.import.paste")).then(a=>{new ne.ButtonComponent(e).setButtonText(l.t("common.save")).onClick(()=>g(this,null,function*(){yield i(a.getValue().trim())})).buttonEl.addClass("github-publisher-import-save-button")}).inputEl.addClass("github-publisher-import-textarea")})}onClose(){let{contentEl:e}=this;e.empty(),this.settingsPage.empty();let n=document.querySelector(".settings-tab-active.github-publisher")?document.querySelector(".settings-tab-active.github-publisher").innerText:l.t("settings.github.title");switch(n=n.trim(),n){case l.t("settings.github.title"):this.settingsTab.renderGithubConfiguration();break;case l.t("settings.upload.title"):this.settingsTab.renderUploadConfiguration();break;case l.t("settings.conversion.title"):this.settingsTab.renderTextConversion();break;case l.t("settings.embed.title"):this.settingsTab.renderEmbedConfiguration();break;case l.t("settings.plugin.title"):this.settingsTab.renderPluginSettings();break;case l.t("settings.help.title"):this.settingsTab.renderHelp();break}}},wi=class extends ne.Modal{constructor(e,n){super(e);this.plugin=n}censorGithubSettingsData(e){return delete e.github.repo,delete e.github.user,delete e.plugin,delete e.github.otherRepo,e}onOpen(){let{contentEl:e,modalEl:n}=this;n.addClass("modal-github-publisher"),new ne.Setting(e).setName(l.t("modals.export.title")).setDesc(l.t("modals.export.desc")).then(r=>{let i=this.censorGithubSettingsData(Di(this.plugin.settings)),s=JSON.stringify(i,null,2);r.controlEl.createEl("a",{cls:"github-publisher-copy",text:l.t("modals.export.copy"),href:"#"},a=>{new ne.TextAreaComponent(e).setValue(s).then(u=>{a.addEventListener("click",c=>{c.preventDefault(),u.inputEl.select(),u.inputEl.setSelectionRange(0,99999),document.execCommand("copy"),a.addClass("success"),setTimeout(()=>{a.parentNode&&a.removeClass("success")},2e3)})}).inputEl.addClass("github-publisher-export-textarea")}),ne.Platform.isDesktop?r.controlEl.createEl("a",{cls:"github-publisher-download",text:l.t("modals.export.download"),attr:{download:"github-publisher.json",href:`data:application/json;charset=utf-8,${encodeURIComponent(s)}`}}):ne.Platform.isMobile&&r.addButton(a=>a.setButtonText(l.t("modals.export.download")).onClick(()=>{this.app.vault.adapter.write(`${app.vault.configDir}/plugins/obsidian-mkdocs-publisher/._tempSettings.json`,s),this.app.openWithDefaultApp(`${app.vault.configDir}/plugins/obsidian-mkdocs-publisher/._tempSettings.json`)}))})}onClose(){try{this.app.vault.adapter.trashSystem(`${app.vault.configDir}/plugins/obsidian-mkdocs-publisher/._tempSettings.json`)}catch(n){}let{contentEl:e}=this;e.empty()}},Fi=class extends ne.FuzzySuggestModal{constructor(e,n,r,i,s){super(e);this.plugin=n,this.presetList=r,this.octokit=i,this.page=s}getItems(){return this.presetList}getItemText(e){return e.name}onChooseItem(e,n){let r=e.settings;Rt("onChooseItem",r);try{let i=Di(this.plugin.settings);r.upload.replaceTitle instanceof Array||(r.upload.replaceTitle=[r.upload.replaceTitle]);for(let[s,a]of Object.entries(r))this.plugin.settings[s]=a;this.plugin.settings.plugin=i.plugin,this.plugin.settings.github.repo=i.github.repo,this.plugin.settings.github.user=i.github.user,this.plugin.settings.github.otherRepo=i.github.otherRepo,this.plugin.saveSettings(),this.page.renderSettingsPage("github-configuration")}catch(i){new ne.Notice(l.t("modals.import.error.span")+i),Rt("onChooseItem",i)}}};function ga(t,e){return g(this,null,function*(){let n=yield t.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:"ObsidianPublisher",repo:"plugin-presets",path:"presets"}),r=[];if(!Array.isArray(n.data))return r;Rt("LoadAllPreset",n);for(let i of n.data)if(i.name.endsWith(".json")){let s=i.name.replace(".json","");r.push({name:s,settings:yield td(i.path,t,e)})}return r})}function td(t,e,n){return g(this,null,function*(){var s;let r=yield e.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:"ObsidianPublisher",repo:"plugin-presets",path:t});if(!((s=r.data)==null?void 0:s.content))return n.settings;let i=atob(r.data.content);return JSON.parse(i)})}var Y=W(require("obsidian"));var xi=class extends Y.Modal{constructor(e,n,r,i,s,a){super(e);this.settings=n,this.repository=s,this.plugin=i,this.onSubmit=a,this.branchName=r}onOpen(){let{contentEl:e}=this;e.empty(),e.createEl("h2",{text:l.t("settings.github.smartRepo.modals.title")}),e.createEl("p",{text:l.t("settings.github.smartRepo.modals.desc")}),e.createEl("p",{text:l.t("settings.github.smartRepo.modals.frontmatterInfo")}),e.createEl("p",{text:l.t("settings.plugin.shareKey.otherRepo")});let n={smartKey:"",user:this.settings.github.user,repo:this.settings.github.repo,branch:this.settings.github.branch,automaticallyMergePR:this.settings.github.automaticallyMergePR,api:{tiersForApi:this.settings.github.api.tiersForApi,hostname:this.settings.github.api.hostname},workflow:{commitMessage:this.settings.github.workflow.commitMessage,name:""},createShortcuts:!1,shareKey:this.settings.plugin.shareKey,copyLink:{links:this.settings.plugin.copyLink.links,removePart:[]}};new Y.Setting(e).addButton(r=>{r.setButtonText(l.t("common.add",{things:l.t("settings.github.smartRepo.modals.newRepo").toLowerCase()})).onClick(()=>{this.repository.push(n),this.onOpen()}).buttonEl.style.width="100%"}).infoEl.style.display="none";for(let r of this.repository)new Y.Setting(e).addText(i=>{i.setPlaceholder("smartKey").setValue(r.smartKey).onChange(s=>{r.smartKey=s.toLowerCase(),this.plugin.settings.github.otherRepo.filter(a=>a.smartKey===r.smartKey).length>1?(new Y.Notice(l.t("settings.github.smartRepo.modals.duplicate")),i.inputEl.style.border="1px solid red",r.smartKey=""):r.smartKey==="default"?(i.inputEl.style.border="1px solid red",r.smartKey="",new Y.Notice(l.t("settings.github.smartRepo.modals.default"))):i.inputEl.style.border="0"}).inputEl.style.width="100%"}).addExtraButton(i=>{i.setIcon("trash").onClick(()=>{this.repository.splice(this.repository.indexOf(r),1),this.onOpen()})}).addExtraButton(i=>{i.setIcon("pencil").onClick(()=>{new ba(this.app,r,this.plugin,this.branchName,s=>{this.repository[this.repository.indexOf(r)]=s}).open()})}).infoEl.style.display="none";new Y.Setting(e).addButton(r=>{r.setButtonText(l.t("common.save")).onClick(()=>{this.onSubmit(this.repository),this.close()})})}onClose(){let{contentEl:e}=this;e.empty(),this.onSubmit(this.repository)}},ba=class extends Y.Modal{constructor(e,n,r,i,s){super(e);this.repository=n,this.onSubmit=s,this.branchName=i,this.plugin=r}onOpen(){let{contentEl:e}=this;e.empty(),e.createEl("h2",{text:l.t("common.edit",{things:this.repository.smartKey})}),new Y.Setting(e).setName(l.t("settings.github.apiType.title")).setDesc(l.t("settings.github.apiType.desc")).addDropdown(n=>{n.addOption(xe.free,l.t("settings.github.apiType.dropdown.free")).addOption(xe.entreprise,l.t("settings.github.apiType.dropdown.enterprise")).setValue(this.repository.api.tiersForApi).onChange(r=>{this.repository.api.tiersForApi=r,this.onOpen()})}),this.repository.api.tiersForApi===xe.entreprise&&new Y.Setting(e).setName(l.t("settings.github.apiType.hostname.title")).setDesc(l.t("settings.github.apiType.hostname.desc")).addText(n=>n.setPlaceholder("https://github.mycompany.com").setValue(this.repository.api.hostname).onChange(r=>g(this,null,function*(){this.repository.api.hostname=r.trim()}))),new Y.Setting(e).setName(l.t("settings.github.repoName.title")).setDesc(l.t("settings.github.repoName.desc")).addText(n=>n.setPlaceholder(l.t("settings.github.repoName.placeholder")).setValue(this.repository.repo).onChange(r=>g(this,null,function*(){this.repository.repo=r.trim()}))),new Y.Setting(e).setName(l.t("settings.github.username.title")).setDesc(l.t("settings.github.username.desc")).addText(n=>n.setPlaceholder(l.t("settings.github.username.title")).setValue(this.repository.user).onChange(r=>g(this,null,function*(){this.repository.user=r.trim()}))),new Y.Setting(e).setName(l.t("settings.github.branch.title")).setDesc(l.t("settings.github.branch.desc")).addText(n=>n.setPlaceholder("main").setValue(this.repository.branch).onChange(r=>g(this,null,function*(){this.repository.branch=r.trim()}))),new Y.Setting(e).setName(l.t("settings.github.automaticallyMergePR")).addToggle(n=>n.setValue(this.repository.automaticallyMergePR).onChange(r=>g(this,null,function*(){this.repository.automaticallyMergePR=r}))),new Y.Setting(e).setClass("github-publisher-no-display").addButton(n=>n.setButtonText(l.t("settings.github.testConnection")).setClass("github-publisher-connect-button").onClick(()=>g(this,null,function*(){yield pt(yield this.plugin.reloadOctokit(),this.plugin.settings,this.repository,null,this.app.metadataCache)}))),new Y.Setting(e).setName(l.t("settings.github.smartRepo.modals.shortcuts.title")).setDesc(l.t("settings.github.smartRepo.modals.shortcuts.desc")).addToggle(n=>n.setValue(this.repository.createShortcuts).onChange(r=>g(this,null,function*(){this.repository.createShortcuts=r}))),e.createEl("h3",{text:"Github Workflow"}),new Y.Setting(e).setName(l.t("settings.githubWorkflow.prRequest.title")).setDesc(l.t("settings.githubWorkflow.prRequest.desc")).addText(n=>n.setPlaceholder("[PUBLISHER] MERGE").setValue(this.repository.workflow.commitMessage).onChange(r=>g(this,null,function*(){r.trim().length===0&&(r="[PUBLISHER] MERGE",new Y.Notice(l.t("settings.githubWorkflow.prRequest.error"))),this.repository.workflow.commitMessage=r}))),new Y.Setting(e).setName(l.t("settings.githubWorkflow.githubAction.title")).setDesc(l.t("settings.githubWorkflow.githubAction.desc")).addText(n=>{n.setPlaceholder("ci").setValue(this.repository.workflow.name).onChange(r=>g(this,null,function*(){if(r.length>0){r=r.trim();let i=[".yml",".yaml"];i.some(s=>r.endsWith(s))||(r+=i[0])}this.repository.workflow.name=r}))}),e.createEl("h3",{text:l.t("settings.github.smartRepo.modals.otherConfig")}),new Y.Setting(e).setName(l.t("settings.plugin.shareKey.title")).setDesc(l.t("settings.plugin.shareKey.desc")).addText(n=>n.setPlaceholder("share").setValue(this.repository.shareKey).onChange(r=>g(this,null,function*(){this.repository.shareKey=r.trim(),yield this.plugin.saveSettings()}))),this.plugin.settings.plugin.copyLink.enable&&(new Y.Setting(e).setName(l.t("settings.plugin.copyLink.baselink.title")).setDesc(l.t("settings.plugin.copyLink.baselink.desc")).setClass("github-publisher").addText(n=>n.setPlaceholder(this.plugin.settings.plugin.copyLink.links).setValue(this.repository.copyLink.links).onChange(r=>g(this,null,function*(){this.repository.copyLink.links=r.trim()}))),new Y.Setting(e).setName(l.t("settings.plugin.copyLink.linkpathremover.title")).setDesc(l.t("settings.plugin.copyLink.linkpathremover.desc")).setClass("github-publisher").addText(n=>{n.setPlaceholder("docs").setValue(this.repository.copyLink.removePart.join(", ")).onChange(r=>g(this,null,function*(){this.repository.copyLink.removePart=r.split(/[,\n]\s*/).map(i=>i.trim()).filter(i=>i.length>0),yield this.plugin.saveSettings()}))})),new Y.Setting(e).addButton(n=>n.setButtonText(l.t("common.save")).onClick(()=>g(this,null,function*(){this.onSubmit(this.repository),this.close()})))}onClose(){let{contentEl:e}=this;e.empty(),this.onSubmit(this.repository)}};var Lt=W(require("obsidian"));var Ei=class extends Lt.Modal{constructor(e,n,r){super(e);this.plugin=n,this.token=r,this.tokenPath=""}onOpen(){let{contentEl:e}=this;e.empty();let n=rn(this.plugin,ht),r=e.createEl("p",null,s=>{s.appendText(l.t("settings.github.ghToken.button.description")),s.createDiv({text:l.t("settings.github.ghToken.button.default")}).createEl("code",{text:` ${n}`},o=>{o.classList.add("cm-inline-code"),o.style.fontFamily="var(--font-monospace)"})});r.createEl("br"),r.createEl("p",{text:l.t("settings.github.ghToken.button.variables")}),r.createEl("ul",null,s=>{s.createEl("li",null,a=>{a.createEl("code",{text:"%configDir%"},o=>{o.classList.add("cm-inline-code"),o.style.fontFamily="var(--font-monospace)"}),a.createEl("span",null,o=>{o.appendText(`${l.t("settings.github.ghToken.button.configDir")} (`),o.createEl("code",{text:this.app.vault.configDir},u=>{u.classList.add("cm-inline-code"),u.style.fontFamily="var(--font-monospace)"}),o.appendText(")")})}),s.createEl("li",null,a=>{a.createEl("code",{text:"%pluginID%"},o=>{o.classList.add("cm-inline-code"),o.style.fontFamily="var(--font-monospace)"}),a.createEl("span",null,o=>{o.appendText(`${l.t("settings.github.ghToken.button.pluginID")} (`),o.createEl("code",{text:this.plugin.manifest.id},u=>{u.classList.add("cm-inline-code"),u.style.fontFamily="var(--font-monospace)"}),o.appendText(")")})})});let i=new Lt.Setting(e).addText(s=>{var o;let a=(o=this.plugin.settings.github.tokenPath)!=null?o:n;s.setPlaceholder(n).setValue(a).onChange(u=>g(this,null,function*(){let c=u.trim();c.length===0&&(c=n),this.plugin.settings.github.tokenPath=c,this.tokenPath=c}))});i.infoEl.style.display="none",i.controlEl.querySelector("input").style.width="100%",new Lt.Setting(e).addButton(s=>{s.setButtonText(l.t("common.save")).onClick(()=>g(this,null,function*(){try{yield this.plugin.saveSettings(),yield Nt(this.plugin,this.token),this.close()}catch(a){i.controlEl.querySelector("input").style.border="1px solid red",new Lt.Notice(l.t("error.reading-token-file")),this.tokenPath="error"}}))})}onClose(){return g(this,null,function*(){let{contentEl:e}=this;e.empty(),this.tokenPath==="error"&&(this.plugin.settings.github.tokenPath=ht,yield this.plugin.saveSettings(),yield Nt(this.plugin,this.token))})}};var ki=class extends I.PluginSettingTab{constructor(e,n,r){super(e,n);this.plugin=n,this.branchName=r}display(){let{containerEl:e}=this;e.empty();let n={"github-configuration":{name:l.t("settings.github.title"),icon:"cloud"},"upload-configuration":{name:l.t("settings.upload.title"),icon:"upload"},"text-conversion":{name:l.t("settings.conversion.title"),icon:"file-text"},"embed-configuration":{name:l.t("settings.embed.title"),icon:"link"},"plugin-settings":{name:l.t("settings.plugin.title"),icon:"gear"},help:{name:l.t("settings.help.title"),icon:"info"}};new I.Setting(e).setClass("github-publisher-export-import").addButton(i=>{i.setButtonText(l.t("modals.export.title")).setClass("github-publisher-export").onClick(()=>{new wi(this.app,this.plugin).open()})}).addButton(i=>{i.setButtonText(l.t("modals.import.title")).setClass("github-publisher-import").onClick(()=>{new vi(this.app,this.plugin,this.settingsPage,this).open()})}).addButton(i=>{i.setButtonText(l.t("modals.import.presets.title")).setTooltip(l.t("modals.import.presets.desc")).setClass("github-publisher-add-new-repository").onClick(()=>g(this,null,function*(){let s=yield this.plugin.reloadOctokit(),a=yield ga(s.octokit,this.plugin);new Fi(this.app,this.plugin,a,s.octokit,this).open()}))});let r=e.createEl("nav",{cls:"settings-tab-bar github-publisher"});for(let[i,s]of Object.entries(n)){let a=r.createEl("div",{cls:"settings-tab github-publisher"}),o=a.createEl("div",{cls:"settings-tab-icon github-publisher"});(0,I.setIcon)(o,s.icon),a.createEl("div",{cls:"settings-tab-name github-publisher",text:s.name}),i==="github-configuration"&&a.addClass("settings-tab-active"),a.addEventListener("click",()=>g(this,null,function*(){for(let u of r.children)u.removeClass("settings-tab-active");a.addClass("settings-tab-active"),this.renderSettingsPage(i)}))}this.settingsPage=e.createEl("div",{cls:"settings-tab-page github-publisher"}),this.renderSettingsPage("github-configuration")}renderSettingsPage(e){switch(this.settingsPage.empty(),e){case"github-configuration":this.renderGithubConfiguration();break;case"upload-configuration":this.renderUploadConfiguration();break;case"text-conversion":this.renderTextConversion();break;case"embed-configuration":this.renderEmbedConfiguration();break;case"plugin-settings":this.renderPluginSettings();break;case"help":this.renderHelp();break}}renderGithubConfiguration(){let e=this.plugin.settings.github;new I.Setting(this.settingsPage).setName(l.t("settings.github.apiType.title")).setDesc(l.t("settings.github.apiType.desc")).addDropdown(i=>{i.addOption(xe.free,l.t("settings.github.apiType.dropdown.free")).addOption(xe.entreprise,l.t("settings.github.apiType.dropdown.enterprise")).setValue(e.api.tiersForApi).onChange(s=>g(this,null,function*(){e.api.tiersForApi=s,yield this.plugin.saveSettings(),this.renderSettingsPage(dt.github)}))}),e.api.tiersForApi===xe.entreprise&&new I.Setting(this.settingsPage).setName(l.t("settings.github.apiType.hostname.title")).setDesc(l.t("settings.github.apiType.hostname.desc")).addText(i=>i.setPlaceholder("https://github.mycompany.com").setValue(e.api.hostname).onChange(s=>g(this,null,function*(){e.api.hostname=s.trim(),yield this.plugin.saveSettings()}))),new I.Setting(this.settingsPage).setName(l.t("settings.github.repoName.title")).setDesc(l.t("settings.github.repoName.desc")).addText(i=>i.setPlaceholder(l.t("settings.github.repoName.placeholder")).setValue(e.repo).onChange(s=>g(this,null,function*(){e.repo=s.trim(),yield this.plugin.saveSettings()}))),new I.Setting(this.settingsPage).setName(l.t("settings.github.username.title")).setDesc(l.t("settings.github.username.desc")).addText(i=>i.setPlaceholder(l.t("settings.github.username.title")).setValue(e.user).onChange(s=>g(this,null,function*(){e.user=s.trim(),yield this.plugin.saveSettings()})));let n=document.createDocumentFragment();n.createEl("span",null,i=>{i.innerText=l.t("settings.github.ghToken.desc"),i.createEl("a",null,s=>{s.innerText=l.t("common.here")+".",s.href="https://github.com/settings/tokens/new?scopes=repo,workflow"})});let r=new I.Setting(this.settingsPage).setName(l.t("common.ghToken")).setDesc(n).addText(i=>g(this,null,function*(){let s=yield this.plugin.loadToken();i.setPlaceholder("ghp_15457498545647987987112184").setValue(s).onChange(a=>g(this,null,function*(){a.trim().length===0?(r.controlEl.querySelector("input").style.border="1px solid red",new I.Notice(l.t("settings.github.ghToken.error"))):(r.controlEl.querySelector("input").style.border="",yield Nt(this.plugin,a.trim())),yield this.plugin.saveSettings()}))})).addExtraButton(i=>{i.setIcon("edit").setTooltip(l.t("settings.github.ghToken.button.tooltip")).onClick(()=>g(this,null,function*(){let s=yield this.plugin.loadToken();new Ei(this.app,this.plugin,s).open(),yield this.plugin.saveSettings()}))});new I.Setting(this.settingsPage).setName(l.t("settings.github.branch.title")).setDesc(l.t("settings.github.branch.desc")).addText(i=>i.setPlaceholder("main").setValue(e.branch).onChange(s=>g(this,null,function*(){e.branch=s.trim(),yield this.plugin.saveSettings()}))),new I.Setting(this.settingsPage).setName(l.t("settings.github.automaticallyMergePR")).addToggle(i=>i.setValue(e.automaticallyMergePR).onChange(s=>g(this,null,function*(){e.automaticallyMergePR=s,yield this.plugin.saveSettings()}))),new I.Setting(this.settingsPage).setClass("github-publisher-no-display").addButton(i=>i.setButtonText(l.t("settings.github.testConnection")).setClass("github-publisher-connect-button").onClick(()=>g(this,null,function*(){let s=yield this.plugin.reloadOctokit();yield pt(s,this.plugin.settings,null,null,this.app.metadataCache)}))).addButton(i=>i.setButtonText(l.t("settings.github.smartRepo.button")).onClick(()=>g(this,null,function*(){var a,o;let s=(o=(a=this.plugin.settings.github)==null?void 0:a.otherRepo)!=null?o:[];new xi(this.app,this.plugin.settings,this.branchName,this.plugin,s,u=>{this.plugin.settings.github.otherRepo=u,this.plugin.saveSettings(),this.plugin.reloadCommands(this.branchName)}).open()}))),this.settingsPage.createEl("h3",{text:"Github Workflow"}),new I.Setting(this.settingsPage).setName(l.t("settings.githubWorkflow.prRequest.title")).setDesc(l.t("settings.githubWorkflow.prRequest.desc")).addText(i=>i.setPlaceholder("[PUBLISHER] MERGE").setValue(e.workflow.commitMessage).onChange(s=>g(this,null,function*(){s.trim().length===0&&(s="[PUBLISHER] MERGE",new I.Notice(l.t("settings.githubWorkflow.prRequest.error"))),e.workflow.commitMessage=s,yield this.plugin.saveSettings()}))),new I.Setting(this.settingsPage).setName(l.t("settings.githubWorkflow.githubAction.title")).setDesc(l.t("settings.githubWorkflow.githubAction.desc")).addText(i=>{i.setPlaceholder("ci").setValue(e.workflow.name).onChange(s=>g(this,null,function*(){if(s.length>0){s=s.trim();let a=[".yml",".yaml"];a.some(o=>s.endsWith(o))||(s+=a[0])}e.workflow.name=s,yield this.plugin.saveSettings()}))})}renderUploadConfiguration(){let e=this.plugin.settings.upload;new I.Setting(this.settingsPage).setName(l.t("settings.upload.folderBehavior.title")).setDesc(l.t("settings.upload.folderBehavior.desc")).addDropdown(c=>{c.addOptions({fixed:l.t("settings.upload.folderBehavior.fixedFolder"),yaml:l.t("settings.upload.folderBehavior.yaml"),obsidian:l.t("settings.upload.folderBehavior.obsidianPath")}).setValue(e.behavior).onChange(d=>g(this,null,function*(){e.behavior=d,yield di(n,r,u,d,this.plugin),yield this.plugin.saveSettings(),this.renderSettingsPage(dt.upload)}))}),new I.Setting(this.settingsPage).setName(l.t("settings.upload.defaultFolder.title")).setDesc(l.t("settings.upload.defaultFolder.desc")).addText(c=>{c.setPlaceholder(l.t("settings.upload.defaultFolder.placeholder")).setValue(e.defaultName).onChange(d=>g(this,null,function*(){e.defaultName=d.replace(/\/$/,""),yield cr(d,u,this.plugin),yield this.plugin.saveSettings()}))});let n=new I.Setting(this.settingsPage).setName(l.t("settings.upload.frontmatterKey.title")).setClass("github-publisher").setDesc(l.t("settings.upload.frontmatterKey.desc")).addText(c=>{c.setPlaceholder(l.t("settings.upload.frontmatterKey.placeholder")).setValue(e.yamlFolderKey).onChange(d=>g(this,null,function*(){e.yamlFolderKey=d.trim(),yield this.plugin.saveSettings()}))}),r=new I.Setting(this.settingsPage).setName(l.t("settings.upload.rootFolder.title")).setClass("github-publisher").setDesc(l.t("settings.upload.rootFolder.desc")).addText(c=>{c.setPlaceholder("docs").setValue(e.rootFolder).onChange(d=>g(this,null,function*(){e.rootFolder=d.replace(/\/$/,""),yield cr(d,u,this.plugin),yield this.plugin.saveSettings()}))}),i=new I.Setting(this.settingsPage).setName(l.t("settings.upload.useFrontmatterTitle.title")).setDesc(l.t("settings.upload.useFrontmatterTitle.desc")).setClass("github-publisher-title").addToggle(c=>{c.setValue(e.frontmatterTitle.enable).onChange(d=>g(this,null,function*(){e.frontmatterTitle.enable=d,yield this.plugin.saveSettings(),this.renderSettingsPage(dt.upload)}))});e.frontmatterTitle.enable&&i.addText(c=>{c.setPlaceholder("title").setValue(e.frontmatterTitle.key).onChange(d=>g(this,null,function*(){e.frontmatterTitle.key=d.trim(),yield this.plugin.saveSettings()}))});let s=l.t("settings.upload.regexFilePathTitle.title.FolderPathTitle");e.behavior===U.fixed&&(s=l.t("settings.upload.regexFilePathTitle.title.titleOnly")),new I.Setting(this.settingsPage).setName(s).setDesc(l.t("settings.upload.regexFilePathTitle.desc")).addButton(c=>{c.setIcon("pencil").onClick(()=>g(this,null,function*(){let d=e.replaceTitle;e.behavior!==U.fixed&&(d=d.concat(e.replacePath)),new li(this.app,this.plugin.settings,d,f=>{e.replacePath=f.filter(m=>m.type==="path"),e.replaceTitle=f.filter(m=>m.type==="title"),this.plugin.saveSettings()}).open()}))});let a=new I.Setting(this.settingsPage).setName(l.t("settings.conversion.links.folderNote.title")).setClass("github-publisher-folderNote").setDesc(l.t("settings.conversion.links.folderNote.desc")).addToggle(c=>{c.setValue(e.folderNote.enable).onChange(d=>g(this,null,function*(){e.folderNote.enable=d,yield this.plugin.saveSettings(),this.renderSettingsPage("upload-configuration")}))});e.folderNote.enable&&a.addText(c=>{c.setPlaceholder("folderNote").setValue(e.folderNote.rename).onChange(d=>g(this,null,function*(){e.folderNote.rename=d,yield this.plugin.saveSettings()}))}),ta(this.plugin.settings,n,r,a),app.plugins.enabledPlugins.has("metadata-extractor")&&new I.Setting(this.settingsPage).setName(l.t("settings.githubWorkflow.useMetadataExtractor.title")).setDesc(l.t("settings.githubWorkflow.useMetadataExtractor.desc")).addText(c=>{c.setPlaceholder("docs/_assets/metadata").setValue(e.metadataExtractorPath).onChange(d=>g(this,null,function*(){e.metadataExtractorPath=d.trim(),yield this.plugin.saveSettings()}))});let o=e.behavior===U.yaml&&e.rootFolder.length===0||e.defaultName.length===0,u=new I.Setting(this.settingsPage).setName(l.t("settings.githubWorkflow.autoCleanUp.title")).setDesc(l.t("settings.githubWorkflow.autoCleanUp.desc")).setDisabled(o).addToggle(c=>{c.setValue(e.autoclean.enable).onChange(d=>g(this,null,function*(){e.autoclean.enable=d,yield this.plugin.saveSettings(),this.renderSettingsPage(dt.upload)}))});e.autoclean.enable&&new I.Setting(this.settingsPage).setName(l.t("settings.githubWorkflow.excludedFiles.title")).setDesc(l.t("settings.githubWorkflow.excludedFiles.desc")).setClass("github-publisher-textarea").addTextArea(c=>{c.setPlaceholder("docs/assets/js, docs/assets/logo, /\\.js$/").setValue(e.autoclean.excluded.join(", ")).onChange(d=>g(this,null,function*(){e.autoclean.excluded=d.split(/[,\n]\W*/).map(f=>f.trim()).filter(f=>f.length>0),yield this.plugin.saveSettings()}))}),na(o,u,this.plugin),di(n,r,u,e.behavior,this.plugin)}renderTextConversion(){let e=this.plugin.settings.conversion;this.settingsPage.createEl("p",{text:l.t("settings.conversion.desc")}),this.settingsPage.createEl("h5",{text:l.t("settings.conversion.sectionTitle")}),new I.Setting(this.settingsPage).setName(l.t("settings.conversion.hardBreak.title")).setDesc(l.t("settings.conversion.hardBreak.desc")).addToggle(n=>{n.setValue(e.hardbreak).onChange(r=>g(this,null,function*(){e.hardbreak=r,yield this.plugin.saveSettings()}))}),new I.Setting(this.settingsPage).setName(l.t("settings.conversion.dataview.title")).setDesc(l.t("settings.conversion.dataview.desc")).addToggle(n=>{n.setValue(e.dataview).onChange(r=>g(this,null,function*(){e.dataview=r,yield this.plugin.saveSettings()}))}),new I.Setting(this.settingsPage).setName(l.t("settings.regexReplacing.modal.title.text")).setDesc(l.t("settings.regexReplacing.modal.desc")).addButton(n=>{n.setIcon("pencil").onClick(()=>g(this,null,function*(){new ci(this.app,this.plugin.settings,r=>{this.plugin.settings.conversion.censorText=r.conversion.censorText,this.plugin.saveSettings()}).open()}))}),this.settingsPage.createEl("h5",{text:"Tags"}),new I.Setting(this.settingsPage).setName(l.t("settings.conversion.tags.inlineTags.title")).setDesc(l.t("settings.conversion.tags.inlineTags.desc")).addToggle(n=>{n.setValue(e.tags.inline).onChange(r=>g(this,null,function*(){e.tags.inline=r,yield this.plugin.saveSettings()}))}),new I.Setting(this.settingsPage).setName(l.t("settings.conversion.tags.title")).setDesc(l.t("settings.conversion.tags.desc")).setClass("github-publisher-textarea").addTextArea(n=>{n.inputEl.style.width="50%",n.setPlaceholder("field_name").setValue(e.tags.fields.join(",")).onChange(r=>g(this,null,function*(){e.tags.fields=r.split(/[,\n]\W*/).map(i=>i.trim()).filter(i=>i.length>0),yield this.plugin.saveSettings()}))}),new I.Setting(this.settingsPage).setName(l.t("settings.conversion.tags.exclude.title")).setDesc(l.t("settings.conversion.tags.exclude.desc")).setClass("github-publisher-textarea").addTextArea(n=>{n.setPlaceholder("field value").setValue(e.tags.exclude.join(",")).onChange(r=>g(this,null,function*(){e.tags.exclude=r.split(/[,\n]\W*/).map(i=>i.trim()).filter(i=>i.length>0),yield this.plugin.saveSettings()}))}),this.settingsPage.createEl("h5",{text:l.t("settings.conversion.links.title")}),this.settingsPage.createEl("p",{text:l.t("settings.conversion.links.desc")}),new I.Setting(this.settingsPage).setName(l.t("settings.conversion.links.internals.title")).setDesc(l.t("settings.conversion.links.internals.desc")).addToggle(n=>{n.setValue(e.links.internal).onChange(r=>g(this,null,function*(){e.links.internal=r,yield this.plugin.saveSettings(),this.renderSettingsPage("text-conversion")}))}),e.links.internal&&new I.Setting(this.settingsPage).setName(l.t("settings.conversion.links.nonShared.title")).setDesc(l.t("settings.conversion.links.nonShared.desc")).addToggle(n=>{n.setValue(e.links.unshared).onChange(r=>g(this,null,function*(){e.links.unshared=r,yield this.plugin.saveSettings()}))}),new I.Setting(this.settingsPage).setName(l.t("settings.conversion.links.wikilinks.title")).setDesc(l.t("settings.conversion.links.wikilinks.desc")).addToggle(n=>{n.setValue(e.links.wiki).onChange(r=>g(this,null,function*(){e.links.wiki=r,yield this.plugin.saveSettings(),this.renderSettingsPage("text-conversion")}))}),(e.links.wiki||e.links.internal)&&new I.Setting(this.settingsPage).setName(l.t("settings.conversion.links.slugify.title")).setDesc(l.t("settings.conversion.links.slugify.desc")).addToggle(n=>{n.setValue(e.links.slugify).onChange(r=>g(this,null,function*(){e.links.slugify=r,yield this.plugin.saveSettings()}))})}renderEmbedConfiguration(){let e=this.plugin.settings.embed;new I.Setting(this.settingsPage).setName(l.t("settings.embed.transferImage.title")).setDesc(l.t("settings.embed.transferImage.desc")).addToggle(r=>{r.setValue(e.attachments).onChange(i=>g(this,null,function*(){e.attachments=i,ra(i,n),yield this.plugin.saveSettings()}))});let n=new I.Setting(this.settingsPage).setName(l.t("settings.embed.defaultImageFolder.title")).setDesc(l.t("settings.embed.defaultImageFolder.desc")).addText(r=>{r.setPlaceholder("docs/images").setValue(e.folder).onChange(i=>g(this,null,function*(){e.folder=i.replace(/\/$/,""),yield this.plugin.saveSettings()}))});new I.Setting(this.settingsPage).setName(l.t("settings.embed.transferMetaFile.title")).setDesc(l.t("settings.embed.transferMetaFile.desc")).setClass("github-publisher-textarea").addTextArea(r=>{r.setPlaceholder("banner").setValue(e.keySendFile.join(", ")).onChange(i=>g(this,null,function*(){e.keySendFile=i.split(/[,\n]\W*/).map(s=>s.trim()).filter(s=>s.length>0),yield this.plugin.saveSettings()}))}),new I.Setting(this.settingsPage).setName(l.t("settings.embed.transferNotes.title")).setDesc(l.t("settings.embed.transferNotes.desc")).addToggle(r=>{r.setValue(e.notes).onChange(i=>g(this,null,function*(){e.notes=i,yield this.plugin.saveSettings()}))})}renderPluginSettings(){let e=this.plugin.settings.plugin;new I.Setting(this.settingsPage).setName(l.t("settings.plugin.shareKey.title")).setDesc(l.t("settings.plugin.shareKey.desc")).addText(n=>n.setPlaceholder("share").setValue(e.shareKey).onChange(r=>g(this,null,function*(){e.shareKey=r.trim(),yield this.plugin.saveSettings()}))),new I.Setting(this.settingsPage).setName(l.t("settings.plugin.excludedFolder.title")).setDesc(l.t("settings.plugin.excludedFolder.desc")).setClass("github-publisher-textarea").addTextArea(n=>n.setPlaceholder("_assets, Archive, /^_(.*)/gi").setValue(e.excludedFolder.join(", ")).onChange(r=>g(this,null,function*(){e.excludedFolder=r.split(/[,\n]\W*/).map(i=>i.trim()).filter(i=>i.length>0),yield this.plugin.saveSettings()}))),new I.Setting(this.settingsPage).setName(l.t("settings.plugin.fileMenu.title")).setDesc(l.t("settings.plugin.fileMenu.desc")).addToggle(n=>n.setValue(e.fileMenu).onChange(r=>g(this,null,function*(){e.fileMenu=r,yield this.plugin.saveSettings()}))),new I.Setting(this.settingsPage).setName(l.t("settings.plugin.editorMenu.title")).setDesc(l.t("settings.plugin.editorMenu.desc")).addToggle(n=>n.setValue(e.editorMenu).onChange(r=>g(this,null,function*(){e.editorMenu=r,yield this.plugin.saveSettings()}))),new I.Setting(this.settingsPage).setName(l.t("settings.plugin.copyLink.title")).setDesc(l.t("settings.plugin.copyLink.desc")).addToggle(n=>n.setValue(e.copyLink.enable).onChange(r=>g(this,null,function*(){e.copyLink.enable=r,yield this.plugin.saveSettings(),this.renderSettingsPage(dt.plugin)}))),e.copyLink.enable&&(new I.Setting(this.settingsPage).setName(l.t("settings.plugin.copyLink.baselink.title")).setDesc(l.t("settings.plugin.copyLink.baselink.desc")).setClass("github-publisher").addText(n=>{n.setPlaceholder("my_blog.com").setValue(e.copyLink.links).onChange(r=>g(this,null,function*(){e.copyLink.links=r,yield this.plugin.saveSettings()}))}),new I.Setting(this.settingsPage).setName(l.t("settings.plugin.copyLink.linkPathRemover.title")).setDesc(l.t("settings.plugin.copyLink.linkPathRemover.desc")).setClass("github-publisher").addText(n=>{n.setPlaceholder("docs").setValue(e.copyLink.removePart.join(", ")).onChange(r=>g(this,null,function*(){e.copyLink.removePart=r.split(/[,\n]\s*/).map(i=>i.trim()).filter(i=>i.length>0),yield this.plugin.saveSettings()}))}),new I.Setting(this.settingsPage).setName(l.t("settings.plugin.copyLink.command.desc")).addToggle(n=>n.setValue(e.copyLink.addCmd).onChange(r=>g(this,null,function*(){e.copyLink.addCmd=r,yield this.plugin.saveSettings()})))),new I.Setting(this.settingsPage).setName(l.t("settings.plugin.logNoticeHeader.title")).setDesc(l.t("settings.plugin.logNoticeHeader.desc")).addToggle(n=>n.setValue(e.noticeError).onChange(r=>g(this,null,function*(){e.noticeError=r,yield this.plugin.saveSettings()}))),new I.Setting(this.settingsPage).setName(l.t("settings.plugin.embedEditRepo.title")).setDesc(l.t("settings.plugin.embedEditRepo.desc")).addToggle(n=>n.setValue(e.displayModalRepoEditing).onChange(r=>g(this,null,function*(){e.displayModalRepoEditing=r,yield this.plugin.saveSettings()})))}renderHelp(){this.settingsPage.createEl("h2",{text:l.t("settings.help.usefulLinks.title")}),this.settingsPage.appendChild(aa()),this.settingsPage.createEl("hr"),this.settingsPage.createEl("h2",{text:l.t("settings.help.frontmatter.title")}),this.settingsPage.createEl("p",{text:l.t("settings.help.frontmatter.desc")}),this.settingsPage.createEl("pre",{cls:"language-yaml"}).createEl("code",{text:ia(this.plugin.settings),cls:"language-yaml"}),this.settingsPage.appendChild(sa(this.plugin.settings)),this.settingsPage.createEl("h2",{text:l.t("settings.help.multiRepoHelp.title")}),this.settingsPage.appendChild(oa(this.plugin.settings)),this.settingsPage.appendChild(ua())}};var Wn=W(require("obsidian"));var jt=W(require("obsidian"));var ya="3.7.5",nd=ya,rd=typeof atob=="function",id=typeof btoa=="function",sn=typeof Buffer=="function",Da=typeof TextDecoder=="function"?new TextDecoder:void 0,va=typeof TextEncoder=="function"?new TextEncoder:void 0,sd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Tn=Array.prototype.slice.call(sd),yr=(t=>{let e={};return t.forEach((n,r)=>e[n]=r),e})(Tn),ad=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,oe=String.fromCharCode.bind(String),wa=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),Fa=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),xa=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),Ea=t=>{let e,n,r,i,s="",a=t.length%3;for(let o=0;o<t.length;){if((n=t.charCodeAt(o++))>255||(r=t.charCodeAt(o++))>255||(i=t.charCodeAt(o++))>255)throw new TypeError("invalid character found");e=n<<16|r<<8|i,s+=Tn[e>>18&63]+Tn[e>>12&63]+Tn[e>>6&63]+Tn[e&63]}return a?s.slice(0,a-3)+"===".substring(a):s},Ci=id?t=>btoa(t):sn?t=>Buffer.from(t,"binary").toString("base64"):Ea,Si=sn?t=>Buffer.from(t).toString("base64"):t=>{let e=4096,n=[];for(let r=0,i=t.length;r<i;r+=e)n.push(oe.apply(null,t.subarray(r,r+e)));return Ci(n.join(""))},Dr=(t,e=!1)=>e?Fa(Si(t)):Si(t),od=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?oe(192|e>>>6)+oe(128|e&63):oe(224|e>>>12&15)+oe(128|e>>>6&63)+oe(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return oe(240|e>>>18&7)+oe(128|e>>>12&63)+oe(128|e>>>6&63)+oe(128|e&63)}},ud=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ka=t=>t.replace(ud,od),Ca=sn?t=>Buffer.from(t,"utf8").toString("base64"):va?t=>Si(va.encode(t)):t=>Ci(ka(t)),an=(t,e=!1)=>e?Fa(Ca(t)):Ca(t),Sa=t=>an(t,!0),ld=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,cd=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return oe((n>>>10)+55296)+oe((n&1023)+56320);case 3:return oe((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return oe((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},Ta=t=>t.replace(ld,cd),Oa=t=>{if(t=t.replace(/\s+/g,""),!ad.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,n="",r,i;for(let s=0;s<t.length;)e=yr[t.charAt(s++)]<<18|yr[t.charAt(s++)]<<12|(r=yr[t.charAt(s++)])<<6|(i=yr[t.charAt(s++)]),n+=r===64?oe(e>>16&255):i===64?oe(e>>16&255,e>>8&255):oe(e>>16&255,e>>8&255,e&255);return n},Ti=rd?t=>atob(xa(t)):sn?t=>Buffer.from(t,"base64").toString("binary"):Oa,Pa=sn?t=>wa(Buffer.from(t,"base64")):t=>wa(Ti(t).split("").map(e=>e.charCodeAt(0))),Ra=t=>Pa(Aa(t)),dd=sn?t=>Buffer.from(t,"base64").toString("utf8"):Da?t=>Da.decode(Pa(t)):t=>Ta(Ti(t)),Aa=t=>xa(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),Oi=t=>dd(Aa(t)),hd=t=>{if(typeof t!="string")return!1;let e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},Na=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),La=function(){let t=(e,n)=>Object.defineProperty(String.prototype,e,Na(n));t("fromBase64",function(){return Oi(this)}),t("toBase64",function(e){return an(this,e)}),t("toBase64URI",function(){return an(this,!0)}),t("toBase64URL",function(){return an(this,!0)}),t("toUint8Array",function(){return Ra(this)})},Ma=function(){let t=(e,n)=>Object.defineProperty(Uint8Array.prototype,e,Na(n));t("toBase64",function(e){return Dr(this,e)}),t("toBase64URI",function(){return Dr(this,!0)}),t("toBase64URL",function(){return Dr(this,!0)})},fd=()=>{La(),Ma()},vr={version:ya,VERSION:nd,atob:Ti,atobPolyfill:Oa,btoa:Ci,btoaPolyfill:Ea,fromBase64:Oi,toBase64:an,encode:an,encodeURI:Sa,encodeURL:Sa,utob:ka,btou:Ta,decode:Oi,isValid:hd,fromUint8Array:Dr,toUint8Array:Ra,extendString:La,extendUint8Array:Ma,extendBuiltins:fd};var On=W(require("obsidian"));function Pn(t=!1,e,n,r,i,s,a){return g(this,null,function*(){s=Array.isArray(s)?s:[s];let o=[];for(let u of s)o.push(yield pd(t,e,n,r,i,u,a));return o[0]})}function pd(t=!1,e,n,r,i,s,a){return g(this,null,function*(){if(!s.autoclean)return;let o=yield i.getAllFileFromRepo(r,n,e,s),u=yield gd(o,e);if(!(yield nn(n,e,!1,u.length)))return{success:!1,deleted:[],undeleted:[]};if(!u){let w="";return e.upload.defaultName.length>0&&(e.upload.defaultName.length>0?w=l.t("deletion.defaultFolder"):e.upload.behavior===U.yaml&&e.upload.rootFolder.length===0&&(w=l.t("deletion.rootFolder"))),t||new On.Notice("Error : "+w),{success:!1,deleted:[],undeleted:[]}}let f=i.getAllFileWithPath(a).map(w=>({converted:w.converted,repo:w.repoFrontmatter})),m=0,y=0,F={deleted:[],undeleted:[],success:!1};for(let w of u){let E=f.some(P=>P.converted===w.file),L=w.file.trim().endsWith(".md")?!f.some(P=>P.converted===w.file&&JSON.stringify(P.repo)==JSON.stringify(s)):!1;if(E?L:!0){let P=w.file.contains(e.upload.folderNote.rename)?yield yd(n,e,w.file,s):!1;try{P||(B(`trying to delete file : ${w.file} from ${s.owner}/${s.repo}`,e),(yield n.request("DELETE /repos/{owner}/{repo}/contents/{path}",{owner:s.owner,repo:s.repo,path:w.file,message:`DELETE FILE : ${w.file}`,sha:w.sha,branch:r})).status===200?(m++,F.deleted.push(w.file)):(y++,F.undeleted.push(w.file)))}catch(G){G instanceof DOMException||B(G,e)}}}let k=l.t("deletion.noFile"),C="";return m>0&&(k=l.t("deletion.success",{nb:m.toString()})),y>0&&(C=l.t("deletion.failed",{nb:y.toString()})),t||new On.Notice(k+C),F.success=y===0,F})}function md(t,e){let n=e.upload.autoclean.excluded;if(n.length>0)for(let r of n){let i=r.match(/^\/(.*)\/[igmsuy]*$/),s=i?new RegExp(i[1],i[2]):null;if(s&&s.test(t))return!0;if(t.trim().includes(r.trim())&&r.length>0)return!0}return!1}function gd(t,e){return g(this,null,function*(){let n=[];for(let r of t){let i=e.upload.behavior,s=e.upload.rootFolder,a=e.upload.defaultName,o=e.embed.folder;if(i===U.yaml&&s.length===0||a.length===0||i===U.fixed)return null;(r.file.includes(a)||i===U.yaml&&r.file.includes(s)||o.length>0&&r.file.includes(o))&&!md(r.file,e)&&(De(r.file)||r.file.match("md$"))&&n.push(r)}return n})}function bd(t){let e=t.split("---")[1],n=(0,On.parseYaml)(e);return fa(n)}function yd(t,e,n,r){return g(this,null,function*(){try{let i=yield t.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:r.owner,repo:r.repo,path:n});if(i.status===200){let s=vr.decode(i.data.content),a=bd(s);return a.index==="true"||a.delete==="false"||!a.share}}catch(i){if(!(i instanceof DOMException))return B(i,e),!1}})}var Rn=class{constructor(e,n,r=!1){this.attachment=!1;this.statusBarItem=e,this.counter=0,this.numberOfNotesToPublish=n,this.attachment=r,this.statusBarItem.createEl("span",{text:""});let i=l.t("common.files");this.attachment&&(i=l.t("common.attachments"));let s=l.t("statusBar.markedForSharing",{nb:this.numberOfNotesToPublish,type:i});this.status=this.statusBarItem.createEl("span",{text:`${s}`})}increment(){let e=l.t("common.files");this.attachment&&(e=l.t("common.attachments"));let n=l.t("statusBar.sharing",{type:e});this.status.setText(l.t("statusBar.counter",{msg:n,counter:++this.counter,nb:this.numberOfNotesToPublish}))}finish(e){let n=l.t("statusBar.success",{action:l.t("common.published"),type:l.t("common.files")});this.attachment&&(n=l.t("statusBar.success",{action:l.t("common.shared"),type:l.t("common.attachments")})),this.status.setText(l.t("statusBar.counter",{msg:n,counter:this.counter,nb:this.numberOfNotesToPublish})),setTimeout(()=>{this.statusBarItem.remove()},e)}error(){this.statusBarItem.remove()}};var Dt=W(require("obsidian"));var ls=W(rs());var as=W(vu());function os(t,e,n,r){let i=e.convertWiki,s=e.attachment,a=e.links;if(ma(e))return t;let o=/!?\[\[.*?\]\]/g,u=t.match(o);if(u){let c=/(\[\[).*?([\]|])/;for(let d of u){let f=d.match(c),m=d.startsWith("!")?"!":"",y=d.startsWith("!");if(f){let F=d,k=f[0].replaceAll("[","").replaceAll("|","").replaceAll("]","").replaceAll("\\",""),C=f[0].replaceAll("[","").replaceAll("|","").replaceAll("]","").replaceAll("\\","").replaceAll("../","").replaceAll("./","").replace(/#.*/,""),w=n.find(E=>E.linkFrom.replace(/#.*/,"")===C);if(w){let E;w.linked.extension!=="md"?E=w.altText.length>0?w.altText:"":E=w.altText.length>0?w.altText:w.linked.basename;let L=e.removeEmbed&&y&&w.linked.extension==="md";if(i){let v=d.match(/(\|).*(]])/),P=k.split("/"),G=xu(v,P,k.split(".").at(-1),k);F=wu(k,m,G,r)}w.linked.extension==="md"&&!a&&!y&&(F=E),(!s&&De(w.linked.extension)||L)&&(F=""),t=t.replace(d,F)}else if(!k.startsWith("http")){let E=d.match(/(\|).*(]])/),L=k.split("/"),v=xu(E,L,k.split(".").at(-1),k),P=!De(k.trim())&&e.removeEmbed&&y;i&&(F=wu(k,m,v,r)),!De(k.trim())&&!a&&!y&&(F=v),(!s&&De(k.trim())||P)&&(F=""),t=t.replace(d,F)}}}}return t}function wu(t,e,n,r){let i=De(t.trim())?t.trim():t.replace(/#.*/,"").trim()+".md",s=t.match(/(#.*)/)?t.match(/(#.*)/)[0].replaceAll(" ","%20"):"",a=encodeURI(i);return r.conversion.links.slugify&&(s=t.match(/(#.*)/)?(0,as.default)(t.match(/(#.*)/)[0],{lower:!0,strict:!0}):"",s=`#${s}`),`${e}[${n}](${a}${s})`}function Cf(t,e){return t.match(/\[{2}.*\]{2}/)&&!t.match(/(\|).*(]])/)?t.replace("|","").replace("]]",`|${e.altText}]]`):t}function Fu(t){return t.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&")}function us(t,e,n,r,i,s,a,o,u,c){return g(this,null,function*(){if(!u.convertInternalLinks)return t;for(let d of n){let f=yield ca(i,d,r,e,s,a,o,u,c);f=f.replace(".md","");let m=d.anchor?d.anchor:"",y=Fu(d.linkFrom.replace(d.anchor,"")).replaceAll(" ","%20")+m.replace("^","\\^");y=y.replaceAll(" ","%20");let F=Fu(d.linkFrom),k=new RegExp(`(\\[{2}${F}(\\\\?\\|.*)?\\]{2})|(\\[.*\\]\\((${F}|${y})\\))`,"g"),C=t.match(k);if(C)for(let w of C){let E=new RegExp(`((${F})|(${y}))`),L=f;d.anchor&&(f=f.replace(/#.*/,""),L+=d.anchor);let v=w.replace(E,L);w.match(/\[.*\]\(.*\)/)&&(d.linked.extension==="md"&&(m=e.conversion.links.slugify?(0,as.default)(m,{lower:!0,strict:!0}):m,f=f.replaceAll(" ","%20")+".md#"+m,f=!f.match(/(#.*)/)&&!f.endsWith(".md")?f+".md":f),v=`[${w.match(/\[(.*)\]/)[1]}](${f})`),v=Cf(v,d),t=t.replace(w,v)}}return t})}function xu(t,e,n,r){return t?t[0].replace("]]","").replace("|",""):n==="md"?e.length>1?e[e.length-1]:e[0]:r.split("/").at(-1)}function Sf(t,e,n){try{return t=t.replace(/^\s*\\\s*$/gim,"<br/>"),n.hardbreak&&(t=t.replace(/\n/gm,`  
`)),t}catch(r){return B(r,e),t}}function Eu(t,e,n){return g(this,null,function*(){let r=t.split("---")[1],i=(0,Dt.parseYaml)(r);if(i.tag)try{e=[...new Set([...e,...i.tag.map(o=>o.replaceAll("/","_"))])],delete i.tag}catch(o){B(o,n)}if(i.tags)try{i.tags=[...new Set([...i.tags.map(o=>o.replaceAll("/","_")),...e])]}catch(o){B(o,n)}else i.tags=e;let s=(0,Dt.stringifyYaml)(i),a=t.split("---").slice(2).join("---");return`---
${s}---
${a}`})}function Tf(t,e,n,r,i,s){return g(this,null,function*(){var f;if(!t.conversion.tags.inline)return s;let a=(f=n.getFileCache(e))==null?void 0:f.tags,o=a?a.map(m=>m.tag.replace("#","").replaceAll("/","_")):[],u=(0,Dt.parseFrontMatterTags)(i),c=u?u.map(m=>m.replace("#","").replaceAll("/","_")):[],d=[...new Set([...o,...c])];return d.length>0?yield Eu(s,d,t):s})}function ku(t,e){let r=(s=>/([^/\\.]*)(\..*)?$/.exec(s)[1])(t.path).toString(),i=t.display?t.display.toString():r;return!e.conversion.tags.exclude.includes(i)&&!e.conversion.tags.fields.includes(r)?i:null}function Of(t,e,n,r){return g(this,null,function*(){if(e.conversion.tags.fields.length===0||!r.plugins.enabledPlugins.has("dataview"))return t;let s=yield(0,ls.getAPI)().page(n.path),a=[];for(let o of e.conversion.tags.fields){let u=s[o];if(u)if(u.constructor.name==="Link"){let c=ku(u,e);a.push(c)}else if(u.constructor.name==="Array")for(let c of u){let d=c;c.constructor.name==="Link"?(d=ku(c,e),a.push(d)):e.conversion.tags.exclude.includes(d.toString())||a.push(d.toString())}else e.conversion.tags.exclude.includes(u.toString())||a.push(u.toString())}return a.length>0?yield Eu(t,a.filter(Boolean),e):t})}function Pf(t,e,n,r,i,s,a,o,u,c){return g(this,null,function*(){if(!r.plugins.enabledPlugins.has("dataview"))return t;let d=r.vault,f=t,m=/```dataview(.+?)```/gms,y=(0,ls.getAPI)(),F=t.matchAll(m);if(!F)return;let k=s.dataview;for(let C of F)try{let w=C[0],E=C[1],L=k?yield y.tryQueryMarkdown(E,e):"",v=la(L,n,d);L=yield us(L,n,v,i,o,d,a,u,s,c),L=os(L,s,v,n),f=f.replace(w,L)}catch(w){return B(w,n),C[1].match("js")||new Dt.Notice(l.t("error.dataview")),t}return f})}function Cu(t,e,n,r,i,s,a,o,u,c,d,f){return g(this,null,function*(){return t=dr(t,e,!1),t=yield Tf(e,r,s,u.app,a,t),t=yield Pf(t,r.path,e,u.app,s,n,a,r,d,f),t=yield Of(t,e,r,u.app),t=Sf(t,e,n),t=yield us(t,e,o,s,r,c,a,d,n,f),t=os(t,n,o,e),t=dr(t,e,!0),t})}var Gr=class{constructor(e,n,r,i,s){this.vault=e,this.metadataCache=n,this.settings=r,this.octokit=i,this.plugin=s}statusBarForEmbed(e,n,r,i,s,a,o){return g(this,null,function*(){let u=[],c=[];if(e.length>0)if(e.length>1){let d=this.plugin.addStatusBarItem(),f=new Rn(d,e.length,!0);try{for(let m of e)try{if(!n.includes(m)){if(m.extension==="md"&&i){let y=yield this.publish(m,!1,r,a,o,n,!0);y&&u.push(...y.uploaded)}else if(De(m.extension)&&s.attachment){let y=yield this.uploadImage(m,r,s,a);n.push(m),y&&u.push(y)}}f.increment()}catch(y){new jt.Notice(l.t("error.unablePublishNote",{file:m.name})),c.push(m.name),console.error(y)}f.finish(8e3)}catch(m){B(m,this.settings),new jt.Notice(l.t("error.errorPublish",{repo:a})),f.error()}}else{let d=e[0];if(!n.includes(d)){if(d.extension==="md"&&i){let f=yield this.publish(d,!1,r,a,o,n,!0);f&&u.push(...f.uploaded)}else if(De(d.extension)&&s.attachment){let f=yield this.uploadImage(d,r,s,a);n.push(d),f&&u.push(f)}}}return{fileHistory:n,uploaded:u,error:c}})}publish(u){return g(this,arguments,function*(e,n=!1,r,i,s,a=[],o=!1){let c=new qn(this.vault,this.metadataCache,this.settings,this.octokit,this.plugin),d=this.metadataCache.getFileCache(e).frontmatter,f=gr(Z(this.settings,s,d),this.plugin);if(!pe(d,this.settings,e,s)||a.includes(e)||!pr(Z(this.settings,s,d),i)||!f)return!1;try{B("Publishing file: "+e.path,this.settings),a.push(e);let m=fr(d,this.settings),y=c.getSharedEmbed(e,m);y=yield c.getMetadataLinks(e,y,d,m);let F=c.getLinkedByEmbedding(e),k=yield app.vault.cachedRead(e);k=yield Cu(k,this.settings,m,e,app,this.metadataCache,d,F,this.plugin,this.vault,i,s);let C=Ze(e,this.settings,this.metadataCache,this.vault,s);i=Array.isArray(i)?i:[i];let w="";for(let G of i)w+=`[${G.owner}/${G.repo}/${G.branch}] `;let E=`Publishing ${e.name} to ${w}`;B(E,this.settings);let L=[],v=[],P=[];for(let G of i){let N=yield this.uploadOnMultipleRepo(e,k,r,m,C,G,y,a,o,c,n,s);L.push(N.deleted),v.push(N.uploaded),P.push(...N.error)}return{deleted:L[0],uploaded:v[0],error:P}}catch(m){return B(m,this.settings),!1}})}uploadOnMultipleRepo(e,n,r,i,s,a,o,u,c,d,f,m){return g(this,null,function*(){B(`Upload ${e.name}:${s} on ${a.owner}/${a.repo}:${r}`,this.settings);let y=yield this.uploadText(n,s,e.name,r,a),F,k=yield this.statusBarForEmbed(o,u,r,c,i,a,m),C=k.uploaded;return C.push(y),f&&a.autoclean&&(F=yield Pn(!0,this.settings,this.octokit,r,d,a,m)),{deleted:F,uploaded:C,error:k.error}})}upload(e,n,r="",i,s){return g(this,null,function*(){if(!s.repo)throw new jt.Notice("Config error : You need to define a github repo in the plugin settings"),{};if(!s.owner)throw new jt.Notice("Config error : You need to define your github username in the plugin settings"),{};let a=this.octokit,o=`PUSH NOTE : ${r}`;De(n)&&(r=n.split("/")[n.split("/").length-1],o=`PUSH ATTACHMENT : ${r}`);let u={owner:s.owner,repo:s.repo,path:n,message:`Adding ${r}`,content:e,sha:"",branch:i},c={isUpdated:!1,file:r};try{let d=yield a.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:s.owner,repo:s.repo,path:n,ref:i});d.status===200&&d.data.type==="file"&&(u.sha=d.data.sha,c.isUpdated=!0)}catch(d){B("The 404 error is normal ! It means that the file does not exist yet. Don't worry \u2764\uFE0F.",this.settings)}return u.message=o,yield a.request("PUT /repos/{owner}/{repo}/contents/{path}",u),c})}uploadImage(e,n,r,i){return g(this,null,function*(){let s=yield this.vault.readBinary(e),a=(0,jt.arrayBufferToBase64)(s),o=Cn(e,this.settings,r);return yield this.upload(a,o,"",n,i)})}uploadText(e,n,r="",i,s){return g(this,null,function*(){try{let a=vr.encode(e).toString();return yield this.upload(a,n,r,i,s)}catch(a){console.error(a);return}})}uploadMetadataExtractorFiles(e,n,r){return g(this,null,function*(){if(e){for(let i of Object.values(e))if(i){let s=yield app.vault.adapter.read(i),a=this.settings.upload.metadataExtractorPath+"/"+i.split("/").pop();r=Array.isArray(r)?r:[r];for(let o of r)yield this.uploadText(s,a,i.split("/").pop(),n,o)}}})}workflowGestion(e){return g(this,null,function*(){let n=!1;if(e.workflowName.length===0)return!1;{let r=this.octokit;for(yield r.request("POST /repos/{owner}/{repo}/actions/workflows/{workflow_id}/dispatches",{owner:e.owner,repo:e.repo,workflow_id:e.workflowName,ref:e.branch});!n;){yield sleep(1e4);let i=yield r.request("GET /repos/{owner}/{repo}/actions/runs",{owner:e.owner,repo:e.repo});if(i.data.workflow_runs.length>0&&i.data.workflow_runs.find(a=>a.name===e.workflowName.replace(".yml","")).status==="completed")return n=!0,!0}}})}};var Su=W(rs()),qn=class extends Gr{constructor(e,n,r,i,s){super(e,n,r,i,s);this.vault=e,this.metadataCache=n,this.settings=r,this.octokit=i,this.plugin=s}getSharedFiles(e){let n=this.vault.getMarkdownFiles(),r=[];for(let i of n)try{let s=this.metadataCache.getCache(i.path).frontmatter;pe(s,this.settings,i,e)&&r.push(i)}catch(s){}return r}getSharedFileOfFolder(e,n){let r=[];for(let i of e.children)if(i instanceof Wn.TFolder)r.push(...this.getSharedFileOfFolder(i,n));else try{let s=this.metadataCache.getCache(i.path).frontmatter;pe(s,this.settings,i,n)&&r.push(i)}catch(s){}return Rt(r),r}getAllFileWithPath(e){let n=this.vault.getFiles(),r=[];for(let i of n)if(De(i.extension)){let s=Cn(i,this.settings,null);r.push({converted:s,real:i.path})}else if(i.extension=="md"){let s=this.metadataCache.getCache(i.path).frontmatter;if(pe(s,this.settings,i,e)){let a=Ze(i,this.settings,this.metadataCache,this.vault,e);r.push({converted:a,real:i.path,repoFrontmatter:Z(this.settings,e,s)})}}return r}getLinkedByEmbedding(e){let n=this.getLinkedFiles(e),r=this.metadataCache.getFileCache(e).embeds;if(r!=null)for(let i of r)try{let s=this.metadataCache.getFirstLinkpathDest(i.link.replace(/#.*/,""),e.path);if(s!==null){let a=i.displayText!==s.path.replace(".md","")?i.displayText:s.basename,o;if(this.settings.upload.frontmatterTitle.enable){let c=this.metadataCache.getCache(s.path).frontmatter;c&&c[this.settings.upload.frontmatterTitle.key]&&(o=c[this.settings.upload.frontmatterTitle.key],a===s.basename&&(a=o))}let u={linked:s,linkFrom:i.link,altText:a,destinationFilePath:o};i.link.includes("#")&&(u.anchor="#"+i.link.split("#")[1]),n.push(u)}}catch(s){}return[...new Set(n)]}getLinkedFiles(e){let n=this.metadataCache.getCache(e.path).links,r=[];if(n!=null){for(let i of n)try{let s=this.metadataCache.getFirstLinkpathDest(i.link.replace(/#.*/,""),e.path);if(s){let a=i.displayText!==s.path.replace(".md","")?i.displayText:s.basename;i.original.match(/\[.*\]\(.*\)/)&&(a=i.original.match(/\[(.*)\]/)[1]);let o;if(this.settings.upload.frontmatterTitle.enable){let c=this.metadataCache.getCache(s.path).frontmatter;c&&c[this.settings.upload.frontmatterTitle.key]&&(o=c[this.settings.upload.frontmatterTitle.key],a===s.basename&&(a=o))}let u={linked:s,linkFrom:i.link,altText:a,destinationFilePath:o};i.link.includes("#")&&(u.anchor="#"+i.link.split("#")[1]),r.push(u)}}catch(s){B(s,this.settings),B("Error with this links : "+i.link,this.settings)}return[...new Set(r)]}return[]}getSharedEmbed(e,n){let r=this.metadataCache.getCache(e.path).embeds,i=[];if(r!=null){for(let s of r)try{let a=this.metadataCache.getFirstLinkpathDest(s.link.replace(/#(.*)/,""),e.path);i.push(this.imageSharedOrNote(a,n))}catch(a){B(a,this.settings),B("Error with this file : "+s.displayText,this.settings)}return[...new Set(i)].filter(s=>s!==null)}return[]}getLastEditedTimeRepo(e,n,r){return g(this,null,function*(){let s=(yield e.request("GET /repos/{owner}/{repo}/commits",{owner:r.github.user,repo:r.github.repo,path:n.file})).data[0];return new Date(s.commit.committer.date)})}getAllFileFromRepo(e,n,r,i){return g(this,null,function*(){let s=[];try{let a=yield n.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:i.owner,repo:i.repo,tree_sha:e,recursive:"true"});if(a.status===200){let o=a.data.tree;for(let u of o){let c=d=>/([^/\\.]*)(\..*)?$/.exec(d)[1];u.type==="blob"&&c(u.path).length>0&&s.push({file:u.path,sha:u.sha})}}}catch(a){B(a,r)}return s})}getNewFiles(e,n,r){let i=[];for(let s of e)if(!n.some(a=>a.file===s.converted.trim())){let a=r.getAbstractFileByPath(s.real.trim());a&&a instanceof Wn.TFile&&a.extension==="md"&&i.push(a)}return i}getImageByPath(e,n,r){n.constructor.name==="Link"&&(n=n.path),e.constructor.name==="Link"&&(e=e.path);let i=this.metadataCache.getFirstLinkpathDest(n,e);return i!==null?this.imageSharedOrNote(i,r):null}imageSharedOrNote(e,n){let r=n.attachment,i=n.embed;return De(e.extension)&&r||i&&e.extension==="md"?e:null}getMetadataLinks(e,n,r,i){return g(this,null,function*(){var s;for(let a of this.settings.embed.keySendFile)r[a]!=null&&((s=this.metadataCache.getFirstLinkpathDest(r[a],e.path))!=null?s:this.vault.getAbstractFileByPath(r[a]))!==null&&n.push(this.imageSharedOrNote(e,i));if(this.plugin.app.plugins.enabledPlugins.has("dataview")){let o=yield(0,Su.getAPI)().page(e.path);for(let u of this.settings.embed.keySendFile){let c=o[u];if(c!=null)if(c.constructor.name==="Array")for(let d of c)n.push(this.getImageByPath(d,c,i));else n.push(this.getImageByPath(c,c,i))}}return[...new Set(n)].filter(a=>a!=null)})}getEditedFiles(e,n,r,i){return g(this,null,function*(){for(let s of e)if(n.some(a=>a.file===s.converted.trim())){let a=n.find(c=>c.file===s.converted.trim()),o=yield this.getLastEditedTimeRepo(this.octokit,a,this.settings),u=r.getAbstractFileByPath(s.real.trim());if(u&&u instanceof Wn.TFile&&u.extension==="md"){let c=new Date(u.stat.mtime);c>o&&(B(`edited file : ${u.path} / ${c} vs ${o}`,this.settings),i.push(u))}}return i})}};var ut=W(require("obsidian"));var cs=class extends qn{constructor(e,n,r,i,s){super(r,i,e,n,s);this.settings=e,this.octokit=n,this.plugin=s}newBranch(e,n){return g(this,null,function*(){n=Array.isArray(n)?n:[n];for(let r of n)yield this.newBranchOnRepo(e,r)})}newBranchOnRepo(e,n){return g(this,null,function*(){let i=(yield this.octokit.request("GET /repos/{owner}/{repo}/branches",{owner:n.owner,repo:n.repo})).data.find(s=>s.name===n.branch);try{let s=i.commit.sha,a=yield this.octokit.request("POST /repos/{owner}/{repo}/git/refs",{owner:n.owner,repo:n.repo,ref:"refs/heads/"+e,sha:s});return B(l.t("publish.branch.success",{branchStatus:a.status,repo:n}),this.settings),a.status===201}catch(s){try{B(s,this.settings);let o=(yield this.octokit.request("GET /repos/{owner}/{repo}/branches",{owner:n.owner,repo:n.repo})).data.find(u=>u.name===e);return B(l.t("publish.branch.alreadyExists",{branchName:e,repo:n}),this.settings),!!o}catch(a){return B(a,this.settings),!1}}})}pullRequestOnRepo(e,n){return g(this,null,function*(){try{return(yield this.octokit.request("POST /repos/{owner}/{repo}/pulls",{owner:n.owner,repo:n.repo,title:l.t("publish.branch.prMessage",{branchName:e}),body:"",head:e,base:n.branch})).data.number}catch(r){B(r,this.settings);try{return(yield this.octokit.request("GET /repos/{owner}/{repo}/pulls",{owner:n.owner,repo:n.repo,state:"open"})).data[0].number}catch(i){return B(l.t("publish.branch.error",{error:i,repo:n}),this.settings),0}}})}deleteBranchOnRepo(e,n){return g(this,null,function*(){try{return(yield this.octokit.request("DELETE /repos/{owner}/{repo}/git/refs/heads/"+e,{owner:n.owner,repo:n.repo})).status===200}catch(r){return!1}})}mergePullRequestOnRepo(e,n){return g(this,null,function*(){let r=n.commitMsg||n.commitMsg.trim().length>0?`${n.commitMsg} #${e}`:`[PUBLISHER] Merge #${e}`;try{return(yield this.octokit.request("PUT /repos/{owner}/{repo}/pulls/{pull_number}/merge",{owner:n.owner,repo:n.repo,pull_number:e,commit_title:r,merge_method:"squash"})).status===200}catch(i){return B(i,this.settings),new ut.Notice(l.t("error.mergeconflic")),!1}})}updateRepository(e,n){return g(this,null,function*(){n=Array.isArray(n)?n:[n];let r=[];for(let i of n)r.push(yield this.updateRepositoryOnOne(e,i));return!r.every(i=>i===!1)})}updateRepositoryOnOne(e,n){return g(this,null,function*(){try{let r=yield this.pullRequestOnRepo(e,n);return n.automaticallyMergePR&&r!==0?(yield this.mergePullRequestOnRepo(r,n))?(yield this.deleteBranchOnRepo(e,n),!0):!1:!0}catch(r){return B(r,this.settings),new ut.Notice(l.t("error.errorConfig",{repo:n})),!1}})}checkRepository(e,n=!0){return g(this,null,function*(){e=Array.isArray(e)?e:[e];for(let r of e)try{(yield this.octokit.request("GET /repos/{owner}/{repo}",{owner:r.owner,repo:r.repo}).catch(s=>{s.status===404?new ut.Notice(l.t("commands.checkValidity.inRepo.error404",{repo:r})):s.status===403?new ut.Notice(l.t("commands.checkValidity.inRepo.error403",{repo:r})):s.status===301&&new ut.Notice(l.t("commands.checkValidity.inRepo.error301",{repo:r}))})).status===200&&(B(l.t("commands.checkValidity.repoExistsTestBranch",{repo:r}),this.settings),(yield this.octokit.request("GET /repos/{owner}/{repo}/branches/{branch}",{owner:r.owner,repo:r.repo,branch:r.branch}).catch(a=>{a.status===404?new ut.Notice(l.t("commands.checkValidity.inBranch.error404",{repo:r})):a.status===403&&new ut.Notice(l.t("commands.checkValidity.inBranch.error403",{repo:r}))})).status===200&&!n&&new ut.Notice(l.t("commands.checkValidity.success",{repo:r})))}catch(i){break}})}};function vt(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof process=="object"&&"version"in process?`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`:"<environment undetectable>"}var ll=W(Vu());function $u(t){return Object.prototype.toString.call(t)==="[object Object]"}function _r(t){var e,n;return $u(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!($u(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function Bf(t){return t?Object.keys(t).reduce((e,n)=>(e[n.toLowerCase()]=t[n],e),{}):{}}function Hu(t,e){let n=Object.assign({},t);return Object.keys(e).forEach(r=>{_r(e[r])?r in t?n[r]=Hu(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}function Uu(t){for(let e in t)t[e]===void 0&&delete t[e];return t}function ds(t,e,n){if(typeof e=="string"){let[i,s]=e.split(" ");n=Object.assign(s?{method:i,url:s}:{url:i},n)}else n=Object.assign({},e);n.headers=Bf(n.headers),Uu(n),Uu(n.headers);let r=Hu(t||{},n);return t&&t.mediaType.previews.length&&(r.mediaType.previews=t.mediaType.previews.filter(i=>!r.mediaType.previews.includes(i)).concat(r.mediaType.previews)),r.mediaType.previews=r.mediaType.previews.map(i=>i.replace(/-preview/,"")),r}function If(t,e){let n=/\?/.test(t)?"&":"?",r=Object.keys(e);return r.length===0?t:t+n+r.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}var jf=/\{[^}]+\}/g;function Gf(t){return t.replace(/^\W+|\W+$/g,"").split(/,/)}function _f(t){let e=t.match(jf);return e?e.map(Gf).reduce((n,r)=>n.concat(r),[]):[]}function qu(t,e){return Object.keys(t).filter(n=>!e.includes(n)).reduce((n,r)=>(n[r]=t[r],n),{})}function Wu(t){return t.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}function yn(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function zn(t,e,n){return e=t==="+"||t==="#"?Wu(e):yn(e),n?yn(n)+"="+e:e}function Dn(t){return t!=null}function hs(t){return t===";"||t==="&"||t==="?"}function Vf(t,e,n,r){var i=t[n],s=[];if(Dn(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),r&&r!=="*"&&(i=i.substring(0,parseInt(r,10))),s.push(zn(e,i,hs(e)?n:""));else if(r==="*")Array.isArray(i)?i.filter(Dn).forEach(function(a){s.push(zn(e,a,hs(e)?n:""))}):Object.keys(i).forEach(function(a){Dn(i[a])&&s.push(zn(e,i[a],a))});else{let a=[];Array.isArray(i)?i.filter(Dn).forEach(function(o){a.push(zn(e,o))}):Object.keys(i).forEach(function(o){Dn(i[o])&&(a.push(yn(o)),a.push(zn(e,i[o].toString())))}),hs(e)?s.push(yn(n)+"="+a.join(",")):a.length!==0&&s.push(a.join(","))}else e===";"?Dn(i)&&s.push(yn(n)):i===""&&(e==="&"||e==="?")?s.push(yn(n)+"="):i===""&&s.push("");return s}function $f(t){return{expand:Hf.bind(null,t)}}function Hf(t,e){var n=["+","#",".","/",";","?","&"];return t.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(r,i,s){if(i){let o="",u=[];if(n.indexOf(i.charAt(0))!==-1&&(o=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(c){var d=/([^:\*]*)(?::(\d+)|(\*))?/.exec(c);u.push(Vf(e,o,d[1],d[2]||d[3]))}),o&&o!=="+"){var a=",";return o==="?"?a="&":o!=="#"&&(a=o),(u.length!==0?o:"")+u.join(a)}else return u.join(",")}else return Wu(s)})}function Ku(t){let e=t.method.toUpperCase(),n=(t.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),r=Object.assign({},t.headers),i,s=qu(t,["method","baseUrl","url","headers","request","mediaType"]),a=_f(n);n=$f(n).expand(s),/^http/.test(n)||(n=t.baseUrl+n);let o=Object.keys(t).filter(d=>a.includes(d)).concat("baseUrl"),u=qu(s,o);if(!/application\/octet-stream/i.test(r.accept)&&(t.mediaType.format&&(r.accept=r.accept.split(/,/).map(d=>d.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${t.mediaType.format}`)).join(",")),t.mediaType.previews.length)){let d=r.accept.match(/[\w-]+(?=-preview)/g)||[];r.accept=d.concat(t.mediaType.previews).map(f=>{let m=t.mediaType.format?`.${t.mediaType.format}`:"+json";return`application/vnd.github.${f}-preview${m}`}).join(",")}return["GET","HEAD"].includes(e)?n=If(n,u):"data"in u?i=u.data:Object.keys(u).length&&(i=u),!r["content-type"]&&typeof i!="undefined"&&(r["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i=="undefined"&&(i=""),Object.assign({method:e,url:n,headers:r},typeof i!="undefined"?{body:i}:null,t.request?{request:t.request}:null)}function Uf(t,e,n){return Ku(ds(t,e,n))}function zu(t,e){let n=ds(t,e),r=Uf.bind(null,n);return Object.assign(r,{DEFAULTS:n,defaults:zu.bind(null,n),merge:ds.bind(null,n),parse:Ku})}var qf="7.0.6",Wf=`octokit-endpoint.js/${qf} ${vt()}`,Kf={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":Wf},mediaType:{format:"",previews:[]}},Yu=zu(null,Kf);var il=W(Ju());var Vr=class extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}};var ps=W(rl()),Yf=(0,ps.default)(t=>console.warn(t)),Zf=(0,ps.default)(t=>console.warn(t)),_t=class extends Error{constructor(e,n,r){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=n;let i;"headers"in r&&typeof r.headers!="undefined"&&(i=r.headers),"response"in r&&(this.response=r.response,i=r.response.headers);let s=Object.assign({},r.request);r.request.headers.authorization&&(s.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),s.url=s.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=s,Object.defineProperty(this,"code",{get(){return Yf(new Vr("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),n}}),Object.defineProperty(this,"headers",{get(){return Zf(new Vr("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}};var Jf="6.2.8";function Qf(t){return t.arrayBuffer()}function sl(t){let e=t.request&&t.request.log?t.request.log:console;(_r(t.body)||Array.isArray(t.body))&&(t.body=JSON.stringify(t.body));let n={},r,i;return(t.request&&t.request.fetch||globalThis.fetch||il.default)(t.url,Object.assign({method:t.method,body:t.body,headers:t.headers,redirect:t.redirect,...t.body&&{duplex:"half"}},t.request)).then(async a=>{i=a.url,r=a.status;for(let o of a.headers)n[o[0]]=o[1];if("deprecation"in n){let o=n.link&&n.link.match(/<([^>]+)>; rel="deprecation"/),u=o&&o.pop();e.warn(`[@octokit/request] "${t.method} ${t.url}" is deprecated. It is scheduled to be removed on ${n.sunset}${u?`. See ${u}`:""}`)}if(!(r===204||r===205)){if(t.method==="HEAD"){if(r<400)return;throw new _t(a.statusText,r,{response:{url:i,status:r,headers:n,data:void 0},request:t})}if(r===304)throw new _t("Not modified",r,{response:{url:i,status:r,headers:n,data:await ms(a)},request:t});if(r>=400){let o=await ms(a);throw new _t(Xf(o),r,{response:{url:i,status:r,headers:n,data:o},request:t})}return ms(a)}}).then(a=>({status:r,url:i,headers:n,data:a})).catch(a=>{throw a instanceof _t||a.name==="AbortError"?a:new _t(a.message,500,{request:t})})}async function ms(t){let e=t.headers.get("content-type");return/application\/json/.test(e)?t.json():!e||/^text\/|charset=utf-8$/.test(e)?t.text():Qf(t)}function Xf(t){return typeof t=="string"?t:"message"in t?Array.isArray(t.errors)?`${t.message}: ${t.errors.map(JSON.stringify).join(", ")}`:t.message:`Unknown error: ${JSON.stringify(t)}`}function gs(t,e){let n=t.defaults(e);return Object.assign(function(i,s){let a=n.merge(i,s);if(!a.request||!a.request.hook)return sl(n.parse(a));let o=(u,c)=>sl(n.parse(n.merge(u,c)));return Object.assign(o,{endpoint:n,defaults:gs.bind(null,n)}),a.request.hook(o,a)},{endpoint:n,defaults:gs.bind(null,n)})}var Yn=gs(Yu,{headers:{"user-agent":`octokit-request.js/${Jf} ${vt()}`}});var ep="5.0.6";function tp(t){return`Request failed due to following response errors:
`+t.errors.map(e=>` - ${e.message}`).join(`
`)}var np=class extends Error{constructor(t,e,n){super(tp(n));this.request=t,this.headers=e,this.response=n,this.name="GraphqlResponseError",this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},rp=["method","baseUrl","url","headers","request","query","mediaType"],ip=["query","method","url"],al=/\/api\/v3\/?$/;function sp(t,e,n){if(n){if(typeof e=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(let a in n)if(!!ip.includes(a))return Promise.reject(new Error(`[@octokit/graphql] "${a}" cannot be used as variable name`))}let r=typeof e=="string"?Object.assign({query:e},n):e,i=Object.keys(r).reduce((a,o)=>rp.includes(o)?(a[o]=r[o],a):(a.variables||(a.variables={}),a.variables[o]=r[o],a),{}),s=r.baseUrl||t.endpoint.DEFAULTS.baseUrl;return al.test(s)&&(i.url=s.replace(al,"/api/graphql")),t(i).then(a=>{if(a.data.errors){let o={};for(let u of Object.keys(a.headers))o[u]=a.headers[u];throw new np(i,o,a.data)}return a.data.data})}function bs(t,e){let n=t.defaults(e);return Object.assign((i,s)=>sp(n,i,s),{defaults:bs.bind(null,n),endpoint:n.endpoint})}var ky=bs(Yn,{headers:{"user-agent":`octokit-graphql.js/${ep} ${vt()}`},method:"POST",url:"/graphql"});function ol(t){return bs(t,{method:"POST",url:"/graphql"})}var ap=/^v1\./,op=/^ghs_/,up=/^ghu_/;async function lp(t){let e=t.split(/\./).length===3,n=ap.test(t)||op.test(t),r=up.test(t);return{type:"token",token:t,tokenType:e?"app":n?"installation":r?"user-to-server":"oauth"}}function cp(t){return t.split(/\./).length===3?`bearer ${t}`:`token ${t}`}async function dp(t,e,n,r){let i=e.endpoint.merge(n,r);return i.headers.authorization=cp(t),e(i)}var ul=function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(lp.bind(null,e),{hook:dp.bind(null,e)})};var cl="4.2.4",Zn=class{static defaults(t){return class extends this{constructor(...n){let r=n[0]||{};if(typeof t=="function"){super(t(r));return}super(Object.assign({},t,r,r.userAgent&&t.userAgent?{userAgent:`${r.userAgent} ${t.userAgent}`}:null))}}}static plugin(...t){var e;let n=this.plugins;return e=class extends this{},e.plugins=n.concat(t.filter(i=>!n.includes(i))),e}constructor(t={}){let e=new ll.Collection,n={baseUrl:Yn.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:e.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[t.userAgent,`octokit-core.js/${cl} ${vt()}`].filter(Boolean).join(" "),t.baseUrl&&(n.baseUrl=t.baseUrl),t.previews&&(n.mediaType.previews=t.previews),t.timeZone&&(n.headers["time-zone"]=t.timeZone),this.request=Yn.defaults(n),this.graphql=ol(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},t.log),this.hook=e,t.authStrategy){let{authStrategy:i,...s}=t,a=i(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},t.auth));e.wrap("request",a.hook),this.auth=a}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{let i=ul(t.auth);e.wrap("request",i.hook),this.auth=i}this.constructor.plugins.forEach(i=>{Object.assign(this,i(this,t))})}};Zn.VERSION=cl;Zn.plugins=[];var vs=W(require("obsidian"));var ys={};ei(ys,{commands:()=>dl,common:()=>hl,default:()=>hp,deletion:()=>fl,error:()=>pl,informations:()=>ml,modals:()=>gl,publish:()=>bl,regex:()=>yl,settings:()=>Dl,statusBar:()=>vl});var dl={checkValidity:{inBranch:{error403:"Error 403: {{- repo.owner}}/{{- repo.repo}} was moved permanently (from {{- branchInfo}}).",error404:"Error 404: The branch {{- branchInfo}} was not found in {{- repo.owner}}/{{- repo.repo}}."},inRepo:{error301:"Error 301: {{- repo.owner}}/{{- repo.repo}}  was moved permanently.",error403:"Error 403: this action is forbidden for {{- repo.owner}}/{{- repo.repo}}.",error404:"Error 404: {{- repo.owner}}/{{- repo.repo}}: is not found."},rateLimit:{command:"Check the rate limit of the GitHub API",limited:"You have reached the rate limit of the GitHub API. The limit will be reset at {{- resetTime}}.",notLimited:"You are not rate limited. You can make {{- remaining}} requests before the limit is reset at {{- resetTime}}."},repoExistsTestBranch:"Repository {{- repo.owner}}/{{- repo.repo}} exists. Now testing the {{- main}} branch.",success:"{{- repo.owner}}/{{- repo.repo}} seems to be valid!",title:"Test the connection to the configured repository"},copyLink:{onActivation:"Link copied to your clipboard",title:"Create a link to this note"},publisherDeleteClean:"Purge depublished and deleted files",runOtherRepo:{noFile:"No file is active or the file is not shared",title:"Run command for a repository"},shareActiveFile:"Upload single current active note",shareViewFiles:{default:"Github Publisher: Upload {{- viewFile}}",multiple:{on:"Upload to {{- smartKey }}",other:"Upload to\u2026"}},uploadAllEditedNote:"Refresh all published notes",uploadAllNewEditedNote:"Refresh published and upload new notes",uploadAllNotes:"Upload all shared notes",uploadNewNotes:"Upload unpublished notes"},hl={add:"Add {{- things}}",after:"After",attachments:"attachments",before:"Before",cancel:"Cancel",close:"Close",default:"default",delete:"Delete {{- things}}",edit:"Edit {{- things}}",error:"Error",files:"files",ghToken:"GitHub Token",here:"here",or:"or",path:{file:"File name",folder:"Folder path",full:"Filepath"},published:"Published",regex:"regex",repository:"Repository",save:"Save",shared:"Shared",text:"text",warning:"Warning"},fl={defaultFolder:"You need a default folder name in the settings to use this command.",failed:"Failed to delete {{- nb}} files.",noFile:"No files have been deleted.",rootFolder:"You need to configure a root folder in the settings to use this command.",success:"Successfully deleted {{- nb}} files."},pl={dataview:"Unable to render dataview query. Please update the dataview plugin to the last version.",errorConfig:"Error configuring {{- repo.owner}}/{{- repo.repo}}. Please check your settings.",errorPublish:"Error during upload to {{- repo.owner}}/{{- repo.repo}}",isEmpty:"{{- what}} is empty.",mergeconflic:"Pull-request is not mergeable, you need to do it manually.","reading-token-file":"Error: the path seems incorrect.",unablePublishMultiNotes:"Unable to upload multiple notes, something went wrong.",unablePublishNote:"Unable to upload note {{- file}}, skipping it",whatEmpty:{branch:"Branch",owner:"Owner"}},ml={foundNoteToSend:"Found {{- nbNotes}} new notes to send",migrating:{fileReplace:"Migration of filename replace to the new format...",normalFormat:"Migrating settings...",oldSettings:"Migration of old settings to new settings format...",subFolder:"Adding replacing subfolder to the folderpath replacement..."},noNewNote:"No new notes to upload.",scanningRepo:"Scanning the repository, may take a while...",sendMessage:"Upload {{- nbNotes}} notes to {{- repo.owner}}/{{- repo.repo}}",startingClean:"Starting cleaning {{- repo.owner}}/{{- repo.repo}}",successPublishOneNote:"Successfully uploaded {{- file}} to {{- repo.owner}}/{{- repo.repo}}",successfulPublish:"Successfully uploaded {{- nbNotes}} to {{- repo.owner}}/{{- repo.repo}}",waitingWorkflow:"Now, waiting for the workflow to be completed..."},gl={export:{copy:"Copy to clipboard",desc:"Export settings to clipboard or a file.",download:"Download",title:"Export settings"},import:{desc:"Import settings from text or a file. Note : this will overwrite your current settings (except for username, repo name and token).",error:{isEmpty:"the configuration is empty.",span:"Error importing configuration: "},importFromFile:"Import from file",paste:"Paste configuration here...",presets:{desc:'Load presets from the repository "plugin-presets"',title:"Presets"},title:"Import settings"},listChangedFiles:{added:"Added",deleted:"Deleted",edited:"Edited",error:"Errors",notDeleted:"Cannot be deleted",title:"List of files edited in the repository",unpublished:"Cannot be published"}},bl={branch:{alreadyExists:"Branch already exists ({{- branchName}} on {{- repo.owner}}/{{- repo.repo}} - Using it.",error:"Error with {{- repo.owner}}/{{- repo.repo}}: {{- error}}",prMessage:"Pull-Request [{{- branchName}}] from Obsidian",success:"Branch successfully created (status: {{- branchStatus}}) on {{- repo.owner}}/{{- repo.repo}}"}},yl={entry:"Value to replace",replace:"Replacement"},Dl={conversion:{dataview:{desc:"Convert dataview to markdown.",title:"Dataview"},desc:"Theses option won't change the content of the file in your Obsidian Vault, but will change the content of the file in Github.",hardBreak:{desc:"Add a markdown hard line break (double whitespace) after each line.",title:"Markdown hard line break"},links:{desc:'You can prevent links to be converted and keep the alt text (or filename) by using the frontmatter key "links" with the value "false".',folderNote:{desc:"Rename files to a specified name (default: index.md) if it has the same name as their parent folder/category (also works if the note is outside of the folder).",title:"Folder note"},internals:{desc:"Convert internal links to their counterpart in the repository, with relative path.",title:"Internals Links"},nonShared:{desc:"Same option as internals, but for notes that are not yet published. Disabled, only the filename will be conserved.",title:"Convert internal links pointing to unpublished notes"},slugify:{desc:"Standardize the slug of anchor links (pointing to heading title). Transform the slug into all lower case. Replace space with hyphen. Applicable only for anchor links in markdown link syntax.",title:"Sluglify anchor in markdown links"},title:"Links",wikilinks:{desc:"Convert Wikilinks to MDlinks, without changing the contents.",title:"[[Wikilinks]] to [MDlinks](links)"}},sectionTitle:"Main text",tags:{desc:"This will convert any frontmatter or dataview inline field into frontmatter tags. Separate fields with a comma.",exclude:{desc:"This will exclude value from being converted. Separate fields with a comma.",title:"Exclude value from conversion"},inlineTags:{desc:'Add your inline tags in your frontmatter tags field and converting nested tags with replacing "/" with "_"',title:"Inline tags"},title:"Convert frontmatter/dataview field into tags"},title:"Content's conversion"},embed:{defaultImageFolder:{desc:"To use a folder different from default",title:"Default attachment folder"},title:"Embed",transferImage:{desc:"Send attachments embedded in a file to GitHub.",title:"Transfer attachments"},transferMetaFile:{desc:"Set the names of the metadata field you want to use to send files. Separate fields with a comma. Dataview inline field are supported.",title:"Send files using a metadata field"},transferNotes:{desc:"Send embedded notes in a shared file to GitHub. Only shared files will be send!",title:"Transfer embedded notes"}},github:{apiType:{desc:"Choose between the Github API or the Github Enterprise API (only Github Enterprise users \u2014 Advanced user!).",dropdown:{enterprise:"Enterprise",free:"Free/Pro/Team (default)"},hostname:{desc:"The hostname of your Github Enterprise instance.",title:"Github Enterprise Hostname"},title:"API Type"},automaticallyMergePR:"Automatically merge pull requests",branch:{desc:'If you use a different branch than "main"',title:"Main branch"},ghToken:{button:{configDir:": The configuration folder of Obsidian",default:"By default, it will be in:",description:"You can edit the file path where the token will be stored.",pluginID:": The plugin ID",tooltip:"Modify the path of the file containing the token",variables:"You can use the following variables:"},desc:"A GitHub token with repository permission. You can generate it ",error:"The token mustn't be empty!"},repoName:{desc:"The name of the repository where you store your blog.",placeholder:"mkdocs-template",title:"Repository Name"},smartRepo:{button:"Manage more repository",modals:{default:'The name "default" is reserved for your primary configuration.',desc:'These "other repositories" allow you to use all the commands on the repositories added below.',duplicate:"Smartkey must be unique!",frontmatterInfo:'Using the "shortRepo" frontmatter key with the "smartKey" also allows you to use this repository in a file without having to write its path.',newRepo:"a new repository",otherConfig:"Other settings",shortcuts:{desc:"Add all commands for this repository in the command palette",title:"Shortcuts"},title:"Manage others repositories"}},testConnection:"Test connection",title:"GitHub Configuration",username:{desc:"The username or organization hosting the repo in GitHub",title:"GitHub Username"}},githubWorkflow:{autoCleanUp:{desc:"If the plugin must remove from GitHub the depublished files (stop share or deleted)",title:"Auto clean up"},excludedFiles:{desc:'If you want to exclude some folder or file from the autoclean, add them here. You can use regex by surrounding the string with "/". Separate files with a comma.',title:"Excluded files and folder"},githubAction:{desc:'If you want to activate a GitHub action when the plugin push the file, set the name of the file (in your .github/worfklows folder). Only workflow with the "workflow_dispatch" event will be triggered.',title:"Github action name"},prRequest:{desc:"The message send when the pull-request is merged. Will always followed by the pull-request number.",error:"You can't use an empty string here!",title:"Commit message"},useMetadataExtractor:{desc:"Send the files generated by the metadata-extractor plugin in this folder.",title:"Metadata-extractor files"}},help:{frontmatter:{attachment:{folder:"Change the default folder for the attachments",send:"Send all attachments to GitHub"},autoclean:"Disable or enable autocleaning",baselink:{desc:"Change the base link for the copy link command. Also disable the link replacer part. Can be used as an YAML object with the name ",remove:"Remove part of the link. It must be a list!"},convert:{enableOrDisable:"Enable or disable the conversion of links. Disabling this will remove the",syntax:"syntax, while keeping the file name or the alternative text."},dataview:"Convert dataview queries to markdown.",desc:"Moreover, there are some frontmatter YAML keys that can be usefull for your workflow. The YAML code below show the default settings, but feel free to change it to your needs in each notes!",embed:{remove:"Remove the embed from the note, leaving empty line.",send:"Send embedded note to GitHub"},hardBreak:"Convert all linebreaks to markdown \xABhard break\xBB.",internals:"Convert internals links to their counterpart in the website, with relative path. Disabled, the plugin will keep the internal link as is.",mdlinks:"Convert all [[wikilinks]] to [markdown](links)",nonShared:"Convert internal links pointing to a unshared file to their counterpart in the website, with relative path. Disabled, the plugin will keep the filename.",path:"You can override all path settings using this key. The path will be relative to the root of your repository.",repo:{branch:"Branch of the repo",desc:"Change the default repo for the note.",owner:"Owner of the repo"},share:{other:"You could also use another shareKey based on the key set in \xAB Manage other repo \xBB. It allows you to separate your different repository. If the main and secondaries key are used, the main repo will be used.",title:"This key is used to share a note with the plugin."},shortRepo:"Allow to use one of the repo set in other repo settings.",title:"Frontmatter keys cheatsheet",titleKey:"Change the title of the note."},multiRepoHelp:{desc:"If you want to send your notes to multiple repository, you can use the ",desc2:"key in your frontmatter. The value of this key must be a list of repository. Each repository must have the following keys ",exampleDesc:"The YAML code below show an example based on your settings.",title:"Send to multiple repository"},title:"Help",usefulLinks:{discussion:"Discussion",documentation:"Documentation",issue:"Issue",links:"https://obsidian-publisher.netlify.app/",title:"Useful links"}},plugin:{copyLink:{baselink:{desc:"The base link of your website. By default : https://username.github.io/repo/",title:"Base link"},command:{desc:"Add a command to copy the link of the note (need reloading the plugin to take effect)"},desc:"Send a link to your note in your clipboard",linkPathRemover:{desc:"",title:""},linkpathremover:{desc:"",title:""},title:"Copy link"},editorMenu:{desc:"Add a sharing commands in the right-click menu",title:"Editor Menu"},embedEditRepo:{desc:"Display the editions on the repository",title:"Allows to display the list of edited, added, deleted files... From the main repository (in a modal)."},excludedFolder:{desc:"Never publish file in these folder, regardless of the share key. Separate folder name by comma.",title:"Excluded Folder"},fileMenu:{desc:"Add an sharing commands in the file menu",title:"File Menu"},logNoticeHeader:{desc:"On mobile, it can be hard to debug the plugin. Enable this option to log every error in a Notice.",title:"Notice every error"},shareKey:{desc:"The frontmatter key to publish your file on the website.",otherRepo:"You can also define a share key to separate with others, without using the shortRepo key.",title:"Share Key"},title:"Plugin Settings"},regexReplacing:{empty:"Replacement can be empty to remove the whole string.",forbiddenValue:"The {{- what}} cannont contain the character: {{- forbiddenChar}}",modal:{desc:'Replace text in the file with the given value. Enclose the text with "//" to use regex.',title:{all:"Folder path & filename replacer",only:"Replace filename",text:"Text replacer"}},momentReplaceRegex:"Run replacement {{- moment}} the other plugin conversion (dataview, internals links...)",warningPath:'Warning! Using the character "/" will edit the path, be careful with this option.'},upload:{defaultFolder:{desc:"Set the default reception folder. Let it empty to use the root of the repository.",placeholder:"docs",title:"Default Folder"},folderBehavior:{desc:"Choose the file tree in the repository, with using a frontmatter key, a fixed folder or your Obsidian file tree.",fixedFolder:"Fixed Folder",obsidianPath:"Obsidian Path",title:"File tree in repository",yaml:"YAML frontmatter"},frontmatterKey:{desc:"Set the key where to get the folder's value.",placeholder:"category",title:"Frontmatter key"},regexFilePathTitle:{desc:'If the text is between "//", it will be used as a regex. Otherwise, it will be used as a string.',title:{FolderPathTitle:"Apply edit on the folder path or the filename (automatically)",titleOnly:"Apply edit on the filename (automatically)"}},rootFolder:{desc:"Append this path to the folder set by the frontmatter key",title:"Root folder"},title:"Upload configuration",useFrontmatterTitle:{desc:'Use a frontmatter value to generate the filename. By default, "title" is used. ',title:"Set the key where to get the value of the filename"}}},vl={counter:"{{- msg}}: {{- counter}}/{{- nb}}",markedForSharing:"{{- nb}} {{- type}} marked for sharing",sharing:"\u231BSharing {{- type}}",success:"\u2705 {{- action}} {{- type}}"},hp={commands:dl,common:hl,deletion:fl,error:pl,informations:ml,modals:gl,publish:bl,regex:yl,settings:Dl,statusBar:vl};var Ds={};ei(Ds,{commands:()=>wl,common:()=>Fl,default:()=>fp,deletion:()=>xl,error:()=>El,informations:()=>kl,modals:()=>Cl,publish:()=>Sl,regex:()=>Tl,settings:()=>Ol,statusBar:()=>Pl});var wl={checkValidity:{inBranch:{error403:"Erreur 403: {{- repo.owner}}/{{- repo.repo}} a \xE9t\xE9 d\xE9plac\xE9 de mani\xE8re permanente (depuis {{- branchInfo}}",error404:"Erreur 404 : La branche {{- repo.branch}} est introuvable depuis {{- repo.owner}}/{{- repo.repo}}"},inRepo:{error301:"Erreur 301 : {{- repo.owner}}/{{- repo.repo}} a \xE9t\xE9 d\xE9plac\xE9 de mani\xE8re permanente",error403:"Erreur 403 : Cette action est interdite pour {{- repo.owner}}/{{- repo.repo}}",error404:"Erreur 404 : {{- repo.owner}}/{{- repo.repo}} est introuvable"},rateLimit:{command:"V\xE9rifier la limite de requ\xEAtes de l'API GitHub",limited:"Vous avez atteint la limite de requ\xEAtes Github. La limite sera r\xE9initialis\xE9e \xE0 {{- resetTime}}. minutes.",notLimited:"Vous n'\xEAtes pas limit\xE9 par Github. Vous pouvez encore faire {{- remaining}} requ\xEAtes, et la limite sera r\xE9initialis\xE9e \xE0 {{- resetTime}}."},repoExistsTestBranch:"Le d\xE9p\xF4t {{- repo.owner}}/{{- repo.repo}} existe. Maintenant, nous allons tester la branche {{- repo.branch}}",success:"{{- repo.owner}}/{{- repo.repo}} semble valide !",title:"Tester la connexion au d\xE9p\xF4t configur\xE9"},copyLink:{onActivation:"Lien copi\xE9 dans le presse-papier !",title:"Cr\xE9er un lien vers cette note"},publisherDeleteClean:"Purger les fichiers d\xE9publi\xE9s et supprim\xE9s",runOtherRepo:{noFile:"Aucun fichier actif, ou le fichier n'est pas partag\xE9.",title:"Lancer une commande pour un d\xE9p\xF4t"},shareActiveFile:"Transf\xE9rer la note active",shareViewFiles:{default:"Github Publisher : Transf\xE9rer {{- viewFile}}",multiple:{on:"Transf\xE9rer vers {{- smartKey }}",other:"Transf\xE9rer vers\u2026"}},uploadAllEditedNote:"Rafra\xEEchir toutes les notes publi\xE9es",uploadAllNewEditedNote:"Rafra\xEEchir les notes publi\xE9es et transf\xE9rer les nouvelles notes",uploadAllNotes:"Transf\xE9rer toutes les notes",uploadNewNotes:"Transf\xE9rer les nouvelles notes"},Fl={add:"Ajouter {{- things}}",after:"Apr\xE8s",attachments:"pi\xE8ces-jointes",before:"Avant",cancel:"Annuler",close:"Fermer",default:"d\xE9faut",delete:"Supprimer {{- things}}",edit:"\xC9diter {{- things}}",error:"Erreur",files:"fichiers",ghToken:"Token GitHub",here:"ici",or:"ou",path:{file:"Nom du fichier",folder:"Chemin du dossier",full:"Chemin du fichier"},published:"publi\xE9s",regex:"regex",repository:"D\xE9p\xF4t",save:"Sauvegarder",shared:"partag\xE9s",text:"texte",warning:"Attention"},xl={defaultFolder:"Vous avez besoin d'un dossier par d\xE9faut dans les param\xE8tres pour utiliser cette commande.",failed:"\xC9chec de la suppression de {{- nb}} notes.",noFile:"Aucun fichier n'a \xE9t\xE9 supprim\xE9.",rootFolder:"Vous devez configurer un dossier racine dans les param\xE8tres pour utiliser cette commande.",success:"Suppression r\xE9ussie de {{- nb}} fichiers."},El={dataview:"Impossible de convertir la requ\xEAte Dataview. Veuillez mettre \xE0 jour le module Dataview \xE0 la derni\xE8re version;",errorConfig:"Erreur de configuration pour {{- repo.owner}}/{{- repo.repo}}:{{- repo.branch}}. Merci de v\xE9rifier vos param\xE8tres.",errorPublish:"Erreur lors de la publication sur {{- repo.owner}}/{{- repo.repo}}:{{- repo.branch}}",isEmpty:"{{- what}} est vide.",mergeconflic:"La Pull-Request n'est pas fusionnable, vous avez besoin de le faire manuellement.","reading-token-file":"Erreur : Le chemin est incorrect.",unablePublishMultiNotes:"Impossible de transf\xE9rer plusieurs notes, quelque chose s'est mal pass\xE9.",unablePublishNote:"Impossible de transf\xE9rer {{- file}}, le fichier a \xE9t\xE9 ignor\xE9.",whatEmpty:{branch:"Branch",owner:"Propri\xE9taire"}},kl={foundNoteToSend:"Trouv\xE9 {{- nbNotes}} nouvelles notes \xE0 transf\xE9rer.",migrating:{fileReplace:"Migration du remplacement du nom du fichier au nouveau format...",normalFormat:"Migration des param\xE8tres...",oldSettings:"Migration des anciens param\xE8tres au nouveau format...",subFolder:"Ajout du remplacement du sous-dossier au remplacement de chemin de fichier..."},noNewNote:"Aucune note \xE0 transf\xE9rer.",scanningRepo:"Scan du d\xE9p\xF4t, veuillez patienter...",sendMessage:"Transfert de {{- nbNotes}} notes vers {{- repo.owner}}/{{- repo.repo}}",startingClean:"D\xE9but du nettoyage de {{- repo.owner}}/{{- repo.repo}}",successPublishOneNote:"Transfert r\xE9ussi de {{- file}} vers {{- repo.owner}}/{{- repo.repo}}",successfulPublish:"Transfert r\xE9ussi de {{- nbNotes}} notes vers {{- repo.owner}}/{{- repo.repo}}",waitingWorkflow:"Maintenant, attente de la fin du workflow..."},Cl={export:{copy:"Copier vers le presse-papier",desc:"Exporter les param\xE8tres vers un fichier ou dans le presse-papier.",download:"T\xE9l\xE9charger",title:"Exporter les param\xE8tres"},import:{desc:"Importer des param\xE8tres depuis un fichier ou un texte. Cela \xE9crasera vos param\xE8tres actuels (sauf le nom du d\xE9p\xF4t, le nom d'utilisateur et votre token)",error:{isEmpty:"la configuration est vide",span:"Erreur lors de l'importation de la configuration :"},importFromFile:"Import depuis le fichier",paste:"Coller la configuration ici...",presets:{desc:'Charger des pr\xE9-r\xE9glages du d\xE9p\xF4t "plugin-presets"',title:"Pr\xE9-r\xE9glages"},title:"Importer des param\xE8tres"},listChangedFiles:{added:"Ajout\xE9",deleted:"Supprim\xE9",edited:"Modifi\xE9",error:"Erreurs",notDeleted:"Impossible \xE0 supprimer",title:"Liste des fichiers \xE9dit\xE9s sur le d\xE9p\xF4t",unpublished:"Impossible \xE0 publier"}},Sl={branch:{alreadyExists:"La branche {{- branchName}} sur {{- repo.owner}}/{{- repo.repo}} existe d\xE9j\xE0 - Utilisation de celle-ci.",error:"Erreur avec {{- repo.owner}}/{{- repo.repo}} : {{- error}}",prMessage:"Pull-Request [{{- branchName}}] depuis Obsidian",success:"La branche a \xE9t\xE9 cr\xE9e avec succ\xE8s (status: {{- branchStatus}} sur {{- repo.owner}}/{{- repo.repo}})"}},Tl={entry:"Valeur \xE0 remplacer",replace:"Remplacement"},Ol={conversion:{dataview:{desc:"Convertir les requ\xEAtes Dataview en markdown.",title:"Dataview"},desc:"Ces options ne changent pas le contenu du fichier dans votre coffre Obsidian, mais changeront le contenu du fichier publi\xE9 sur GitHub.",hardBreak:{desc:"Ajoutez un retour \xE0 la ligne Markdown (double espace) apr\xE8s chaque ligne.",title:"Saut de ligne strict"},links:{desc:'Vous pouvez emp\xEAcher la conversion des liens et conserver le texte alt (ou le nom du fichier) en utilisant la cl\xE9 frontmatter "links" avec la valeur "false".',folderNote:{desc:`Renommer les fichiers en un nom sp\xE9cifique (d\xE9faut : "index.md") s'il porte le m\xEAme nom que leur dossier/cat\xE9gorie parent (fonctionne aussi si la note est \xE0 l'ext\xE9rieur du dossier).`,title:"Folder Note"},internals:{desc:"Convertir les liens internes pointant vers les notes publi\xE9es vers leur homologue dans le d\xE9p\xF4t, sous forme de chemin relatif.",title:"Liens internes"},nonShared:{desc:"L'option pr\xE9c\xE9dente, mais appliqu\xE9es aux liens internes pointant vers des notes non-publi\xE9es. D\xE9sactiv\xE9, seul le nom du fichier sera conserv\xE9.",title:"Conversion des liens internes pointant vers des notes non-publi\xE9es"},slugify:{desc:"Normaliser le lien (slug) des liens d'ancrage (pointant vers le titre de la rubrique). Transforme le texte en minuscules. Remplace l'espace par un tiret. Applicable uniquement aux liens d'ancrage dans la syntaxe de lien markdown.",title:"Slugifier l'ancre des liens markdown"},title:"Liens",wikilinks:{desc:"Conversion des liens wikilinks en liens Markdown, sans en modifier le contenu.",title:"Convertir [[WikiLinks]] en [liens](Markdown)"}},sectionTitle:"Texte principal",tags:{desc:"Ceci convertira tous les champs du frontmatter/dataview en tags. S\xE9parez les champs par une virgule.",exclude:{desc:"Exclusion de champs de la conversion. S\xE9parer les valeurs par une virgule.",title:"Exclusion de tags"},inlineTags:{desc:'Ajoute vos inlines tags dans votre bloc frontmatter et converti les tags imbriqu\xE9s en rempla\xE7ant "/" par "_".',title:"Inlines tags"},title:"Convertir des champs dataview ou frontmatter en tags"},title:"Conversion du contenu"},embed:{defaultImageFolder:{desc:"Pour utiliser un dossier diff\xE9rent de celui par d\xE9faut pour les pi\xE8ces-jointes.",title:"Dossier de pi\xE8ces-jointes par d\xE9faut"},title:"Embed",transferImage:{desc:"Transf\xE9rer les pi\xE8ces-jointes",title:"Envoyer les pi\xE8ces-jointes int\xE9gr\xE9es dans un fichier dans le d\xE9p\xF4t."},transferMetaFile:{desc:"Permet d'envoyer des fichiers en utilisant une cl\xE9 frontmatter/dataview. S\xE9parer les champs par une virgule.",title:"Envoyer des fichiers en utilisant une cl\xE9 frontmatter/dataview"},transferNotes:{desc:"Envoyer les notes int\xE9gr\xE9es dans un fichier publi\xE9 dans le d\xE9p\xF4t. Seul les fichiers publi\xE9s seront envoy\xE9s !",title:"Transf\xE9rer les notes int\xE9gr\xE9es"}},github:{apiType:{desc:"Choisir entre l'API GitHub ou l'API pour GitHub Entreprise (uniquement pour les utilisateurs de GitHub Enterprise \u2014 Utilisateur avanc\xE9 !).",dropdown:{enterprise:"Entreprise",free:"Free/Pro/Team (d\xE9faut)"},hostname:{desc:"Le nom de l'instance Github de votre entreprise.",title:"Instance Github Entreprise"},title:"Type d'API"},automaticallyMergePR:"Fusionner automatiquement les pull-request",branch:{desc:'Dans le cas o\xF9 vous souhaitez utiliser une branche diff\xE9rente de "main".',title:"Branche principale"},ghToken:{button:{configDir:" : Le dossier de configuration d'Obsidian",default:"Par d\xE9faut, il sera dans :",description:"Vous pouvez \xE9diter le chemin du fichier dans lequel sera stock\xE9 le token.",pluginID:" : L'ID du plugin",tooltip:"Modifier le chemin du fichier contenant le token",variables:"Vous pouvez utiliser les variables suivantes :"},desc:"Un token GitHub avec autorisation de d\xE9p\xF4t. Vous pouvez le g\xE9n\xE9rer ",error:"Le token ne doit pas \xEAtre vide !"},repoName:{desc:"Le nom du d\xE9p\xF4t dans lequel vos fichiers seront transf\xE9r\xE9s.",placeholder:"mkdocs-template",title:"Nom du d\xE9p\xF4t"},smartRepo:{button:"G\xE9rer plus de d\xE9p\xF4t",modals:{default:'Le nom "default" est r\xE9serv\xE9 pour votre configuration principale.',desc:`Ces "autres d\xE9p\xF4ts" vous permettent d'utiliser toutes les commandes sur les d\xE9p\xF4ts ajout\xE9s ci-dessous.`,duplicate:"Les smartKey doivent \xEAtre uniques !",frontmatterInfo:`L'utilisation de la cl\xE9 frontmatter "shortRepo" avec la "smartKey" permet \xE9galement d'utiliser ce d\xE9p\xF4t dans un fichier sans avoir \xE0 \xE9crire son chemin.`,newRepo:"un nouveau d\xE9p\xF4t",otherConfig:"Autres param\xE8tres",shortcuts:{desc:"Ajoute toutes les commandes de ce d\xE9p\xF4t dans la palette de commandes",title:"Raccourci"},title:"G\xE9rer d'autres d\xE9p\xF4ts"}},testConnection:"Tester la connexion",title:"Configuration GitHub",username:{desc:"Votre username sur GitHub.",title:"Nom d'utilisateur GitHub"}},githubWorkflow:{autoCleanUp:{desc:"Si le plugin doit supprimer de votre d\xE9p\xF4t les fichiers d\xE9publi\xE9s (arr\xEAt du partage ou suppression).",title:"Auto-nettoyage"},excludedFiles:{desc:"Si vous voulez exclure certains dossier ou fichier du nettoyage automatique, d\xE9finissez leur chemin. Les regex sont accept\xE9es en les encadrant par des slashs. S\xE9parer les valeurs par une virgule.",title:"fichiers et dossier exclus"},githubAction:{desc:"Si vous souhaitez activer une action GitHub lorsque le plugin push les fichiers dans le d\xE9p\xF4t, il vous faut indiquer le nom du fichier issus du dossier .github/workflows/. Seules les actions activ\xE9es par un workflow_dispatch sont activ\xE9es.",title:"Nom de l'action GitHub"},prRequest:{desc:"Le message envoy\xE9 lorsque la pull-request est fusionn\xE9e. Sera toujours suivi par le num\xE9ro de la pull-request.",error:"Vous ne pouvez pas utiliser une valeur vide pour le message de commit.",title:"Message de commit"},useMetadataExtractor:{desc:"Envoyer les fichiers g\xE9n\xE9r\xE9s par metadata-extractor dans ce dossier.",title:"Fichier de metadata-extractor"}},help:{frontmatter:{attachment:{folder:"Change le dossier par d\xE9faut pour les pi\xE8ces-jointes.",send:"Envoie toutes les pi\xE8ces-jointes dans le d\xE9p\xF4t GitHub."},autoclean:"D\xE9sactive ou active le nettoyage automatique du d\xE9p\xF4t GitHub.",baselink:{desc:"Change le lien de base pour la commande de copie de lien. D\xE9sactive aussi la suppression de partie de lien. Peut \xEAtre utilis\xE9e en tant qu'objet sous le nom de ",remove:"Supprime les parties de lien. \xC0 mettre sous forme de liste !"},convert:{enableOrDisable:"Active ou d\xE9sactive la conversion des liens. En d\xE9sactivant cette option, vous supprimez les",syntax:"syntaxes, tout en gardant le nom du fichier ou son text alternatif."},dataview:"Convertit les requ\xEAtes dataview en markdown.",desc:"Il existe quelques cl\xE9s YAML qui peuvent vous \xEAtes utile. Le code ci-dessous montre les param\xE8tres par d\xE9faut, mais n'h\xE9sitez pas \xE0 le modifier selon vos besoins pour chaque note !",embed:{remove:"Supprime les notes int\xE9gr\xE9es du fichier partag\xE9s en ne laissant qu'une ligne vide.",send:"Envoie les notes int\xE9gr\xE9es de la note publi\xE9es dans le d\xE9p\xF4t. Seules les notes partag\xE9es seront envoy\xE9es !"},hardBreak:'Convertit tous les sauts de lignes en "hard break" markdown.',internals:"Convertit les liens internes vers leur homologue du d\xE9p\xF4t, sous forme de liens relatifs. D\xE9sactiv\xE9s, les liens seront conserv\xE9s tels quels.",mdlinks:"Convertir tous les liens [[wikilinks]] en [liens](Markdown)",nonShared:"Convertit les liens internes pointant vers une notes non publi\xE9es vers son futur homologue. D\xE9sactiv\xE9, le plugin conservera le nom du fichier ou son texte alternatif.",path:"Vous pouvez \xE9craser tous les param\xE8tres de chemins en utilisant cette cl\xE9. Le chemin sera cr\xE9\xE9e \xE0 partir de la racine du d\xE9p\xF4t.",repo:{branch:"Nom de la branche",desc:"Changer le d\xE9p\xF4t GitHub pour cette note",owner:"Pseudo GitHub du propri\xE9taire du d\xE9p\xF4t"},share:{other:"Vous pouvez \xE9galement utiliser une autre shareKey bas\xE9e sur la cl\xE9 d\xE9finie dans \xAB G\xE9rer plus de d\xE9p\xF4t \xBB. Cela vous permet de s\xE9parer vos diff\xE9rents d\xE9p\xF4ts. Si vous utilisez les cl\xE9s principales et secondaires, le d\xE9p\xF4t principal sera utilis\xE9.",title:"La cl\xE9 utilis\xE9e pour partager une note"},shortRepo:"Autorise l'utilisation de l'un des d\xE9p\xF4ts d\xE9finis dans les param\xE8tres",title:"Aide-m\xE9moire frontmatter",titleKey:"Change le titre de la note"},multiRepoHelp:{desc:"Si vous souhaitez envoyer vos notes dans plusieurs d\xE9p\xF4t en m\xEAme temps, vous pouvez utiliser la cl\xE9 ",desc2:"dans votre frontmatter. La valeur de cette cl\xE9 doit \xEAtre une liste. Chaque d\xE9p\xF4t doit avoir les cl\xE9s suivantes :",exampleDesc:"Le code YAML ci-dessous montre un exemple bas\xE9 sur vos param\xE8tres.",title:"Envoie dans plusieurs d\xE9p\xF4t"},title:"Aide",usefulLinks:{discussion:"Discussion",documentation:"Documentation (en anglais)",issue:"Issue",links:"https://obsidian-publisher.netlify.app",title:"Liens utiles"}},plugin:{copyLink:{baselink:{desc:'Permet de cr\xE9er un lien dans le presse-papier avec cette base. Par d\xE9faut : "https://username.github.io/repo/"',title:"Lien du d\xE9p\xF4t/blog"},command:{desc:"Ajouter une commande permettant de copier le lien de la note publi\xE9e dans le presse-papier (n\xE9cessite de recharger le plugin pour prendre effet)"},desc:"Envoie d'un lien vers la note publi\xE9es dans votre presse-papier.",linkPathRemover:{desc:"Supprimer cette partie des liens cr\xE9\xE9s. S\xE9parer par une virgule si plusieurs valeurs doivent \xEAtre supprim\xE9es.",title:"Suppression d'une partie du lien"},linkpathremover:{desc:"",title:""},title:"Copie de lien"},editorMenu:{desc:"Ajouter une commande de partage dans le menu du clic droit.",title:'Menu "Edition"'},embedEditRepo:{desc:"Permet d'afficher la liste des fichiers \xE9diter, ajout\xE9, supprim\xE9... Du d\xE9p\xF4t principal (dans un modal).",title:"Afficher les \xE9ditions sur le d\xE9p\xF4t"},excludedFolder:{desc:"Les fichiers dans ses dossiers ne seront jamais publi\xE9s, quelle que soit l'\xE9tat de la cl\xE9 de partage. S\xE9parez les noms de dossier par une virgule.",title:"Dossiers exclus"},fileMenu:{desc:'Ajouter une commande de partage dans le menu "Fichier"',title:'Menu "Fichier"'},logNoticeHeader:{desc:"Sur mobile, il peut \xEAtre difficile de debug le module. Activer cette option pour notifier toutes les erreurs via une notification Obsidian.",title:"Notifier toutes les erreurs"},shareKey:{desc:"Cl\xE9 de partage",otherRepo:"Vous pouvez \xE9galement d\xE9finir une cl\xE9 de partage pour s\xE9parer avec des autres, sans utiliser la cl\xE9 shortRepo.",title:"La cl\xE9 frontmatter pour publier la note sur le d\xE9p\xF4t."},title:"Param\xE8tres du plugin"},regexReplacing:{empty:"Le remplacement peut \xEAtre vide pour supprimer l'ensemble de la cha\xEEne de caract\xE8re.",forbiddenValue:"Le {{- what}} ne peut contenir le caract\xE8re : {{- forbiddenChar}}.",modal:{desc:'Replace des textes dans le fichier par la valeur donn\xE9e. Vous pouvez encadrer le texte \xE0 remplacer avec "//" pour utiliser un regex.',title:{all:"Remplacement du nom ou du chemin du fichier",only:"Remplacement du titre uniquement",text:"Remplacement de texte"}},momentReplaceRegex:"Ex\xE9cuter le remplacement {{- moment}} les autres conversions (dataview, liens internes...)",warningPath:'Attention ! Utiliser le caract\xE8re "/" modifiera le chemin du fichier. Veuillez faire attention avec cette option.'},upload:{defaultFolder:{desc:"D\xE9finir le dossier de r\xE9ception par d\xE9faut. Laisser vide pour utiliser la racine du d\xE9p\xF4t.",placeholder:"docs",title:"Dossier par d\xE9faut"},folderBehavior:{desc:"Choisir la hi\xE9rarchie des dossiers dans le d\xE9p\xF4t, en se basant sur une cl\xE9 frontmatter, un dossier fixe ou la hi\xE9rarchie des dossiers dans Obsidian.",fixedFolder:"Dossier fix\xE9",obsidianPath:"Chemin Obsidian",title:"Hi\xE9rarchie des dossiers",yaml:"Valeur d'une cl\xE9 frontmatter"},frontmatterKey:{desc:"D\xE9finir le nom de la cl\xE9 o\xF9 obtenir le dossier",placeholder:"category",title:"Cl\xE9 frontmatter"},regexFilePathTitle:{desc:'Si le texte est entre "//", il sera interpr\xE9t\xE9 comme une expression r\xE9guli\xE8re. Sinon, il sera interpr\xE9t\xE9 comme du texte brut.',title:{FolderPathTitle:"\xC9diter le titre et le chemin du dossier (automatiquement)",titleOnly:"\xC9diter le titre (automatiquement)"}},rootFolder:{desc:"Ajouter ce chemin au dossier d\xE9finit par la cl\xE9 frontmatter.",title:"Dossier racine"},title:"Configuration du transfert",useFrontmatterTitle:{desc:'Utiliser un champ du frontmatter pour g\xE9n\xE9rer le nom du fichier. Par d\xE9faut, "title" est utilis\xE9.',title:"Utiliser une cl\xE9 frontmatter pour d\xE9finir le titre"}}},Pl={counter:"{{- msg}} : {{- counter}}/{{- nb}}",markedForSharing:"{{- nb}} {{- type}} \xE0 partager",sharing:"\u231BPartage de {{- type}}",success:"\u2705{{- action}} {{- type}}"},fp={commands:wl,common:Fl,deletion:xl,error:El,informations:kl,modals:Cl,publish:Sl,regex:Tl,settings:Ol,statusBar:Pl};var ws={en:{translation:ys},fr:{translation:Ds}},Fs=Object.keys(ws).find(t=>t==vs.moment.locale())?vs.moment.locale():"en";var zr=W(require("obsidian"));var re=W(require("obsidian"));var Rl=W(require("obsidian"));var Jn=class extends Rl.Modal{constructor(e,n){super(e);this.listChanged=n}displayListOfFile(e,n){if(!e.length)return;let r=n.createEl("ul");e.forEach(i=>{let s="\u2753",a=i.split(".").pop();["md"].includes(a)?s="\u{1F5D2}\uFE0F":[".png",".jpg",".jpeg",".gif",".svg",".webp"].includes(`.${a}`)?s="\u{1F5BC}\uFE0F":[".mp3",".wav",".ogg",".flac",".aac"].includes(`.${a}`)?s="\u{1F3B5}":[".mp4",".avi",".mov",".mkv",".webm"].includes(`.${a}`)?s="\u{1F3A5}":[".pdf"].includes(`.${a}`)&&(s="\u{1F4C4}");let o=r.createEl("li");o.createEl("span",{text:s,cls:"github-publisher emoji"}),o.createEl("code",{text:i,cls:"code-title github-publisher list-changed"})})}onOpen(){let{contentEl:e}=this;e.empty(),e.createEl("h2",{text:l.t("modals.listChangedFiles.title"),cls:"github-publisher title"}),Object.keys(this.listChanged).contains("edited")?(this.listChanged=this.listChanged,e.createEl("h3",{text:`\u{1F4E4} ${l.t("modals.listChangedFiles.added")}`}),this.displayListOfFile(this.listChanged.added,e),e.createEl("h3",{text:`\u2712\uFE0F ${l.t("modals.listChangedFiles.edited")}`}),this.displayListOfFile(this.listChanged.edited,e),e.createEl("h3",{text:`\u{1F5D1}\uFE0F ${l.t("modals.listChangedFiles.deleted")}`}),this.displayListOfFile(this.listChanged.deleted,e),e.createEl("h2",{text:`\u274C ${l.t("modals.listChangedFiles.error")}`,cls:"github-publisher title error"}),e.createEl("h3",{text:`\u{1F4E4} ${l.t("modals.listChangedFiles.unpublished")}`}),this.displayListOfFile(this.listChanged.unpublished,e),e.createEl("h3",{text:`\u267B\uFE0F ${l.t("modals.listChangedFiles.notDeleted")}`}),this.displayListOfFile(this.listChanged.notDeleted,e)):(this.listChanged=this.listChanged,e.createEl("h3",{text:`\u{1F5D1}\uFE0F ${l.t("modals.listChangedFiles.deleted")}`}),this.displayListOfFile(this.listChanged.deleted,e),e.createEl("h3",{text:`\u274C ${l.t("modals.listChangedFiles.error")}`,cls:"github-publisher error"}),e.createEl("h3",{text:`\u267B\uFE0F ${l.t("modals.listChangedFiles.notDeleted")}`}),this.displayListOfFile(this.listChanged.undeleted,e))}onClose(){let{contentEl:e}=this;e.empty()}};function Vt(t,e,n,r,i,s,a,o=!0,u,c){return g(this,null,function*(){let d=new Rn(r,a.length);try{let f=0,m=[],y=[];if(a.length>0){let F=a.map(E=>E.name);if(o){if(!At(t,e,s,a.length))return!1;yield t.newBranch(i,s)}for(let E=0;E<a.length;E++)try{let L=a[E];d.increment();let v=yield t.publish(L,!1,i,s,c);v&&y.push(...v.uploaded)}catch(L){f++,m.push(a[E].name),new re.Notice(l.t("error.unablePublishNote",{file:a[E].name}))}d.finish(8e3);let k=`${F.length-f} notes`,C=yield Pn(!0,e,n,i,t,s,c);if(e.upload.metadataExtractorPath.length>0&&re.Platform.isDesktop){let E=yield gi(app,e);E&&(yield t.uploadMetadataExtractorFiles(E,i,s))}if(yield t.updateRepository(i,s)){if(yield yi(t,k,e,s),e.plugin.displayModalRepoEditing){let E=mi(y,C,m);new Jn(u.app,E).open()}}else new re.Notice(l.t("error.errorPublish",{repo:s}))}}catch(f){console.error(f),new re.Notice(l.t("error.unablePublishMultiNotes")),d.error()}})}function Hr(t,e,n,r,i,s){return g(this,null,function*(){try{if(new re.Notice(l.t("informations.startingClean",{repo:i})),!At(t,e,i))return!1;yield t.newBranch(r,i);let o=yield Pn(!1,e,n,r,t,i,s);yield t.updateRepository(r,i),e.plugin.displayModalRepoEditing&&new Jn(app,o).open()}catch(a){console.error(a)}})}function lt(t,e,n,r,i=null,s,a){return g(this,null,function*(){try{let o=s.getFileCache(r).frontmatter,u=Z(n,i,o);if(!At(e,n,u))return!1;yield e.newBranch(t,u);let d=yield e.publish(r,!0,t,u,i,[],!0);if(d){if(n.upload.metadataExtractorPath.length>0&&re.Platform.isDesktop){let m=yield gi(app,n);m&&(yield e.uploadMetadataExtractorFiles(m,t,u))}if(yield e.updateRepository(t,u)){if(yield yi(e,r,n,u),yield tn(r,u,s,a,n,i),n.plugin.displayModalRepoEditing){let m=mi(d.uploaded,d.deleted,d.error);new Jn(app,m).open()}}else new re.Notice(l.t("error.errorPublish",{repo:u}))}}catch(o){o instanceof DOMException||(B(o,n),new re.Notice(l.t("error.errorPublish",{repo:Z(n,i,s.getFileCache(r).frontmatter)})))}})}function Al(t,e,n,r,i,s,a){return g(this,null,function*(){let o=i.settings;new re.Notice(l.t("informations.scanningRepo"));let u=t.getAllFileWithPath(a),c=yield t.getAllFileFromRepo(s.branch,e,o,s),d=t.getNewFiles(u,c,r);if(d.length>0){new re.Notice(l.t("informations.foundNoteToSend",{nbNotes:d.length}));let f=i.addStatusBarItem();if(!At(t,o,s,d.length))return!1;yield t.newBranch(n,s),yield Vt(t,i.settings,e,f,n,s,d,!1,i,a)}else new re.Notice(l.t("informations.noNewNote"))})}function Nl(t,e,n,r,i,s,a){return g(this,null,function*(){let o=i.settings;new re.Notice(l.t("informations.scanningRepo"));let u=t.getAllFileWithPath(a),c=yield t.getAllFileFromRepo(s.branch,e,o,s),d=t.getNewFiles(u,c,r),f=yield t.getEditedFiles(u,c,r,d);if(f.length>0){new re.Notice(l.t("informations.foundNoteToSend",{nbNotes:f.length}));let m=i.addStatusBarItem();if(!At(t,o,s,f.length))return!1;yield t.newBranch(n,s),yield Vt(t,o,e,m,n,s,f,!1,i,a)}else new re.Notice(l.t("informations.noNewNote"))})}function Ll(t,e,n,r,i,s,a){return g(this,null,function*(){let o=i.settings;new re.Notice(l.t("informations.scanningRepo"));let u=t.getAllFileWithPath(a),c=yield t.getAllFileFromRepo(s.branch,e,o,s),d=[],f=yield t.getEditedFiles(u,c,r,d);if(f.length>0){new re.Notice(l.t("informations.foundNoteToSend",{nbNotes:f.length}));let m=i.addStatusBarItem();if(!At(t,o,s,f.length))return!1;yield t.newBranch(n,s),yield Vt(t,o,e,m,n,s,f,!1,i,a)}else new re.Notice(l.t("informations.noNewNote"))})}var Qn=W(require("obsidian"));function Ml(t,e,n){return g(this,null,function*(){let r=n.app.workspace.getActiveFile(),i=r?n.app.metadataCache.getFileCache(r).frontmatter:null;r&&i&&pe(i,n.settings,r,e)?(yield tn(r,Z(n.settings,e,i),n.app.metadataCache,n.app.vault,n.settings,e),new Qn.Notice(l.t("commands.copyLink.onActivation"))):new Qn.Notice(l.t("commands.runOtherRepo.noFile"))})}function Bl(t,e,n){return g(this,null,function*(){var s;let r=t.app.workspace.getActiveFile(),i=r?(s=t.app.metadataCache.getFileCache(r))==null?void 0:s.frontmatter:null;r&&i&&pe(i,t.settings,r,e)?yield lt(n,yield t.reloadOctokit(),t.settings,r,e,t.app.metadataCache,t.app.vault):new Qn.Notice(l.t("commands.runOtherRepo.noFile"))})}function Il(t,e,n){return g(this,null,function*(){let r=Z(t.settings,e),i=yield t.reloadOctokit();yield Hr(i,t.settings,i.octokit,n,r,e)})}function Ur(t,e,n){return g(this,null,function*(){let r=t.addStatusBarItem(),i=yield t.reloadOctokit(),s=i.getSharedFiles(e);yield Vt(i,t.settings,i.octokit,r,n,Z(t.settings,e),s,!0,t,e)})}function qr(t,e,n){return g(this,null,function*(){let r=yield t.reloadOctokit();yield Al(r,r.octokit,e,t.app.vault,t,Z(t.settings,n),n)})}function jl(t,e,n){return g(this,null,function*(){let r=t.app.workspace.getActiveFile();r?yield pt(yield t.reloadOctokit(),t.settings,n,r,t.app.metadataCache):new Qn.Notice("No file is active")})}function Wr(t,e,n=null){return g(this,null,function*(){let r=yield t.reloadOctokit();yield Nl(r,r.octokit,e,t.app.vault,t,Z(t.settings,n),n)})}function Kr(t,e,n){return g(this,null,function*(){let r=yield n.reloadOctokit();yield Ll(r,r.octokit,t,n.app.vault,n,Z(n.settings,e),e)})}var xs=class extends zr.FuzzySuggestModal{constructor(e,n,r){super(e);this.plugin=n,this.branchName=r}getItems(){return this.plugin.settings.github.otherRepo}getItemText(e){return e.smartKey}onChooseItem(e,n){new Gl(app,this.plugin,this.branchName,e).open()}},Yr=class extends zr.FuzzySuggestModal{constructor(e,n,r=null,i,s){super(e);this.plugin=n,this.branchName=i,this.keyToFind=r,this.onSubmit=s}getItems(){return this.keyToFind?this.plugin.settings.github.otherRepo.filter(e=>e.shareKey==this.keyToFind):this.plugin.settings.github.otherRepo}getItemText(e){return e.smartKey}onChooseItem(e,n){this.onSubmit(e)}},Gl=class extends zr.FuzzySuggestModal{constructor(e,n,r,i){super(e);this.plugin=n,this.branchName=r,this.repo=i}getItems(){let e=[{commands:"shareAllMarkedNotes",name:l.t("commands.uploadAllNotes")},{commands:"shareOneNote",name:l.t("commands.shareActiveFile")},{commands:"shareNewNote",name:l.t("commands.uploadNewNotes")},{commands:"shareAllEditedNotes",name:l.t("commands.uploadAllNewEditedNote")},{commands:"shareOnlyEdited",name:l.t("commands.uploadAllEditedNote")},{commands:"checkRepositoryValidity",name:l.t("commands.checkValidity.title")}];return this.plugin.settings.plugin.copyLink&&e.push({commands:"createLink",name:l.t("commands.copyLink.title")}),this.plugin.settings.upload.autoclean.enable&&this.plugin.settings.upload.behavior!==U.fixed&&e.push({commands:"deleteUnsharedDeletedNotes",name:l.t("commands.publisherDeleteClean")}),e}getItemText(e){return e.name}onChooseItem(e,n){switch(e.commands){case"shareAllMarkedNotes":Ur(this.plugin,this.repo,this.branchName);break;case"deleteUnsharedDeletedNotes":Il(this.plugin,this.repo,this.branchName);break;case"shareNewNote":qr(this.plugin,this.branchName,this.repo);break;case"shareAllEditedNotes":Wr(this.plugin,this.branchName,this.repo);break;case"shareOnlyEdited":Kr(this.branchName,this.repo,this.plugin);break;case"shareOneNote":Bl(this.plugin,this.repo,this.branchName);break;case"createLink":Ml(this.branchName,this.repo,this.plugin);break;case"checkRepositoryValidity":jl(this.plugin,this.branchName,this.repo);break}B(`run command ${e.commands}`,this.plugin.settings)}};var _l=W(require("obsidian"));function Vl(t,e,n){return g(this,null,function*(){let r=t?`publisher-copy-link-K${t.smartKey}`:"publisher-copy-link",i=l.t("common.repository"),s=l.t("commands.copyLink.title");return s=t?`${s} (${i} : ${t.smartKey})`:s,{id:r,name:s,hotkeys:[],checkCallback:a=>{let o=n.app.workspace.getActiveFile(),u=o?n.app.metadataCache.getFileCache(o).frontmatter:null;return o&&u&&pe(u,n.settings,o,t)?(a||(tn(o,Z(n.settings,t,u),n.app.metadataCache,n.app.vault,n.settings,t),new _l.Notice(l.t("commands.copyLink.onActivation"))),!0):!1}}})}function $l(t,e,n){return g(this,null,function*(){let r=e?`publisher-delete-clean-K${e.smartKey}`:"publisher-delete-clean",i=l.t("commands.publisherDeleteClean"),s=l.t("common.repository");return i=e?`${i} (${s} : ${e.smartKey})`:i,{id:r,name:i,hotkeys:[],checkCallback:a=>g(this,null,function*(){if(t.settings.upload.autoclean.enable&&t.settings.upload.behavior!==U.fixed){if(!a){let o=yield t.reloadOctokit();Hr(o,t.settings,o.octokit,n,Z(t.settings,e),e)}return!0}return!1})}})}function Hl(t,e,n){return g(this,null,function*(){let r=t?`publisher-one-K${t.smartKey}`:"publisher-one",i=l.t("commands.shareActiveFile"),s=l.t("common.repository");return i=t?`${i} (${s} : ${t.smartKey})`:i,{id:r,name:i,hotkeys:[],checkCallback:a=>g(this,null,function*(){let o=e.app.workspace.getActiveFile(),u=o?e.app.metadataCache.getFileCache(o).frontmatter:null;return o&&u&&pe(u,e.settings,o,t)?(a||lt(n,yield e.reloadOctokit(),e.settings,o,t,e.app.metadataCache,e.app.vault),!0):!1})}})}function Ul(t,e,n){return g(this,null,function*(){let r=e?`publisher-publish-all-K${e.smartKey}`:"publisher-publish-all",i=l.t("commands.uploadAllNotes"),s=l.t("common.repository");return i=e?`${i} (${s} : ${e.smartKey})`:i,{id:r,name:i,callback:()=>g(this,null,function*(){yield Ur(t,e,n)})}})}function ql(t,e,n){return g(this,null,function*(){let r=e?`publisher-upload-new-K${e.smartKey}`:"publisher-upload-new",i=l.t("commands.uploadNewNotes"),s=l.t("common.repository");return i=e?`${i} (${s} : ${e.smartKey})`:i,{id:r,name:i,callback:()=>g(this,null,function*(){yield qr(t,n,e)})}})}function Wl(t,e,n){return g(this,null,function*(){let r=e?`publisher-upload-all-edited-new-K${e.smartKey}`:"publisher-upload-all-edited-new",i=l.t("commands.uploadAllNewEditedNote"),s=l.t("common.repository");return i=e?`${i} (${s} : ${e.smartKey})`:i,{id:r,name:i,callback:()=>g(this,null,function*(){yield Wr(t,n,e)})}})}function Kl(t,e,n){return g(this,null,function*(){let r=t?`publisher-upload-edited-K${t.smartKey}`:"publisher-upload-edited",i=l.t("commands.uploadAllEditedNote"),s=l.t("common.repository");return i=t?`${i} (${s} : ${t.smartKey})`:i,{id:r,name:i,callback:()=>g(this,null,function*(){yield Kr(e,t,n)})}})}function zl(t,e){return g(this,null,function*(){let n=e?`check-plugin-repo-validy-K${e.smartKey}`:"check-plugin-repo-validy",r=l.t("commands.checkValidity.title"),i=l.t("common.repository");return r=e?`${r} (${i} : ${e.smartKey})`:r,{id:n,name:r,checkCallback:s=>g(this,null,function*(){return t.app.workspace.getActiveFile()?(s||pt(yield t.reloadOctokit(),t.settings,e,t.app.workspace.getActiveFile(),t.app.metadataCache),!0):!1})}})}var Yl=W(require("obsidian"));function Zr(t,e,n,r){return g(this,null,function*(){let i=yield t.reloadOctokit(),s=t.addStatusBarItem();yield Vt(i,t.settings,i.octokit,s,n,Z(t.settings,r),i.getSharedFileOfFolder(e,r),!0,t,r)})}function pp(t,e,n,r){let i=e.setSubmenu();i.addItem(a=>{a.setTitle(l.t("commands.shareViewFiles.multiple.on",{smartKey:l.t("common.default").toUpperCase()})).setIcon("folder-up").onClick(()=>g(this,null,function*(){let o=mr(t.settings,null);yield Zr(t,n,r,o)}))});let s=t.settings.github.otherRepo.filter(a=>a.createShortcuts);return s.length>0&&s.forEach(a=>{i.addItem(o=>{o.setTitle(l.t("commands.shareViewFiles.multiple.on",{smartKey:a.smartKey.toUpperCase()})).setIcon("folder-up").onClick(()=>g(this,null,function*(){yield Zr(t,n,r,a)}))})}),i.addItem(a=>{a.setTitle(l.t("commands.shareViewFiles.multiple.other")).setIcon("folder-symlink").onClick(()=>g(this,null,function*(){new Yr(t.app,t,null,r,o=>g(this,null,function*(){yield Zr(t,n,r,o)})).open()}))}),i}function Es(t,e,n,r){let i=e instanceof Yl.TFile?t.app.metadataCache.getFileCache(e).frontmatter:null,s=mr(t.settings,i);pe(i,t.settings,e,s)&&t.settings.plugin.fileMenu&&r.addItem(a=>{var o,u;if(((u=(o=t.settings.github)==null?void 0:o.otherRepo)==null?void 0:u.length)>0)a.setTitle("Github Publisher").setSection("action").setIcon("upload-cloud"),mp(t,a,e,n,s);else{let c=t.getTitleFieldForCommand(e,t.app.metadataCache.getFileCache(e).frontmatter).replace(".md","");a.setSection("action").setTitle(l.t("commands.shareViewFiles.default",{viewFile:c})).setIcon("file-up").onClick(()=>g(this,null,function*(){yield lt(n,yield t.reloadOctokit(),t.settings,e,s,t.app.metadataCache,t.app.vault)}))}})}function mp(t,e,n,r,i){let s=e.setSubmenu();i.shareKey===t.settings.plugin.shareKey&&s.addItem(o=>{o.setTitle(l.t("commands.shareViewFiles.multiple.on",{smartKey:l.t("common.default").toUpperCase()})).setIcon("file-up").onClick(()=>g(this,null,function*(){yield lt(r,yield t.reloadOctokit(),t.settings,n,i,t.app.metadataCache,t.app.vault)}))});let a=t.settings.github.otherRepo.filter(o=>o.createShortcuts);return a.length>0&&a.forEach(o=>{o.shareKey===i.shareKey&&s.addItem(u=>{u.setTitle(l.t("commands.shareViewFiles.multiple.on",{smartKey:o.smartKey.toUpperCase()})).setIcon("file-up").onClick(()=>g(this,null,function*(){yield lt(r,yield t.reloadOctokit(),t.settings,n,o,t.app.metadataCache,t.app.vault)}))})}),s.addItem(o=>{o.setTitle(l.t("commands.shareViewFiles.multiple.other")).setIcon("file-input").onClick(()=>g(this,null,function*(){new Yr(t.app,t,i.shareKey,r,u=>g(this,null,function*(){yield lt(r,yield t.reloadOctokit(),t.settings,n,u,t.app.metadataCache,t.app.vault)})).open()}))}),s}function Zl(t,e,n,r){return g(this,null,function*(){t.addItem(i=>{var a,o;((o=(a=r.settings.github)==null?void 0:a.otherRepo)==null?void 0:o.length)>0?(i.setTitle("Github Publisher"),i.setIcon("upload-cloud"),i.setSection("action"),pp(r,i,e,n)):(i.setSection("action"),i.setTitle(l.t("commands.shareViewFiles.multiple.on",{smartKey:l.t("common.default").toUpperCase()})).setIcon("folder-up").onClick(()=>g(this,null,function*(){let u=mr(r.settings,null);yield Zr(r,e,n,u)})))})})}var ks=class extends Jr.Plugin{getTitleFieldForCommand(e,n){return en(fi(n,e,this.settings),this.settings)}chargeAllCommands(e,n,r){return g(this,null,function*(){n.settings.plugin.copyLink.addCmd&&this.addCommand(yield Vl(e,r,this)),this.addCommand(yield Hl(e,this,r)),this.addCommand(yield $l(this,e,r)),this.addCommand(yield Ul(this,e,r)),this.addCommand(yield ql(this,e,r)),this.addCommand(yield Wl(this,e,r)),this.addCommand(yield Kl(e,r,this)),this.addCommand(yield zl(this,e))})}cleanSpecificCommands(e){let n=this.app.commands.listCommands();for(let r of n)if(r.id.startsWith("obsidian-mkdocs-publisher")){let i=r.id.replace("obsidian-mkdocs-publisher:","").split("-"),s=i[i.length-1];s.startsWith("K")&&e.smartKey===s.replace("K","")&&this.app.commands.removeCommand(r.id)}}cleanOldCommands(){var r,i;let e=(i=(r=this.settings.github)==null?void 0:r.otherRepo)!=null?i:[],n=this.app.commands.listCommands();for(let s of n)if(s.id.startsWith("obsidian-mkdocs-publisher")){let a=s.id.replace("obsidian-mkdocs-publisher:","").split("-"),o=a[a.length-1];o.startsWith("K")&&e.findIndex(c=>c.smartKey===o.replace("K",""))===-1&&this.app.commands.removeCommand(s.id)}}reloadCommands(e){return g(this,null,function*(){var r,i;B("Reloading commands",this.settings);let n=(i=(r=this.settings.github)==null?void 0:r.otherRepo)!=null?i:[];this.cleanOldCommands();for(let s of n)s.createShortcuts?yield this.chargeAllCommands(s,this,e):this.cleanSpecificCommands(s)})}loadToken(){return g(this,null,function*(){let e=rn(this,this.settings.github.tokenPath);if(!(yield this.app.vault.adapter.exists(`${e}`)))return"";try{let r=yield this.app.vault.adapter.read(`${e}`);if(r)return r.split("=")[1]}catch(r){return""}})}reloadOctokit(){return g(this,null,function*(){let e,n=this.settings.github.api,r=yield this.loadToken();return n.tiersForApi===xe.entreprise&&n.hostname.length>0?e=new Zn({baseUrl:`${n.hostname}/api/v3`,auth:r}):e=new Zn({auth:r}),new cs(this.settings,e,this.app.vault,this.app.metadataCache,this)})}onload(){return g(this,null,function*(){console.log(`[GITHUB PUBLISHER] v.${this.manifest.version} (lang: ${Fs}) loaded`),yield l.init({lng:Fs,fallbackLng:"en",resources:ws,returnNull:!1}),yield this.loadSettings();let e=this.settings;yield br(e,this);let n=app.vault.getName().replaceAll(" ","-").replaceAll(".","-")+"-"+new Date().toLocaleDateString("en-US").replace(/\//g,"-");this.addSettingTab(new ki(this.app,this,n)),this.registerEvent(this.app.workspace.on("file-menu",(i,s)=>{Es(this,s,n,i)})),this.registerEvent(this.app.workspace.on("file-menu",(i,s)=>{this.settings.plugin.fileMenu&&s instanceof Jr.TFolder&&Zl(i,s,n,this)})),this.registerEvent(this.app.workspace.on("editor-menu",(i,s,a)=>{Es(this,a.file,n,i)})),yield this.chargeAllCommands(null,this,n),this.addCommand({id:"check-rate-limit",name:l.t("commands.checkValidity.rateLimit.command"),callback:()=>g(this,null,function*(){let i=yield this.reloadOctokit();yield nn(i.octokit,this.settings)})}),this.settings.github.otherRepo.length>0&&this.addCommand({id:"run-cmd-for-repo",name:l.t("commands.runOtherRepo.title"),callback:()=>g(this,null,function*(){new xs(this.app,this,n).open()})});let r=this.settings.github.otherRepo.filter(i=>i.createShortcuts);for(let i of r)yield this.chargeAllCommands(i,this,n)})}onunload(){console.log("[Github Publisher] unloaded")}loadSettings(){return g(this,null,function*(){this.settings=Object.assign({},Ns,yield this.loadData())})}saveSettings(){return g(this,null,function*(){yield this.saveData(this.settings)})}};0&&(module.exports={});
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
